import{s as D,d as Zd,l as Kd,e as To,g as Oo,c as tp,f as Do,a as Nn,i as ep}from"./utilities-ChN0Bo3U.js";let Fn="page-header";class np extends HTMLElement{constructor(){super()}connectedCallback(){this.setClass(),this.render()}render(){let p=D("hgroup",{class:"logo-wrap"}),m=Zd(),d=D("h1").inner("Newsify");p.append(m,d);let S=D("div",{class:`${this.className}__profile`}),v="Victor P.",w=D("div"),_=D("p").inner(this.timeSpecificGreeting()),W=D("p").inner(v);w.append(_,W);let z=this.profileSettingsBtn(v),E=this.settingsDialog();S.append(w,z,E),this.append(p,S),this.toggleSettingsDialog(z,E)}profileSettingsBtn(p){let m=D("button",{class:"settings-button"});{let d=p.split(" ");d=d[0].substring(0,1)+d[1].substring(0,1);let S=D("p").inner(d);m.append(S),m.style.backgroundColor=this.stringToHslColor(p,100,90),S.style.color=this.stringToHslColor(p,100,25)}return m}toggleSettingsDialog(p,m){p.onclick=()=>{m.open?m.close():(Kd(),m.showModal());let d=window.innerHeight-p.getBoundingClientRect().bottom-8;m.style.height=d+"px"},document.onkeydown=d=>{d.key==="Escape"&&(To(),m.close())}}settingsDialog(){let p=D("dialog",{class:"settings-dialog"}),m=D("div",{class:"settings-container"}),d=D("h2").inner("Profile Settings"),S=D("i",{class:"fas fa-cog"});d.prepend(S);let v=D("p").inner("Choose which categories you would like displayed on the home page");m.append(d,v);let w=tp();w.push({title:"Dark Mode",icon:"far fa-moon"});let _=Oo(w);console.log(_);const W=[];w.forEach((U,R)=>{let lt=D("div",{class:"settings-item"}),re=Do(U.title,U.icon),rt=D("input",{type:"checkbox",role:"switch"});rt.checked=_[R]!==!1,W.push(rt),rt.onclick=()=>{let tt=Oo(w);tt[R]=rt.checked,Nn("settingsArray",tt),R<w.length-1&&window.dispatchEvent(new Event("storageChanged")),this.updateToggleStates(tt,W)},lt.append(re,rt),m.append(lt)}),this.updateToggleStates(_,W),p.append(m);let z=D("div",{class:"settings-buttons"}),E=D("button",{class:"large-rounded settings"}).inner("Redo Onboarding");E.onclick=()=>{Nn("onboardingCompleted",!1),window.location.href="/onboarding"};let N=D("button",{class:"large-rounded settings"}).inner("Log Out");return N.onclick=()=>{Nn("loggedIn",!1),window.location.href="/login"},z.append(E,N),p.append(z),p.onclick=U=>{var R=p.getBoundingClientRect(),lt=R.top<=U.clientY&&U.clientY<=R.top+R.height&&R.left<=U.clientX&&U.clientX<=R.left+R.width;lt||(p.close(),To())},p}updateToggleStates(p,m,d=3){const S=p.filter(v=>v===!1).length;p.forEach((v,w)=>{const _=m[w];S>=d&&p[w]===!0?_.disabled=!0:_.disabled=!1})}timeSpecificGreeting(){var p=new Date,m=p.getHours();let d;return m<5?d="Hello there":m<12?d="Good Morning":m<18?d="Good Afternoon":d="Good Evening",d}stringToHslColor(p,m,d){for(var S=0,v=0;v<p.length;v++)S=p.charCodeAt(v)+((S<<5)-S);var w=S%360;return"hsl("+w+", "+m+"%, "+d+"%)"}setClass(){this.className=this.getAttribute("class")||Fn,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`)}}customElements.define(Fn,np);const Sp=Fn;let $n="news-section";class rp extends HTMLElement{set dataObject(p){this.props=p}constructor(){super(),this.props={}}connectedCallback(){this.setClass(),this.render()}render(){let p=D("details"),m=D("summary"),d=Do(this.props.title,this.props.icon),S=D("i",{class:"fas fa-chevron-right"}),v=D("div",{class:"content-div"});m.append(d,S),p.append(m,v),this.append(p),this.monitorItems(v,this)}monitorItems(p,m){const d=function(w,_){p.childElementCount<1&&m.remove()},S=new MutationObserver(d),v={childList:!0};S.observe(p,v)}setClass(){this.className=this.getAttribute("class")||$n,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`),this.role="region"}}customElements.define($n,rp);const vp=$n;function ip(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var Xe={exports:{}};/*!
 * Clamp.js 0.7.0
 *
 * Copyright 2011-2013, Joseph Schmitt http://joe.sh
 * Released under the WTFPL license
 * http://sam.zoy.org/wtfpl/
 */var sp=Xe.exports,Ao;function op(){return Ao||(Ao=1,function(C,p){(function(m,d){C.exports=d()})(sp,function(){function m(d,S){S=S||{};var v=window,w={clamp:S.clamp||2,useNativeClamp:typeof S.useNativeClamp<"u"?S.useNativeClamp:!0,splitOnChars:S.splitOnChars||[".","-","–","—"," "],animate:S.animate||!1,truncationChar:S.truncationChar||"…",truncationHTML:S.truncationHTML},_=d.style,W=d.innerHTML,z=typeof d.style.webkitLineClamp<"u",E=w.clamp,N=E.indexOf&&(E.indexOf("px")>-1||E.indexOf("em")>-1),U;w.truncationHTML&&(U=document.createElement("span"),U.innerHTML=w.truncationHTML);function R(L,et){return v.getComputedStyle||(v.getComputedStyle=function(ht,Ce){return this.el=ht,this.getPropertyValue=function(Ct){var se=/(\-([a-z]){1})/g;return Ct=="float"&&(Ct="styleFloat"),se.test(Ct)&&(Ct=Ct.replace(se,function(){return arguments[2].toUpperCase()})),ht.currentStyle&&ht.currentStyle[Ct]?ht.currentStyle[Ct]:null},this}),v.getComputedStyle(L,null).getPropertyValue(et)}function lt(L){var et=L||d.clientHeight,ht=rt(d);return Math.max(Math.floor(et/ht),0)}function re(L){var et=rt(d);return et*L}function rt(L){var et=R(L,"line-height");return et=="normal"&&(et=parseInt(R(L,"font-size"))*1.2),parseInt(et)}var tt=w.splitOnChars.slice(0),Ot=tt[0],dt,Se;function $t(L){return L.lastChild.children&&L.lastChild.children.length>0?$t(Array.prototype.slice.call(L.children).pop()):!L.lastChild||!L.lastChild.nodeValue||L.lastChild.nodeValue===""||L.lastChild.nodeValue==w.truncationChar?(L.lastChild.parentNode.removeChild(L.lastChild),$t(d)):L.lastChild}function qt(L,et){if(!et)return;function ht(){tt=w.splitOnChars.slice(0),Ot=tt[0],dt=null,Se=null}var Ce=L.nodeValue.replace(w.truncationChar,"");if(dt||(tt.length>0?Ot=tt.shift():Ot="",dt=Ce.split(Ot)),dt.length>1?(Se=dt.pop(),ve(L,dt.join(Ot))):dt=null,U&&(L.nodeValue=L.nodeValue.replace(w.truncationChar,""),d.innerHTML=L.nodeValue+" "+U.innerHTML+w.truncationChar),dt){if(d.clientHeight<=et)if(tt.length>=0&&Ot!=="")ve(L,dt.join(Ot)+Ot+Se),dt=null;else return d.innerHTML}else Ot===""&&(ve(L,""),L=$t(d),ht());if(w.animate)setTimeout(function(){qt(L,et)},w.animate===!0?10:w.animate);else return qt(L,et)}function ve(L,et){L.nodeValue=et+w.truncationChar}E=="auto"?E=lt():N&&(E=lt(parseInt(E)));var ie;if(z&&w.useNativeClamp)_.overflow="hidden",_.textOverflow="ellipsis",_.webkitBoxOrient="vertical",_.display="-webkit-box",_.webkitLineClamp=E,N&&(_.height=w.clamp+"px");else{var zt=re(E);zt<=d.clientHeight&&(ie=qt($t(d),zt))}return{original:W,clamped:ie}}return m})}(Xe)),Xe.exports}var lp=op();const Po=ip(lp);function ne(){return new Promise((C,p)=>{const m=indexedDB.open("articlesNYT",1);m.onupgradeneeded=d=>{const S=d.target.result;if(!S.objectStoreNames.contains("articles")){const v=S.createObjectStore("articles",{keyPath:"id"});v.createIndex("published_date","published_date",{unique:!1}),v.createIndex("category","category",{unique:!1})}if(!S.objectStoreNames.contains("favorites")){const v=S.createObjectStore("favorites",{keyPath:"id"});v.createIndex("published_date","published_date",{unique:!1}),v.createIndex("category","category",{unique:!1})}},m.onsuccess=d=>{C(d.target.result)},m.onerror=d=>{p(d.target.error)}})}async function Cp(C){const m=(await ne()).transaction("articles","readwrite"),d=m.objectStore("articles");return C.forEach(S=>{d.put(S)}),m.complete}async function wp(C){const d=(await ne()).transaction("articles","readwrite").objectStore("articles"),S=d.index("category");return new Promise((v,w)=>{let _=26784e5,W=20;const z=S.getAll(C);z.onsuccess=()=>{let E=z.result;E.forEach((N,U)=>{let R=Math.floor(new Date(N.pub_date).getTime());(Date.now()-R>_||U>=W)&&(console.log("Article is old and will be deleted"),d.delete(N.id))}),v(E)},z.onerror=()=>w(z.error)})}async function ap(C){const m=(await ne()).transaction(["favorites"],"readwrite");return m.objectStore("favorites").put({id:C.id,title:C.title,abstract:C.abstract,thumbnail:C.thumbnail,byline:C.byline,category:C.category,pub_date:C.pub_date,url:C.url,favoritedAt:new Date().toISOString()}),m.complete}async function cp(C){const m=(await ne()).transaction(["favorites"],"readwrite");return m.objectStore("favorites").delete(C),m.complete}async function _o(C){const p=await ne();return new Promise((m,d)=>{const w=p.transaction(["favorites"],"readonly").objectStore("favorites").get(C);w.onsuccess=()=>m(!!w.result),w.onerror=()=>d(w.error)})}async function xp(C){const S=(await ne()).transaction("favorites","readonly").objectStore("favorites").index("category");return new Promise((v,w)=>{const _=S.getAll(C);_.onsuccess=()=>{v(_.result)},_.onerror=()=>{w(_.error)}})}async function Lp(){const d=(await ne()).transaction("favorites","readonly").objectStore("favorites").getAll();return new Promise((S,v)=>{d.onsuccess=()=>{const w=[...new Set(d.result.map(_=>_.category))];S(w)},d.onerror=()=>{v(d.error)}})}let zn="article-item";class up extends HTMLElement{set dataObject(p){this.props=p}constructor(){super(),this.props={}}connectedCallback(){this.setClass(),this.render()}render(){let p=ep(this.className),m=D("img",{class:`${this.className}__img`,src:this.props.thumbnail});p.append(m);let d=D("article"),S=D("hgroup"),v=D("a",{href:this.props.url,target:"_blank"}).inner(this.props.title),w=D("h3",{lang:"en"}),_=D("i",{class:"fas fa-external"});w.append(_,v);let W=D("p").inner(this.byline());Po(W,{clamp:1}),S.append(w,W);let z=D("p",{class:"summary"}).inner(this.props.abstract||"This article has no preview.");d.append(S,z);let E=D("div",{class:`${this.className}__swipe-box`}),N=D("i",{class:"far fa-bookmark"});E.append(N),this.append(p,d,E),this.clampText(z,S),this.handleSwipe(E,N)}clampText(p,m){new ResizeObserver(()=>{let d=2;m.clientHeight>40&&(d=1),Po(p,{clamp:d})}).observe(this)}byline(){let p=this.formatDate();return this.props.byline&&(p+=` — ${this.props.byline}`),p}handleSwipe(p,m){const d=this;let S=0,v=0,w=!1,_=-100,W=!1,z=!1;d.addEventListener("click",E=>{let N=E.clientX-S;Math.abs(N)<5&&window.open(this.props.url,"_blank").focus()}),d.addEventListener("pointerdown",async E=>{S=E.clientX,w=!0,W=!1,z=!1,d.style.transition="none",d.setPointerCapture(E.pointerId),await _o(this.props.id)?(p.style.backgroundColor="#FF5D5D",m.className="fas fa-trash-alt"):(p.style.backgroundColor="#4D861F",m.className="far fa-bookmark")}),d.addEventListener("pointermove",E=>{if(!w)return;let N=E.clientX-S;N<0?(v=N,v<-120&&(v=-120),W=!0):W?(v=N,v>0&&(v=0)):v=0,v<=_?(m.classList.add("activated"),p.style.opacity=.85):(m.classList.remove("activated"),p.style.opacity=1),Math.abs(N)>5&&(z=!0),d.style.transform=`translateX(${v}px)`}),d.addEventListener("pointerup",async E=>{w=!1,d.releasePointerCapture(E.pointerId);let N="";if(v<=_?(N="transform 300ms 2000ms ease",await _o(this.props.id)?(window.location.pathname==="/saved"&&(N+=", opacity 300ms ease",d.style.opacity=.2,setTimeout(()=>d.remove(),300)),cp(this.props.id)):ap(this.props)):N="transform 300ms ease",d.style.transition=N,d.style.transform="translateX(0)",m.className="far fa-check-circle",!z){const U=document.elementFromPoint(E.clientX,E.clientY);U&&U.closest("a")&&U.click()}})}formatDate(){const p=this.props.pub_date,m=new Date(p),d={weekday:"long",year:"numeric",month:"long",day:"numeric"};return m.toLocaleDateString("en-US",d)}setClass(){this.className=this.getAttribute("class")||zn,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`)}}customElements.define(zn,up);const Tp=zn;let Bn="nav-footer";class hp extends HTMLElement{constructor(){super()}connectedCallback(){this.setClass(),this.render()}render(){let p=D("nav");this.linkArray().forEach(d=>{let S=this.createNavLink(d.title,d.href,d.icon);p.append(S)}),this.append(p)}linkArray(){return[{title:"Home",icon:"fas fa-home",href:"/"},{title:"Saved",icon:"fas fa-bookmark",href:"/saved"},{title:"Popular",icon:"fas fa-star",href:"/popular"}]}createNavLink(p,m,d){let S=D("i",{class:d}),v=D("a",{href:m}).inner(p);return m===window.location.pathname&&v.setAttribute("aria-current","page"),v.prepend(S),v}setClass(){this.className=this.getAttribute("class")||Bn,this._classModifier=this.getAttribute("class-mod"),this._classModifier&&this.classList.add(`${this.className}--${this._classModifier}`)}}customElements.define(Bn,hp);const Op=Bn;var fp=Object.defineProperty,dp=Object.defineProperties,pp=Object.getOwnPropertyDescriptors,Eo=Object.getOwnPropertySymbols,mp=Object.prototype.hasOwnProperty,gp=Object.prototype.propertyIsEnumerable,jo=(C,p,m)=>p in C?fp(C,p,{enumerable:!0,configurable:!0,writable:!0,value:m}):C[p]=m,ut=(C,p)=>{for(var m in p||(p={}))mp.call(p,m)&&jo(C,m,p[m]);if(Eo)for(var m of Eo(p))gp.call(p,m)&&jo(C,m,p[m]);return C},vt=(C,p)=>dp(C,pp(p)),yp=(C,p)=>()=>(p||C((p={exports:{}}).exports,p),p.exports),G=(C,p,m)=>new Promise((d,S)=>{var v=W=>{try{_(m.next(W))}catch(z){S(z)}},w=W=>{try{_(m.throw(W))}catch(z){S(z)}},_=W=>W.done?d(W.value):Promise.resolve(W.value).then(v,w);_((m=m.apply(C,p)).next())}),kp=yp(C=>{const p=Math.min,m=Math.max,d=Math.round,S=Math.floor,v=t=>({x:t,y:t});function w(t,e){return typeof t=="function"?t(e):t}function _(t){return ut({top:0,right:0,bottom:0,left:0},t)}function W(t){return typeof t!="number"?_(t):{top:t,right:t,bottom:t,left:t}}function z(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function E(t,e){return G(this,null,function*(){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:a}=t,{boundary:s="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:k=0}=w(e,t),g=W(k),b=c[f?h==="floating"?"reference":"floating":h],O=z(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(b))==null||n?b:b.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:s,rootBoundary:u,strategy:a})),x=h==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,H=yield o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating),I=(yield o.isElement==null?void 0:o.isElement(H))?(yield o.getScale==null?void 0:o.getScale(H))||{x:1,y:1}:{x:1,y:1},B=z(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:H,strategy:a}):x);return{top:(O.top-B.top+g.top)/I.y,bottom:(B.bottom-O.bottom+g.bottom)/I.y,left:(O.left-B.left+g.left)/I.x,right:(B.right-O.right+g.right)/I.x}})}function N(){return typeof window<"u"}function U(t){return re(t)?(t.nodeName||"").toLowerCase():"#document"}function R(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lt(t){var e;return(e=(re(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function re(t){return N()?t instanceof Node||t instanceof R(t).Node:!1}function rt(t){return N()?t instanceof Element||t instanceof R(t).Element:!1}function tt(t){return N()?t instanceof HTMLElement||t instanceof R(t).HTMLElement:!1}function Ot(t){return!N()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof R(t).ShadowRoot}function dt(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=L(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Se(t){return["table","td","th"].includes(U(t))}function $t(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qt(t){const e=ie(),n=rt(t)?L(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ve(t){let e=ht(t);for(;tt(e)&&!zt(e);){if(qt(e))return e;if($t(e))return null;e=ht(e)}return null}function ie(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zt(t){return["html","body","#document"].includes(U(t))}function L(t){return R(t).getComputedStyle(t)}function et(t){return rt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ht(t){if(U(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ot(t)&&t.host||lt(t);return Ot(e)?e.host:e}function Ce(t){const e=ht(t);return zt(e)?t.ownerDocument?t.ownerDocument.body:t.body:tt(e)&&dt(e)?e:Ce(e)}function Ct(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ce(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=R(i);if(o){const c=se(l);return e.concat(l,l.visualViewport||[],dt(i)?i:[],c&&n?Ct(c):[])}return e.concat(i,Ct(i,[],n))}function se(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wn(t){const e=L(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=tt(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=d(n)!==o||d(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Qe(t){return rt(t)?t:t.contextElement}function oe(t){const e=Qe(t);if(!tt(e))return v(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Wn(e);let l=(o?d(n.width):n.width)/r,c=(o?d(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Io=v(0);function Un(t){const e=R(t);return!ie()||!e.visualViewport?Io:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Mo(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==R(t)?!1:e}function Gt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Qe(t);let l=v(1);e&&(r?rt(r)&&(l=oe(r)):l=oe(t));const c=Mo(o,n,r)?Un(o):v(0);let a=(i.left+c.x)/l.x,s=(i.top+c.y)/l.y,u=i.width/l.x,h=i.height/l.y;if(o){const f=R(o),k=r&&rt(r)?R(r):r;let g=f,b=se(g);for(;b&&r&&k!==g;){const O=oe(b),x=b.getBoundingClientRect(),H=L(b),I=x.left+(b.clientLeft+parseFloat(H.paddingLeft))*O.x,B=x.top+(b.clientTop+parseFloat(H.paddingTop))*O.y;a*=O.x,s*=O.y,u*=O.x,h*=O.y,a+=I,s+=B,g=R(b),b=se(g)}}return z({width:u,height:h,x:a,y:s})}function Ye(t,e){const n=et(t).scrollLeft;return e?e.left+n:Gt(lt(t)).left+n}function Hn(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ye(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Ro(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=lt(r),c=e?$t(e.floating):!1;if(r===l||c&&o)return n;let a={scrollLeft:0,scrollTop:0},s=v(1);const u=v(0),h=tt(r);if((h||!h&&!o)&&((U(r)!=="body"||dt(l))&&(a=et(r)),tt(r))){const k=Gt(r);s=oe(r),u.x=k.x+r.clientLeft,u.y=k.y+r.clientTop}const f=l&&!h&&!o?Hn(l,a,!0):v(0);return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-a.scrollLeft*s.x+u.x+f.x,y:n.y*s.y-a.scrollTop*s.y+u.y+f.y}}function No(t){return Array.from(t.getClientRects())}function Fo(t){const e=lt(t),n=et(t),r=t.ownerDocument.body,i=m(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=m(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Ye(t);const c=-n.scrollTop;return L(r).direction==="rtl"&&(l+=m(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function $o(t,e){const n=R(t),r=lt(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,a=0;if(i){o=i.width,l=i.height;const s=ie();(!s||s&&e==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:o,height:l,x:c,y:a}}function zo(t,e){const n=Gt(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=tt(t)?oe(t):v(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,a=i*o.x,s=r*o.y;return{width:l,height:c,x:a,y:s}}function Vn(t,e,n){let r;if(e==="viewport")r=$o(t,n);else if(e==="document")r=Fo(lt(t));else if(rt(e))r=zo(e,n);else{const i=Un(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return z(r)}function qn(t,e){const n=ht(t);return n===e||!rt(n)||zt(n)?!1:L(n).position==="fixed"||qn(n,e)}function Bo(t,e){const n=e.get(t);if(n)return n;let r=Ct(t,[],!1).filter(c=>rt(c)&&U(c)!=="body"),i=null;const o=L(t).position==="fixed";let l=o?ht(t):t;for(;rt(l)&&!zt(l);){const c=L(l),a=qt(l);!a&&c.position==="fixed"&&(i=null),(o?!a&&!i:!a&&c.position==="static"&&i&&["absolute","fixed"].includes(i.position)||dt(l)&&!a&&qn(t,l))?r=r.filter(s=>s!==l):i=c,l=ht(l)}return e.set(t,r),r}function Wo(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?$t(e)?[]:Bo(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((a,s)=>{const u=Vn(e,s,i);return a.top=m(u.top,a.top),a.right=p(u.right,a.right),a.bottom=p(u.bottom,a.bottom),a.left=m(u.left,a.left),a},Vn(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Uo(t){const{width:e,height:n}=Wn(t);return{width:e,height:n}}function Ho(t,e,n){const r=tt(e),i=lt(e),o=n==="fixed",l=Gt(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const a=v(0);if(r||!r&&!o)if((U(e)!=="body"||dt(i))&&(c=et(e)),r){const f=Gt(e,!0,o,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else i&&(a.x=Ye(i));const s=i&&!r&&!o?Hn(i,c):v(0),u=l.left+c.scrollLeft-a.x-s.x,h=l.top+c.scrollTop-a.y-s.y;return{x:u,y:h,width:l.width,height:l.height}}function Je(t){return L(t).position==="static"}function Gn(t,e){if(!tt(t)||L(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lt(t)===n&&(n=n.ownerDocument.body),n}function Xn(t,e){const n=R(t);if($t(t))return n;if(!tt(t)){let i=ht(t);for(;i&&!zt(i);){if(rt(i)&&!Je(i))return i;i=ht(i)}return n}let r=Gn(t,e);for(;r&&Se(r)&&Je(r);)r=Gn(r,e);return r&&zt(r)&&Je(r)&&!qt(r)?n:r||ve(t)||n}const Vo=function(t){return G(this,null,function*(){const e=this.getOffsetParent||Xn,n=this.getDimensions,r=yield n(t.floating);return{reference:Ho(t.reference,yield e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function qo(t){return L(t).direction==="rtl"}const wt={convertOffsetParentRelativeRectToViewportRelativeRect:Ro,getDocumentElement:lt,getClippingRect:Wo,getOffsetParent:Xn,getElementRects:Vo,getClientRects:No,getDimensions:Uo,getScale:oe,isElement:rt,isRTL:qo};function Qn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Go(t,e){let n=null,r;const i=lt(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),o();const s=t.getBoundingClientRect(),{left:u,top:h,width:f,height:k}=s;if(c||e(),!f||!k)return;const g=S(h),b=S(i.clientWidth-(u+f)),O=S(i.clientHeight-(h+k)),x=S(u),H={rootMargin:-g+"px "+-b+"px "+-O+"px "+-x+"px",threshold:m(0,p(1,a))||1};let I=!0;function B(P){const $=P[0].intersectionRatio;if($!==a){if(!I)return l();$?l(!1,$):r=setTimeout(()=>{l(!1,1e-7)},1e3)}$===1&&!Qn(s,t.getBoundingClientRect())&&l(),I=!1}try{n=new IntersectionObserver(B,vt(ut({},H),{root:i.ownerDocument}))}catch{n=new IntersectionObserver(B,H)}n.observe(t)}return l(!0),o}function Ze(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,s=Qe(t),u=i||o?[...s?Ct(s):[],...Ct(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=s&&c?Go(s,n):null;let f=-1,k=null;l&&(k=new ResizeObserver(x=>{let[H]=x;H&&H.target===s&&k&&(k.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var I;(I=k)==null||I.observe(e)})),n()}),s&&!a&&k.observe(s),k.observe(e));let g,b=a?Gt(t):null;a&&O();function O(){const x=Gt(t);b&&!Qn(b,x)&&n(),b=x,g=requestAnimationFrame(O)}return n(),()=>{var x;u.forEach(H=>{i&&H.removeEventListener("scroll",n),o&&H.removeEventListener("resize",n)}),h==null||h(),(x=k)==null||x.disconnect(),k=null,a&&cancelAnimationFrame(g)}}const Xo=E,{hasOwnProperty:Ke}=Object.prototype,we=function(){};function Yn(t){return typeof t=="function"?t:we}function Jn(t,e){return function(n,r,i){n.type===e&&t.call(this,n,r,i)}}function Qo(t,e){const n=e.structure,r=[];for(const i in n){if(Ke.call(n,i)===!1)continue;let o=n[i];const l={name:i,type:!1,nullable:!1};Array.isArray(o)||(o=[o]);for(const c of o)c===null?l.nullable=!0:typeof c=="string"?l.type="node":Array.isArray(c)&&(l.type="list");l.type&&r.push(l)}return r.length?{context:e.walkContext,fields:r}:null}function Yo(t){const e={};for(const n in t.node)if(Ke.call(t.node,n)){const r=t.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=Qo(n,r)}return e}function Zn(t,e){const n=t.fields.slice(),r=t.context,i=typeof r=="string";return e&&n.reverse(),function(o,l,c,a){let s;i&&(s=l[r],l[r]=o);for(const u of n){const h=o[u.name];if(!u.nullable||h){if(u.type==="list"){if(e?h.reduceRight(a,!1):h.reduce(a,!1))return!0}else if(c(h))return!0}}i&&(l[r]=s)}}function Kn({StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:i}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:i}}}function Jo(t){const e=Yo(t),n={},r={},i=Symbol("break-walk"),o=Symbol("skip-node");for(const s in e)Ke.call(e,s)&&e[s]!==null&&(n[s]=Zn(e[s],!1),r[s]=Zn(e[s],!0));const l=Kn(n),c=Kn(r),a=function(s,u){function h(x,H,I){const B=f.call(O,x,H,I);return B===i?!0:B===o?!1:!!(g.hasOwnProperty(x.type)&&g[x.type](x,O,h,b)||k.call(O,x,H,I)===i)}let f=we,k=we,g=n,b=(x,H,I,B)=>x||h(H,I,B);const O={break:i,skip:o,root:s,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof u=="function")f=u;else if(u&&(f=Yn(u.enter),k=Yn(u.leave),u.reverse&&(g=r),u.visit)){if(l.hasOwnProperty(u.visit))g=u.reverse?c[u.visit]:l[u.visit];else if(!e.hasOwnProperty(u.visit))throw new Error("Bad value `"+u.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");f=Jn(f,u.visit),k=Jn(k,u.visit)}if(f===we&&k===we)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");h(s)};return a.break=i,a.skip=o,a.find=function(s,u){let h=null;return a(s,function(f,k,g){if(u.call(this,f,k,g))return h=f,i}),h},a.findLast=function(s,u){let h=null;return a(s,{reverse:!0,enter(f,k,g){if(u.call(this,f,k,g))return h=f,i}}),h},a.findAll=function(s,u){const h=[];return a(s,function(f,k,g){u.call(this,f,k,g)&&h.push(f)}),h},a}const Wt=0,y=1,j=2,at=3,Q=4,Bt=5,Zo=6,pt=7,_t=8,F=9,A=10,nt=11,M=12,it=13,_e=14,xt=15,mt=16,bt=17,Et=18,le=19,xe=20,q=21,T=22,jt=23,ae=24,gt=25,Ko=0;function Lt(t){return t>=48&&t<=57}function ce(t){return Lt(t)||t>=65&&t<=70||t>=97&&t<=102}function tn(t){return t>=65&&t<=90}function tl(t){return t>=97&&t<=122}function el(t){return tn(t)||tl(t)}function nl(t){return t>=128}function Ee(t){return el(t)||nl(t)||t===95}function tr(t){return Ee(t)||Lt(t)||t===45}function rl(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function je(t){return t===10||t===13||t===12}function Xt(t){return je(t)||t===32||t===9}function It(t,e){return!(t!==92||je(e)||e===Ko)}function en(t,e,n){return t===45?Ee(e)||e===45||It(e,n):Ee(t)?!0:t===92?It(t,e):!1}function nn(t,e,n){return t===43||t===45?Lt(e)?2:e===46&&Lt(n)?3:0:t===46?Lt(e)?2:0:Lt(t)?1:0}function er(t){return t===65279||t===65534?1:0}const rn=new Array(128),il=128,De=130,nr=131,sn=132,rr=133;for(let t=0;t<rn.length;t++)rn[t]=Xt(t)&&De||Lt(t)&&nr||Ee(t)&&sn||rl(t)&&rr||t||il;function on(t){return t<128?rn[t]:sn}function ue(t,e){return e<t.length?t.charCodeAt(e):0}function ln(t,e,n){return n===13&&ue(t,e+1)===10?2:1}function ir(t,e,n){let r=t.charCodeAt(e);return tn(r)&&(r=r|32),r===n}function Ie(t,e,n,r){if(n-e!==r.length||e<0||n>t.length)return!1;for(let i=e;i<n;i++){const o=r.charCodeAt(i-e);let l=t.charCodeAt(i);if(tn(l)&&(l=l|32),l!==o)return!1}return!0}function sl(t,e){for(;e>=0&&Xt(t.charCodeAt(e));e--);return e+1}function Me(t,e){for(;e<t.length&&Xt(t.charCodeAt(e));e++);return e}function an(t,e){for(;e<t.length&&Lt(t.charCodeAt(e));e++);return e}function he(t,e){if(e+=2,ce(ue(t,e-1))){for(const r=Math.min(t.length,e+5);e<r&&ce(ue(t,e));e++);const n=ue(t,e);Xt(n)&&(e+=ln(t,e,n))}return e}function Re(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(!tr(n)){if(It(n,ue(t,e+1))){e=he(t,e)-1;continue}break}}return e}function sr(t,e){let n=t.charCodeAt(e);if((n===43||n===45)&&(n=t.charCodeAt(e+=1)),Lt(n)&&(e=an(t,e+1),n=t.charCodeAt(e)),n===46&&Lt(t.charCodeAt(e+1))&&(e+=2,e=an(t,e)),ir(t,e,101)){let r=0;n=t.charCodeAt(e+1),(n===45||n===43)&&(r=1,n=t.charCodeAt(e+2)),Lt(n)&&(e=an(t,e+1+r+1))}return e}function cn(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(n===41){e++;break}It(n,ue(t,e+1))&&(e=he(t,e))}return e}function or(t){if(t.length===1&&!ce(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}const lr=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","comment-token"],ol=16*1024;function Ne(t=null,e){return t===null||t.length<e?new Uint32Array(Math.max(e+1024,ol)):t}const ar=10,ll=12,cr=13;function ur(t){const e=t.source,n=e.length,r=e.length>0?er(e.charCodeAt(0)):0,i=Ne(t.lines,n),o=Ne(t.columns,n);let l=t.startLine,c=t.startColumn;for(let a=r;a<n;a++){const s=e.charCodeAt(a);i[a]=l,o[a]=c++,(s===ar||s===cr||s===ll)&&(s===cr&&a+1<n&&e.charCodeAt(a+1)===ar&&(a++,i[a]=l,o[a]=c),l++,c=1)}i[n]=l,o[n]=c,t.lines=i,t.columns=o,t.computed=!0}class al{constructor(e,n,r,i){this.setSource(e,n,r,i),this.lines=null,this.columns=null}setSource(e="",n=0,r=1,i=1){this.source=e,this.startOffset=n,this.startLine=r,this.startColumn=i,this.computed=!1}getLocation(e,n){return this.computed||ur(this),{source:n,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,n,r){return this.computed||ur(this),{source:r,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+n,line:this.lines[n],column:this.columns[n]}}}}const Mt=16777215,Rt=24,Qt=new Uint8Array(32);Qt[j]=T,Qt[q]=T,Qt[le]=xe,Qt[jt]=ae;function hr(t){return Qt[t]!==0}class cl{constructor(e,n){this.setSource(e,n)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",n=()=>{}){e=String(e||"");const r=e.length,i=Ne(this.offsetAndType,e.length+1),o=Ne(this.balance,e.length+1);let l=0,c=-1,a=0,s=e.length;this.offsetAndType=null,this.balance=null,o.fill(0),n(e,(u,h,f)=>{const k=l++;if(i[k]=u<<Rt|f,c===-1&&(c=h),o[k]=s,u===a){const g=o[s];o[s]=k,s=g,a=Qt[i[g]>>Rt]}else hr(u)&&(s=k,a=Qt[u])}),i[l]=Wt<<Rt|r,o[l]=l;for(let u=0;u<l;u++){const h=o[u];if(h<=u){const f=o[h];f!==u&&(o[u]=f)}else h>l&&(o[u]=l)}this.source=e,this.firstCharOffset=c===-1?0:c,this.tokenCount=l,this.offsetAndType=i,this.balance=o,this.reset(),this.next()}lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>Rt:Wt}lookupTypeNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>Rt;if(r!==it&&r!==gt&&e--===0)return r}return Wt}lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e-1]&Mt:this.source.length}lookupOffsetNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>Rt;if(r!==it&&r!==gt&&e--===0)return n-this.tokenIndex}return Wt}lookupValue(e,n){return e+=this.tokenIndex,e<this.tokenCount?Ie(this.source,this.offsetAndType[e-1]&Mt,this.offsetAndType[e]&Mt,n):!1}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&Mt:this.offsetAndType[this.tokenCount]&Mt:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,n){return n?this.lookupType(n)===F&&this.source.charCodeAt(this.lookupOffset(n))===e:this.tokenType===F&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let n=this.tokenIndex+e;n<this.tokenCount?(this.tokenIndex=n,this.tokenStart=this.offsetAndType[n-1]&Mt,n=this.offsetAndType[n],this.tokenType=n>>Rt,this.tokenEnd=n&Mt):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>Rt,this.tokenEnd=e&Mt):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=Wt,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===it||this.tokenType===gt;)this.next()}skipUntilBalanced(e,n){let r=e,i=0,o=0;t:for(;r<this.tokenCount;r++){if(i=this.balance[r],i<e)break t;switch(o=r>0?this.offsetAndType[r-1]&Mt:this.firstCharOffset,n(this.source.charCodeAt(o))){case 1:break t;case 2:r++;break t;default:hr(this.offsetAndType[r]>>Rt)&&(r=i)}}this.skip(r-this.tokenIndex)}forEachToken(e){for(let n=0,r=this.firstCharOffset;n<this.tokenCount;n++){const i=r,o=this.offsetAndType[n],l=o&Mt,c=o>>Rt;r=l,e(c,i,l,n)}}dump(){const e=new Array(this.tokenCount);return this.forEachToken((n,r,i,o)=>{e[o]={idx:o,type:lr[n],chunk:this.source.substring(r,i),balance:this.balance[o]}}),e}}function fr(t,e){function n(h){return h<c?t.charCodeAt(h):0}function r(){if(s=sr(t,s),en(n(s),n(s+1),n(s+2))){u=M,s=Re(t,s);return}if(n(s)===37){u=nt,s++;return}u=A}function i(){const h=s;if(s=Re(t,s),Ie(t,h,s,"url")&&n(s)===40){if(s=Me(t,s+1),n(s)===34||n(s)===39){u=j,s=h+4;return}l();return}if(n(s)===40){u=j,s++;return}u=y}function o(h){for(h||(h=n(s++)),u=Bt;s<t.length;s++){const f=t.charCodeAt(s);switch(on(f)){case h:s++;return;case De:if(je(f)){s+=ln(t,s,f),u=Zo;return}break;case 92:if(s===t.length-1)break;const k=n(s+1);je(k)?s+=ln(t,s+1,k):It(f,k)&&(s=he(t,s)-1);break}}}function l(){for(u=pt,s=Me(t,s);s<t.length;s++){const h=t.charCodeAt(s);switch(on(h)){case 41:s++;return;case De:if(s=Me(t,s),n(s)===41||s>=t.length){s<t.length&&s++;return}s=cn(t,s),u=_t;return;case 34:case 39:case 40:case rr:s=cn(t,s),u=_t;return;case 92:if(It(h,n(s+1))){s=he(t,s)-1;break}s=cn(t,s),u=_t;return}}}t=String(t||"");const c=t.length;let a=er(n(0)),s=a,u;for(;s<c;){const h=t.charCodeAt(s);switch(on(h)){case De:u=it,s=Me(t,s+1);break;case 34:o();break;case 35:tr(n(s+1))||It(n(s+1),n(s+2))?(u=Q,s=Re(t,s+1)):(u=F,s++);break;case 39:o();break;case 40:u=q,s++;break;case 41:u=T,s++;break;case 43:nn(h,n(s+1),n(s+2))?r():(u=F,s++);break;case 44:u=Et,s++;break;case 45:nn(h,n(s+1),n(s+2))?r():n(s+1)===45&&n(s+2)===62?(u=xt,s=s+3):en(h,n(s+1),n(s+2))?i():(u=F,s++);break;case 46:nn(h,n(s+1),n(s+2))?r():(u=F,s++);break;case 47:n(s+1)===42?(u=gt,s=t.indexOf("*/",s+2),s=s===-1?t.length:s+2):(u=F,s++);break;case 58:u=mt,s++;break;case 59:u=bt,s++;break;case 60:n(s+1)===33&&n(s+2)===45&&n(s+3)===45?(u=_e,s=s+4):(u=F,s++);break;case 64:en(n(s+1),n(s+2),n(s+3))?(u=at,s=Re(t,s+1)):(u=F,s++);break;case 91:u=le,s++;break;case 92:It(h,n(s+1))?i():(u=F,s++);break;case 93:u=xe,s++;break;case 123:u=jt,s++;break;case 125:u=ae,s++;break;case nr:r();break;case sn:i();break;default:u=F,s++}e(u,a,a=s)}}const Nt=43,Tt=45,Fe=110,Yt=!0,ul=!1;function $e(t,e){let n=this.tokenStart+t;const r=this.charCodeAt(n);for((r===Nt||r===Tt)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)Lt(this.charCodeAt(n))||this.error("Integer is expected",n)}function fe(t){return $e.call(this,0,t)}function Ut(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case Fe:n="N is expected";break;case Tt:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function un(){let t=0,e=0,n=this.tokenType;for(;n===it||n===gt;)n=this.lookupType(++t);if(n!==A)if(this.isDelim(Nt,t)||this.isDelim(Tt,t)){e=this.isDelim(Nt,t)?Nt:Tt;do n=this.lookupType(++t);while(n===it||n===gt);n!==A&&(this.skip(t),fe.call(this,Yt))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==Nt&&n!==Tt&&this.error("Number sign is expected")),fe.call(this,e!==0),e===Tt?"-"+this.consume(A):this.consume(A)}const hl="AnPlusB",fl={a:[String,null],b:[String,null]};function dr(){const t=this.tokenStart;let e=null,n=null;if(this.tokenType===A)fe.call(this,ul),n=this.consume(A);else if(this.tokenType===y&&this.cmpChar(this.tokenStart,Tt))switch(e="-1",Ut.call(this,1,Fe),this.tokenEnd-this.tokenStart){case 2:this.next(),n=un.call(this);break;case 3:Ut.call(this,2,Tt),this.next(),this.skipSC(),fe.call(this,Yt),n="-"+this.consume(A);break;default:Ut.call(this,2,Tt),$e.call(this,3,Yt),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===y||this.isDelim(Nt)&&this.lookupType(1)===y){let r=0;switch(e="1",this.isDelim(Nt)&&(r=1,this.next()),Ut.call(this,0,Fe),this.tokenEnd-this.tokenStart){case 1:this.next(),n=un.call(this);break;case 2:Ut.call(this,1,Tt),this.next(),this.skipSC(),fe.call(this,Yt),n="-"+this.consume(A);break;default:Ut.call(this,1,Tt),$e.call(this,2,Yt),this.next(),n=this.substrToCursor(t+r+1)}}else if(this.tokenType===M){const r=this.charCodeAt(this.tokenStart),i=r===Nt||r===Tt;let o=this.tokenStart+i;for(;o<this.tokenEnd&&Lt(this.charCodeAt(o));o++);o===this.tokenStart+i&&this.error("Integer is expected",this.tokenStart+i),Ut.call(this,o-this.tokenStart,Fe),e=this.substring(t,o),o+1===this.tokenEnd?(this.next(),n=un.call(this)):(Ut.call(this,o-this.tokenStart+1,Tt),o+2===this.tokenEnd?(this.next(),this.skipSC(),fe.call(this,Yt),n="-"+this.consume(A)):($e.call(this,o-this.tokenStart+2,Yt),this.next(),n=this.substrToCursor(o+1)))}else this.error();return e!==null&&e.charCodeAt(0)===Nt&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===Nt&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function pr(t){if(t.a){const e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){const n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}const dl=Object.freeze(Object.defineProperty({__proto__:null,generate:pr,name:hl,parse:dr,structure:fl},Symbol.toStringTag,{value:"Module"}));function mr(){return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function pl(){for(let t=1,e;e=this.lookupType(t);t++){if(e===ae)return!0;if(e===jt||e===at)return!1}return!1}const ml="Atrule",gl="atrule",yl={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function gr(t=!1){const e=this.tokenStart;let n,r,i=null,o=null;switch(this.eat(at),n=this.substrToCursor(e+1),r=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==jt&&this.tokenType!==bt&&(this.parseAtrulePrelude?i=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),mr):i=mr.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case bt:this.next();break;case jt:hasOwnProperty.call(this.atrule,r)&&typeof this.atrule[r].block=="function"?o=this.atrule[r].block.call(this,t):o=this.Block(pl.call(this));break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:i,block:o}}function yr(t){this.token(at,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?this.node(t.block):this.token(bt,";")}const kl=Object.freeze(Object.defineProperty({__proto__:null,generate:yr,name:ml,parse:gr,structure:yl,walkContext:gl},Symbol.toStringTag,{value:"Module"})),bl="AtrulePrelude",Sl="atrulePrelude",vl={children:[[]]};function kr(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==jt&&this.tokenType!==bt&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function br(t){this.children(t)}const Cl=Object.freeze(Object.defineProperty({__proto__:null,generate:br,name:bl,parse:kr,structure:vl,walkContext:Sl},Symbol.toStringTag,{value:"Module"})),wl=36,Sr=42,ze=61,xl=94,hn=124,Ll=126;function Tl(){this.eof&&this.error("Unexpected end of input");const t=this.tokenStart;let e=!1;return this.isDelim(Sr)?(e=!0,this.next()):this.isDelim(hn)||this.eat(y),this.isDelim(hn)?this.charCodeAt(this.tokenStart+1)!==ze?(this.next(),this.eat(y)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function Ol(){const t=this.tokenStart,e=this.charCodeAt(t);return e!==ze&&e!==Ll&&e!==xl&&e!==wl&&e!==Sr&&e!==hn&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==ze&&(this.isDelim(ze)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}const Al="AttributeSelector",Pl={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function vr(){const t=this.tokenStart;let e,n=null,r=null,i=null;return this.eat(le),this.skipSC(),e=Tl.call(this),this.skipSC(),this.tokenType!==xe&&(this.tokenType!==y&&(n=Ol.call(this),this.skipSC(),r=this.tokenType===Bt?this.String():this.Identifier(),this.skipSC()),this.tokenType===y&&(i=this.consume(y),this.skipSC())),this.eat(xe),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:r,flags:i}}function Cr(t){this.token(F,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(y,t.flags),this.token(F,"]")}const _l=Object.freeze(Object.defineProperty({__proto__:null,generate:Cr,name:Al,parse:vr,structure:Pl},Symbol.toStringTag,{value:"Module"})),El=38;function wr(){return this.Raw(null,!0)}function xr(){return this.parseWithFallback(this.Rule,wr)}function Lr(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function jl(){if(this.tokenType===bt)return Lr.call(this,this.tokenIndex);const t=this.parseWithFallback(this.Declaration,Lr);return this.tokenType===bt&&this.next(),t}const Dl="Block",Il="block",Ml={children:[["Atrule","Rule","Declaration"]]};function Tr(t){const e=t?jl:xr,n=this.tokenStart;let r=this.createList();this.eat(jt);t:for(;!this.eof;)switch(this.tokenType){case ae:break t;case it:case gt:this.next();break;case at:r.push(this.parseWithFallback(this.Atrule.bind(this,t),wr));break;default:t&&this.isDelim(El)?r.push(xr.call(this)):r.push(e.call(this))}return this.eof||this.eat(ae),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:r}}function Or(t){this.token(jt,"{"),this.children(t,e=>{e.type==="Declaration"&&this.token(bt,";")}),this.token(ae,"}")}const Rl=Object.freeze(Object.defineProperty({__proto__:null,generate:Or,name:Dl,parse:Tr,structure:Ml,walkContext:Il},Symbol.toStringTag,{value:"Module"})),Nl="Brackets",Fl={children:[[]]};function Ar(t,e){const n=this.tokenStart;let r=null;return this.eat(le),r=t.call(this,e),this.eof||this.eat(xe),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:r}}function Pr(t){this.token(F,"["),this.children(t),this.token(F,"]")}const $l=Object.freeze(Object.defineProperty({__proto__:null,generate:Pr,name:Nl,parse:Ar,structure:Fl},Symbol.toStringTag,{value:"Module"})),zl="CDC",Bl=[];function _r(){const t=this.tokenStart;return this.eat(xt),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function Er(){this.token(xt,"-->")}const Wl=Object.freeze(Object.defineProperty({__proto__:null,generate:Er,name:zl,parse:_r,structure:Bl},Symbol.toStringTag,{value:"Module"})),Ul="CDO",Hl=[];function jr(){const t=this.tokenStart;return this.eat(_e),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function Dr(){this.token(_e,"<!--")}const Vl=Object.freeze(Object.defineProperty({__proto__:null,generate:Dr,name:Ul,parse:jr,structure:Hl},Symbol.toStringTag,{value:"Module"})),ql=46,Gl="ClassSelector",Xl={name:String};function Ir(){return this.eatDelim(ql),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(y)}}function Mr(t){this.token(F,"."),this.token(y,t.name)}const Ql=Object.freeze(Object.defineProperty({__proto__:null,generate:Mr,name:Gl,parse:Ir,structure:Xl},Symbol.toStringTag,{value:"Module"})),Yl=43,Rr=47,Jl=62,Zl=126,Kl="Combinator",ta={name:String};function Nr(){const t=this.tokenStart;let e;switch(this.tokenType){case it:e=" ";break;case F:switch(this.charCodeAt(this.tokenStart)){case Jl:case Yl:case Zl:this.next();break;case Rr:this.next(),this.eatIdent("deep"),this.eatDelim(Rr);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function Fr(t){this.tokenize(t.name)}const ea=Object.freeze(Object.defineProperty({__proto__:null,generate:Fr,name:Kl,parse:Nr,structure:ta},Symbol.toStringTag,{value:"Module"})),na=42,ra=47,ia="Comment",sa={value:String};function $r(){const t=this.tokenStart;let e=this.tokenEnd;return this.eat(gt),e-t+2>=2&&this.charCodeAt(e-2)===na&&this.charCodeAt(e-1)===ra&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function zr(t){this.token(gt,"/*"+t.value+"*/")}const oa=Object.freeze(Object.defineProperty({__proto__:null,generate:zr,name:ia,parse:$r,structure:sa},Symbol.toStringTag,{value:"Module"})),la=new Set([mt,T,Wt]),aa="Condition",ca={kind:String,children:[["Identifier","Feature","FeatureFunction","FeatureRange","SupportsDeclaration"]]};function Br(t){return this.lookupTypeNonSC(1)===y&&la.has(this.lookupTypeNonSC(2))?this.Feature(t):this.FeatureRange(t)}const ua={media:Br,container:Br,supports(){return this.SupportsDeclaration()}};function Wr(t="media"){const e=this.createList();t:for(;!this.eof;)switch(this.tokenType){case gt:case it:this.next();continue;case y:e.push(this.Identifier());break;case q:{let n=this.parseWithFallback(()=>ua[t].call(this,t),()=>null);n||(n=this.parseWithFallback(()=>{this.eat(q);const r=this.Condition(t);return this.eat(T),r},()=>this.GeneralEnclosed(t))),e.push(n);break}case j:{let n=this.parseWithFallback(()=>this.FeatureFunction(t),()=>null);n||(n=this.GeneralEnclosed(t)),e.push(n);break}default:break t}return e.isEmpty&&this.error("Condition is expected"),{type:"Condition",loc:this.getLocationFromList(e),kind:t,children:e}}function Ur(t){t.children.forEach(e=>{e.type==="Condition"?(this.token(q,"("),this.node(e),this.token(T,")")):this.node(e)})}const ha=Object.freeze(Object.defineProperty({__proto__:null,generate:Ur,name:aa,parse:Wr,structure:ca},Symbol.toStringTag,{value:"Module"})),Hr=45;function fa(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===Hr&&t.charCodeAt(e+1)===Hr}const Vr=33,da=35,pa=36,ma=38,ga=42,ya=43,qr=47;function ka(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!0)}function ba(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1)}function Sa(){const t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==bt&&this.isDelim(Vr)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}const va="Declaration",Ca="declaration",wa={important:[Boolean,String],property:String,value:["Value","Raw"]};function Gr(){const t=this.tokenStart,e=this.tokenIndex,n=xa.call(this),r=fa(n),i=r?this.parseCustomProperty:this.parseValue,o=r?ba:ka;let l=!1,c;this.skipSC(),this.eat(mt);const a=this.tokenIndex;if(r||this.skipSC(),i?c=this.parseWithFallback(Sa,o):c=o.call(this,this.tokenIndex),r&&c.type==="Value"&&c.children.isEmpty){for(let s=a-this.tokenIndex;s<=0;s++)if(this.lookupType(s)===it){c.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Vr)&&(l=La.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==bt&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:l,property:n,value:c}}function Xr(t){this.token(y,t.property),this.token(mt,":"),this.node(t.value),t.important&&(this.token(F,"!"),this.token(y,t.important===!0?"important":t.important))}function xa(){const t=this.tokenStart;if(this.tokenType===F)switch(this.charCodeAt(this.tokenStart)){case ga:case pa:case ya:case da:case ma:this.next();break;case qr:this.next(),this.isDelim(qr)&&this.next();break}return this.tokenType===Q?this.eat(Q):this.eat(y),this.substrToCursor(t)}function La(){this.eat(F),this.skipSC();const t=this.consume(y);return t==="important"?!0:t}const Ta=Object.freeze(Object.defineProperty({__proto__:null,generate:Xr,name:va,parse:Gr,structure:wa,walkContext:Ca},Symbol.toStringTag,{value:"Module"})),Oa=38;function fn(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}const Aa="DeclarationList",Pa={children:[["Declaration","Atrule","Rule"]]};function Qr(){const t=this.createList();for(;!this.eof;)switch(this.tokenType){case it:case gt:case bt:this.next();break;case at:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),fn));break;default:this.isDelim(Oa)?t.push(this.parseWithFallback(this.Rule,fn)):t.push(this.parseWithFallback(this.Declaration,fn))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function Yr(t){this.children(t,e=>{e.type==="Declaration"&&this.token(bt,";")})}const _a=Object.freeze(Object.defineProperty({__proto__:null,generate:Yr,name:Aa,parse:Qr,structure:Pa},Symbol.toStringTag,{value:"Module"})),Ea="Dimension",ja={value:String,unit:String};function Jr(){const t=this.tokenStart,e=this.consumeNumber(M);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function Zr(t){this.token(M,t.value+t.unit)}const Da=Object.freeze(Object.defineProperty({__proto__:null,generate:Zr,name:Ea,parse:Jr,structure:ja},Symbol.toStringTag,{value:"Module"})),Ia=47,Ma="Feature",Ra={kind:String,name:String,value:["Identifier","Number","Dimension","Ratio","Function",null]};function Kr(t){const e=this.tokenStart;let n,r=null;if(this.eat(q),this.skipSC(),n=this.consume(y),this.skipSC(),this.tokenType!==T){switch(this.eat(mt),this.skipSC(),this.tokenType){case A:this.lookupNonWSType(1)===F?r=this.Ratio():r=this.Number();break;case M:r=this.Dimension();break;case y:r=this.Identifier();break;case j:r=this.parseWithFallback(()=>{const i=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(Ia)&&this.error(),i},()=>this.Ratio());break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eof||this.eat(T),{type:"Feature",loc:this.getLocation(e,this.tokenStart),kind:t,name:n,value:r}}function ti(t){this.token(q,"("),this.token(y,t.name),t.value!==null&&(this.token(mt,":"),this.node(t.value)),this.token(T,")")}const Na=Object.freeze(Object.defineProperty({__proto__:null,generate:ti,name:Ma,parse:Kr,structure:Ra},Symbol.toStringTag,{value:"Module"})),Fa="FeatureFunction",$a={kind:String,feature:String,value:["Declaration","Selector"]};function za(t,e){const n=(this.features[t]||{})[e];return typeof n!="function"&&this.error(`Unknown feature ${e}()`),n}function ei(t="unknown"){const e=this.tokenStart,n=this.consumeFunctionName(),r=za.call(this,t,n.toLowerCase());this.skipSC();const i=this.parseWithFallback(()=>{const o=this.tokenIndex,l=r.call(this);return this.eof===!1&&this.isBalanceEdge(o)===!1&&this.error(),l},()=>this.Raw(null,!1));return this.eof||this.eat(T),{type:"FeatureFunction",loc:this.getLocation(e,this.tokenStart),kind:t,feature:n,value:i}}function ni(t){this.token(j,t.feature+"("),this.node(t.value),this.token(T,")")}const Ba=Object.freeze(Object.defineProperty({__proto__:null,generate:ni,name:Fa,parse:ei,structure:$a},Symbol.toStringTag,{value:"Module"})),ri=47,Wa=60,ii=61,Ua=62,Ha="FeatureRange",Va={kind:String,left:["Identifier","Number","Dimension","Ratio","Function"],leftComparison:String,middle:["Identifier","Number","Dimension","Ratio","Function"],rightComparison:[String,null],right:["Identifier","Number","Dimension","Ratio","Function",null]};function dn(){switch(this.skipSC(),this.tokenType){case A:return this.isDelim(ri,this.lookupOffsetNonSC(1))?this.Ratio():this.Number();case M:return this.Dimension();case y:return this.Identifier();case j:return this.parseWithFallback(()=>{const t=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(ri)&&this.error(),t},()=>this.Ratio());default:this.error("Number, dimension, ratio or identifier is expected")}}function si(t){if(this.skipSC(),this.isDelim(Wa)||this.isDelim(Ua)){const e=this.source[this.tokenStart];return this.next(),this.isDelim(ii)?(this.next(),e+"="):e}if(this.isDelim(ii))return"=";this.error(`Expected ${t?'":", ':""}"<", ">", "=" or ")"`)}function oi(t="unknown"){const e=this.tokenStart;this.skipSC(),this.eat(q);const n=dn.call(this),r=si.call(this,n.type==="Identifier"),i=dn.call(this);let o=null,l=null;return this.lookupNonWSType(0)!==T&&(o=si.call(this),l=dn.call(this)),this.skipSC(),this.eat(T),{type:"FeatureRange",loc:this.getLocation(e,this.tokenStart),kind:t,left:n,leftComparison:r,middle:i,rightComparison:o,right:l}}function li(t){this.token(q,"("),this.node(t.left),this.tokenize(t.leftComparison),this.node(t.middle),t.right&&(this.tokenize(t.rightComparison),this.node(t.right)),this.token(T,")")}const qa=Object.freeze(Object.defineProperty({__proto__:null,generate:li,name:Ha,parse:oi,structure:Va},Symbol.toStringTag,{value:"Module"})),Ga="Function",Xa="function",Qa={name:String,children:[[]]};function ai(t,e){const n=this.tokenStart,r=this.consumeFunctionName(),i=r.toLowerCase();let o;return o=e.hasOwnProperty(i)?e[i].call(this,e):t.call(this,e),this.eof||this.eat(T),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:r,children:o}}function ci(t){this.token(j,t.name+"("),this.children(t),this.token(T,")")}const Ya=Object.freeze(Object.defineProperty({__proto__:null,generate:ci,name:Ga,parse:ai,structure:Qa,walkContext:Xa},Symbol.toStringTag,{value:"Module"})),Ja="GeneralEnclosed",Za={kind:String,function:[String,null],children:[[]]};function ui(t){const e=this.tokenStart;let n=null;this.tokenType===j?n=this.consumeFunctionName():this.eat(q);const r=this.parseWithFallback(()=>{const i=this.tokenIndex,o=this.readSequence(this.scope.Value);return this.eof===!1&&this.isBalanceEdge(i)===!1&&this.error(),o},()=>this.createSingleNodeList(this.Raw(null,!1)));return this.eof||this.eat(T),{type:"GeneralEnclosed",loc:this.getLocation(e,this.tokenStart),kind:t,function:n,children:r}}function hi(t){t.function?this.token(j,t.function+"("):this.token(q,"("),this.children(t),this.token(T,")")}const Ka=Object.freeze(Object.defineProperty({__proto__:null,generate:hi,name:Ja,parse:ui,structure:Za},Symbol.toStringTag,{value:"Module"})),tc="XXX",ec="Hash",nc={value:String};function fi(){const t=this.tokenStart;return this.eat(Q),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function di(t){this.token(Q,"#"+t.value)}const rc=Object.freeze(Object.defineProperty({__proto__:null,generate:di,name:ec,parse:fi,structure:nc,xxx:tc},Symbol.toStringTag,{value:"Module"})),ic="Identifier",sc={name:String};function pi(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(y)}}function mi(t){this.token(y,t.name)}const oc=Object.freeze(Object.defineProperty({__proto__:null,generate:mi,name:ic,parse:pi,structure:sc},Symbol.toStringTag,{value:"Module"})),lc="IdSelector",ac={name:String};function gi(){const t=this.tokenStart;return this.eat(Q),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function yi(t){this.token(F,"#"+t.name)}const cc=Object.freeze(Object.defineProperty({__proto__:null,generate:yi,name:lc,parse:gi,structure:ac},Symbol.toStringTag,{value:"Module"})),uc=46,hc="Layer",fc={name:String};function ki(){let t=this.tokenStart,e=this.consume(y);for(;this.isDelim(uc);)this.eat(F),e+="."+this.consume(y);return{type:"Layer",loc:this.getLocation(t,this.tokenStart),name:e}}function bi(t){this.tokenize(t.name)}const dc=Object.freeze(Object.defineProperty({__proto__:null,generate:bi,name:hc,parse:ki,structure:fc},Symbol.toStringTag,{value:"Module"})),pc="LayerList",mc={children:[["Layer"]]};function Si(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.Layer()),this.lookupTypeNonSC(0)===Et);)this.skipSC(),this.next(),this.skipSC();return{type:"LayerList",loc:this.getLocationFromList(t),children:t}}function vi(t){this.children(t,()=>this.token(Et,","))}const gc=Object.freeze(Object.defineProperty({__proto__:null,generate:vi,name:pc,parse:Si,structure:mc},Symbol.toStringTag,{value:"Module"})),yc="MediaQuery",kc={modifier:[String,null],mediaType:[String,null],condition:["Condition",null]};function Ci(){const t=this.tokenStart;let e=null,n=null,r=null;if(this.skipSC(),this.tokenType===y&&this.lookupTypeNonSC(1)!==q){const i=this.consume(y),o=i.toLowerCase();switch(o==="not"||o==="only"?(this.skipSC(),e=o,n=this.consume(y)):n=i,this.lookupTypeNonSC(0)){case y:{this.skipSC(),this.eatIdent("and"),r=this.Condition("media");break}case jt:case bt:case Et:case Wt:break;default:this.error("Identifier or parenthesis is expected")}}else switch(this.tokenType){case y:case q:case j:{r=this.Condition("media");break}case jt:case bt:case Wt:break;default:this.error("Identifier or parenthesis is expected")}return{type:"MediaQuery",loc:this.getLocation(t,this.tokenStart),modifier:e,mediaType:n,condition:r}}function wi(t){t.mediaType?(t.modifier&&this.token(y,t.modifier),this.token(y,t.mediaType),t.condition&&(this.token(y,"and"),this.node(t.condition))):t.condition&&this.node(t.condition)}const bc=Object.freeze(Object.defineProperty({__proto__:null,generate:wi,name:yc,parse:Ci,structure:kc},Symbol.toStringTag,{value:"Module"})),Sc="MediaQueryList",vc={children:[["MediaQuery"]]};function xi(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===Et);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function Li(t){this.children(t,()=>this.token(Et,","))}const Cc=Object.freeze(Object.defineProperty({__proto__:null,generate:Li,name:Sc,parse:xi,structure:vc},Symbol.toStringTag,{value:"Module"})),wc=38,xc="NestingSelector",Lc={};function Ti(){const t=this.tokenStart;return this.eatDelim(wc),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function Oi(){this.token(F,"&")}const Tc=Object.freeze(Object.defineProperty({__proto__:null,generate:Oi,name:xc,parse:Ti,structure:Lc},Symbol.toStringTag,{value:"Module"})),Oc="Nth",Ac={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function Ai(){this.skipSC();const t=this.tokenStart;let e=t,n=null,r;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?r=this.Identifier():r=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:r,selector:n}}function Pi(t){this.node(t.nth),t.selector!==null&&(this.token(y,"of"),this.node(t.selector))}const Pc=Object.freeze(Object.defineProperty({__proto__:null,generate:Pi,name:Oc,parse:Ai,structure:Ac},Symbol.toStringTag,{value:"Module"})),_c="Number",Ec={value:String};function _i(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(A)}}function Ei(t){this.token(A,t.value)}const jc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ei,name:_c,parse:_i,structure:Ec},Symbol.toStringTag,{value:"Module"})),Dc="Operator",Ic={value:String};function ji(){const t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function Di(t){this.tokenize(t.value)}const Mc=Object.freeze(Object.defineProperty({__proto__:null,generate:Di,name:Dc,parse:ji,structure:Ic},Symbol.toStringTag,{value:"Module"})),Rc="Parentheses",Nc={children:[[]]};function Ii(t,e){const n=this.tokenStart;let r=null;return this.eat(q),r=t.call(this,e),this.eof||this.eat(T),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:r}}function Mi(t){this.token(q,"("),this.children(t),this.token(T,")")}const Fc=Object.freeze(Object.defineProperty({__proto__:null,generate:Mi,name:Rc,parse:Ii,structure:Nc},Symbol.toStringTag,{value:"Module"})),$c="Percentage",zc={value:String};function Ri(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(nt)}}function Ni(t){this.token(nt,t.value+"%")}const Bc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ni,name:$c,parse:Ri,structure:zc},Symbol.toStringTag,{value:"Module"})),Wc="PseudoClassSelector",Uc="function",Hc={name:String,children:[["Raw"],null]};function Fi(){const t=this.tokenStart;let e=null,n,r;return this.eat(mt),this.tokenType===j?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==T?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(T)):n=this.consume(y),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function $i(t){this.token(mt,":"),t.children===null?this.token(y,t.name):(this.token(j,t.name+"("),this.children(t),this.token(T,")"))}const Vc=Object.freeze(Object.defineProperty({__proto__:null,generate:$i,name:Wc,parse:Fi,structure:Hc,walkContext:Uc},Symbol.toStringTag,{value:"Module"})),qc="PseudoElementSelector",Gc="function",Xc={name:String,children:[["Raw"],null]};function zi(){const t=this.tokenStart;let e=null,n,r;return this.eat(mt),this.eat(mt),this.tokenType===j?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==T?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(T)):n=this.consume(y),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function Bi(t){this.token(mt,":"),this.token(mt,":"),t.children===null?this.token(y,t.name):(this.token(j,t.name+"("),this.children(t),this.token(T,")"))}const Qc=Object.freeze(Object.defineProperty({__proto__:null,generate:Bi,name:qc,parse:zi,structure:Xc,walkContext:Gc},Symbol.toStringTag,{value:"Module"})),Wi=47;function Ui(){switch(this.skipSC(),this.tokenType){case A:return this.Number();case j:return this.Function(this.readSequence,this.scope.Value);default:this.error("Number of function is expected")}}const Yc="Ratio",Jc={left:["Number","Function"],right:["Number","Function",null]};function Hi(){const t=this.tokenStart,e=Ui.call(this);let n=null;return this.skipSC(),this.isDelim(Wi)&&(this.eatDelim(Wi),n=Ui.call(this)),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function Vi(t){this.node(t.left),this.token(F,"/"),t.right?this.node(t.right):this.node(A,1)}const Zc=Object.freeze(Object.defineProperty({__proto__:null,generate:Vi,name:Yc,parse:Hi,structure:Jc},Symbol.toStringTag,{value:"Module"}));function Kc(){return this.tokenIndex>0&&this.lookupType(-1)===it?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const tu="Raw",eu={value:String};function qi(t,e){const n=this.getTokenStart(this.tokenIndex);let r;return this.skipUntilBalanced(this.tokenIndex,t||this.consumeUntilBalanceEnd),e&&this.tokenStart>n?r=Kc.call(this):r=this.tokenStart,{type:"Raw",loc:this.getLocation(n,r),value:this.substring(n,r)}}function Gi(t){this.tokenize(t.value)}const nu=Object.freeze(Object.defineProperty({__proto__:null,generate:Gi,name:tu,parse:qi,structure:eu},Symbol.toStringTag,{value:"Module"}));function Xi(){return this.Raw(this.consumeUntilLeftCurlyBracket,!0)}function ru(){const t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==jt&&this.error(),t}const iu="Rule",su="rule",ou={prelude:["SelectorList","Raw"],block:["Block"]};function Qi(){const t=this.tokenIndex,e=this.tokenStart;let n,r;return this.parseRulePrelude?n=this.parseWithFallback(ru,Xi):n=Xi.call(this,t),r=this.Block(!0),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:r}}function Yi(t){this.node(t.prelude),this.node(t.block)}const lu=Object.freeze(Object.defineProperty({__proto__:null,generate:Yi,name:iu,parse:Qi,structure:ou,walkContext:su},Symbol.toStringTag,{value:"Module"})),au="Scope",cu={root:["SelectorList","Raw",null],limit:["SelectorList","Raw",null]};function Ji(){let t=null,e=null;this.skipSC();const n=this.tokenStart;return this.tokenType===q&&(this.next(),this.skipSC(),t=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(T)),this.lookupNonWSType(0)===y&&(this.skipSC(),this.eatIdent("to"),this.skipSC(),this.eat(q),this.skipSC(),e=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(T)),{type:"Scope",loc:this.getLocation(n,this.tokenStart),root:t,limit:e}}function Zi(t){t.root&&(this.token(q,"("),this.node(t.root),this.token(T,")")),t.limit&&(this.token(y,"to"),this.token(q,"("),this.node(t.limit),this.token(T,")"))}const uu=Object.freeze(Object.defineProperty({__proto__:null,generate:Zi,name:au,parse:Ji,structure:cu},Symbol.toStringTag,{value:"Module"})),hu="Selector",fu={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator"]]};function Ki(){const t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function ts(t){this.children(t)}const du=Object.freeze(Object.defineProperty({__proto__:null,generate:ts,name:hu,parse:Ki,structure:fu},Symbol.toStringTag,{value:"Module"})),pu="SelectorList",mu="selector",gu={children:[["Selector","Raw"]]};function es(){const t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===Et){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function ns(t){this.children(t,()=>this.token(Et,","))}const yu=Object.freeze(Object.defineProperty({__proto__:null,generate:ns,name:pu,parse:es,structure:gu,walkContext:mu},Symbol.toStringTag,{value:"Module"})),pn=92,rs=34,ku=39;function is(t){const e=t.length,n=t.charCodeAt(0),r=n===rs||n===ku?1:0,i=r===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1;let o="";for(let l=r;l<=i;l++){let c=t.charCodeAt(l);if(c===pn){if(l===i){l!==e-1&&(o=t.substr(l+1));break}if(c=t.charCodeAt(++l),It(pn,c)){const a=l-1,s=he(t,a);l=s-1,o+=or(t.substring(a+1,s))}else c===13&&t.charCodeAt(l+1)===10&&l++}else o+=t[l]}return o}function bu(t,e){const n='"',r=rs;let i="",o=!1;for(let l=0;l<t.length;l++){const c=t.charCodeAt(l);if(c===0){i+="�";continue}if(c<=31||c===127){i+="\\"+c.toString(16),o=!0;continue}c===r||c===pn?(i+="\\"+t.charAt(l),o=!1):(o&&(ce(c)||Xt(c))&&(i+=" "),i+=t.charAt(l),o=!1)}return n+i+n}const Su="String",vu={value:String};function ss(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:is(this.consume(Bt))}}function os(t){this.token(Bt,bu(t.value))}const Cu=Object.freeze(Object.defineProperty({__proto__:null,generate:os,name:Su,parse:ss,structure:vu},Symbol.toStringTag,{value:"Module"})),wu=33;function ls(){return this.Raw(null,!1)}const xu="StyleSheet",Lu="stylesheet",Tu={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function as(){const t=this.tokenStart,e=this.createList();let n;for(;!this.eof;){switch(this.tokenType){case it:this.next();continue;case gt:if(this.charCodeAt(this.tokenStart+2)!==wu){this.next();continue}n=this.Comment();break;case _e:n=this.CDO();break;case xt:n=this.CDC();break;case at:n=this.parseWithFallback(this.Atrule,ls);break;default:n=this.parseWithFallback(this.Rule,ls)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function cs(t){this.children(t)}const Ou=Object.freeze(Object.defineProperty({__proto__:null,generate:cs,name:xu,parse:as,structure:Tu,walkContext:Lu},Symbol.toStringTag,{value:"Module"})),Au="SupportsDeclaration",Pu={declaration:"Declaration"};function us(){const t=this.tokenStart;this.eat(q),this.skipSC();const e=this.Declaration();return this.eof||this.eat(T),{type:"SupportsDeclaration",loc:this.getLocation(t,this.tokenStart),declaration:e}}function hs(t){this.token(q,"("),this.node(t.declaration),this.token(T,")")}const _u=Object.freeze(Object.defineProperty({__proto__:null,generate:hs,name:Au,parse:us,structure:Pu},Symbol.toStringTag,{value:"Module"})),Eu=42,fs=124;function mn(){this.tokenType!==y&&this.isDelim(Eu)===!1&&this.error("Identifier or asterisk is expected"),this.next()}const ju="TypeSelector",Du={name:String};function ds(){const t=this.tokenStart;return this.isDelim(fs)?(this.next(),mn.call(this)):(mn.call(this),this.isDelim(fs)&&(this.next(),mn.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function ps(t){this.tokenize(t.name)}const Iu=Object.freeze(Object.defineProperty({__proto__:null,generate:ps,name:ju,parse:ds,structure:Du},Symbol.toStringTag,{value:"Module"})),ms=43,gs=45,gn=63;function Le(t,e){let n=0;for(let r=this.tokenStart+t;r<this.tokenEnd;r++){const i=this.charCodeAt(r);if(i===gs&&e&&n!==0)return Le.call(this,t+n+1,!1),-1;ce(i)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",r),++n>6&&this.error("Too many hex digits",r)}return this.next(),n}function Be(t){let e=0;for(;this.isDelim(gn);)++e>t&&this.error("Too many question marks"),this.next()}function Mu(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===ms?"Plus sign":"Hyphen minus")+" is expected")}function Ru(){let t=0;switch(this.tokenType){case A:if(t=Le.call(this,1,!0),this.isDelim(gn)){Be.call(this,6-t);break}if(this.tokenType===M||this.tokenType===A){Mu.call(this,gs),Le.call(this,1,!1);break}break;case M:t=Le.call(this,1,!0),t>0&&Be.call(this,6-t);break;default:if(this.eatDelim(ms),this.tokenType===y){t=Le.call(this,0,!0),t>0&&Be.call(this,6-t);break}if(this.isDelim(gn)){this.next(),Be.call(this,5);break}this.error("Hex digit or question mark is expected")}}const Nu="UnicodeRange",Fu={value:String};function ys(){const t=this.tokenStart;return this.eatIdent("u"),Ru.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function ks(t){this.tokenize(t.value)}const $u=Object.freeze(Object.defineProperty({__proto__:null,generate:ks,name:Nu,parse:ys,structure:Fu},Symbol.toStringTag,{value:"Module"})),zu=32,yn=92,Bu=34,Wu=39,Uu=40,bs=41;function Hu(t){const e=t.length;let n=4,r=t.charCodeAt(e-1)===bs?e-2:e-1,i="";for(;n<r&&Xt(t.charCodeAt(n));)n++;for(;n<r&&Xt(t.charCodeAt(r));)r--;for(let o=n;o<=r;o++){let l=t.charCodeAt(o);if(l===yn){if(o===r){o!==e-1&&(i=t.substr(o+1));break}if(l=t.charCodeAt(++o),It(yn,l)){const c=o-1,a=he(t,c);o=a-1,i+=or(t.substring(c+1,a))}else l===13&&t.charCodeAt(o+1)===10&&o++}else i+=t[o]}return i}function Vu(t){let e="",n=!1;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i===0){e+="�";continue}if(i<=31||i===127){e+="\\"+i.toString(16),n=!0;continue}i===zu||i===yn||i===Bu||i===Wu||i===Uu||i===bs?(e+="\\"+t.charAt(r),n=!1):(n&&ce(i)&&(e+=" "),e+=t.charAt(r),n=!1)}return"url("+e+")"}const qu="Url",Gu={value:String};function Ss(){const t=this.tokenStart;let e;switch(this.tokenType){case pt:e=Hu(this.consume(pt));break;case j:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(j),this.skipSC(),e=is(this.consume(Bt)),this.skipSC(),this.eof||this.eat(T);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function vs(t){this.token(pt,Vu(t.value))}const Xu=Object.freeze(Object.defineProperty({__proto__:null,generate:vs,name:qu,parse:Ss,structure:Gu},Symbol.toStringTag,{value:"Module"})),Qu="Value",Yu={children:[[]]};function Cs(){const t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function ws(t){this.children(t)}const Ju=Object.freeze(Object.defineProperty({__proto__:null,generate:ws,name:Qu,parse:Cs,structure:Yu},Symbol.toStringTag,{value:"Module"})),Zu=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),Ku="WhiteSpace",th={value:String};function xs(){return this.eat(it),Zu}function Ls(t){this.token(it,t.value)}const eh=Object.freeze(Object.defineProperty({__proto__:null,generate:Ls,name:Ku,parse:xs,structure:th},Symbol.toStringTag,{value:"Module"})),nh=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:dl,Atrule:kl,AtrulePrelude:Cl,AttributeSelector:_l,Block:Rl,Brackets:$l,CDC:Wl,CDO:Vl,ClassSelector:Ql,Combinator:ea,Comment:oa,Condition:ha,Declaration:Ta,DeclarationList:_a,Dimension:Da,Feature:Na,FeatureFunction:Ba,FeatureRange:qa,Function:Ya,GeneralEnclosed:Ka,Hash:rc,IdSelector:cc,Identifier:oc,Layer:dc,LayerList:gc,MediaQuery:bc,MediaQueryList:Cc,NestingSelector:Tc,Nth:Pc,Number:jc,Operator:Mc,Parentheses:Fc,Percentage:Bc,PseudoClassSelector:Vc,PseudoElementSelector:Qc,Ratio:Zc,Raw:nu,Rule:lu,Scope:uu,Selector:du,SelectorList:yu,String:Cu,StyleSheet:Ou,SupportsDeclaration:_u,TypeSelector:Iu,UnicodeRange:$u,Url:Xu,Value:Ju,WhiteSpace:eh},Symbol.toStringTag,{value:"Module"})),rh={node:nh},Ht=Jo(rh),kn=["left","right","top","bottom","inset-block-start","inset-block-end","inset-inline-start","inset-inline-end","inset-block","inset-inline","inset"];function Te(t){return kn.includes(t)}const bn=["margin-block-start","margin-block-end","margin-block","margin-inline-start","margin-inline-end","margin-inline","margin-bottom","margin-left","margin-right","margin-top","margin"];function ih(t){return bn.includes(t)}const Sn=["width","height","min-width","min-height","max-width","max-height","block-size","inline-size","min-block-size","min-inline-size","max-block-size","max-inline-size"];function Ts(t){return Sn.includes(t)}const Os=["justify-self","align-self","place-self"];function sh(t){return Os.includes(t)}const As=[...kn,...bn,...Sn,...Os,"position-anchor","position-area"],oh=[...Sn,...kn,...bn];function Ps(t){return oh.includes(t)}const lh=["top","left","right","bottom","start","end","self-start","self-end","center","inside","outside"];function _s(t){return lh.includes(t)}const ah=["width","height","block","inline","self-block","self-inline"];function ch(t){return ah.includes(t)}const Es=new Set(["Atrule","Selector","Declaration"]);function uh(t){const e=new SourceMapGenerator,n={line:1,column:0},r={line:0,column:0},i={line:1,column:0},o={generated:i};let l=1,c=0,a=!1;const s=t.node;t.node=function(f){if(f.loc&&f.loc.start&&Es.has(f.type)){const k=f.loc.start.line,g=f.loc.start.column-1;(r.line!==k||r.column!==g)&&(r.line=k,r.column=g,n.line=l,n.column=c,a&&(a=!1,(n.line!==i.line||n.column!==i.column)&&e.addMapping(o)),a=!0,e.addMapping({source:f.loc.source,original:r,generated:n}))}s.call(this,f),a&&Es.has(f.type)&&(i.line=l,i.column=c)};const u=t.emit;t.emit=function(f,k,g){for(let b=0;b<f.length;b++)f.charCodeAt(b)===10?(l++,c=0):c++;u(f,k,g)};const h=t.result;return t.result=function(){return a&&e.addMapping(o),{css:h(),map:e}},t}const hh=43,fh=45,vn=(t,e)=>{if(t===F&&(t=e),typeof t=="string"){const n=t.charCodeAt(0);return n>127?32768:n<<8}return t},js=[[y,y],[y,j],[y,pt],[y,_t],[y,"-"],[y,A],[y,nt],[y,M],[y,xt],[y,q],[at,y],[at,j],[at,pt],[at,_t],[at,"-"],[at,A],[at,nt],[at,M],[at,xt],[Q,y],[Q,j],[Q,pt],[Q,_t],[Q,"-"],[Q,A],[Q,nt],[Q,M],[Q,xt],[M,y],[M,j],[M,pt],[M,_t],[M,"-"],[M,A],[M,nt],[M,M],[M,xt],["#",y],["#",j],["#",pt],["#",_t],["#","-"],["#",A],["#",nt],["#",M],["#",xt],["-",y],["-",j],["-",pt],["-",_t],["-","-"],["-",A],["-",nt],["-",M],["-",xt],[A,y],[A,j],[A,pt],[A,_t],[A,A],[A,nt],[A,M],[A,"%"],[A,xt],["@",y],["@",j],["@",pt],["@",_t],["@","-"],["@",xt],[".",A],[".",nt],[".",M],["+",A],["+",nt],["+",M],["/","*"]],dh=js.concat([[y,Q],[M,Q],[Q,Q],[at,q],[at,Bt],[at,mt],[nt,nt],[nt,M],[nt,j],[nt,"-"],[T,y],[T,j],[T,nt],[T,M],[T,Q],[T,"-"]]);function Ds(t){const e=new Set(t.map(([n,r])=>vn(n)<<16|vn(r)));return function(n,r,i){const o=vn(r,i),l=i.charCodeAt(0);return(l===fh&&r!==y&&r!==j&&r!==xt||l===hh?e.has(n<<16|l<<8):e.has(n<<16|o))&&this.emit(" ",it,!0),o}}const ph=Ds(js),Is=Ds(dh),Ms=Object.freeze(Object.defineProperty({__proto__:null,safe:Is,spec:ph},Symbol.toStringTag,{value:"Module"})),mh=92;function gh(t,e){if(typeof e=="function"){let n=null;t.children.forEach(r=>{n!==null&&e.call(this,n),this.node(r),n=r});return}t.children.forEach(this.node,this)}function yh(t){fr(t,(e,n,r)=>{this.token(e,t.slice(n,r))})}function kh(t){const e=new Map;for(let[n,r]of Object.entries(t.node))typeof(r.generate||r)=="function"&&e.set(n,r.generate||r);return function(n,r){let i="",o=0,l={node(a){if(e.has(a.type))e.get(a.type).call(c,a);else throw new Error("Unknown node type: "+a.type)},tokenBefore:Is,token(a,s){o=this.tokenBefore(o,a,s),this.emit(s,a,!1),a===F&&s.charCodeAt(0)===mh&&this.emit(`
`,it,!0)},emit(a){i+=a},result(){return i}};r&&(typeof r.decorator=="function"&&(l=r.decorator(l)),r.sourceMap&&(l=uh(l)),r.mode in Ms&&(l.tokenBefore=Ms[r.mode]));const c={node:a=>l.node(a),children:gh,token:(a,s)=>l.token(a,s),tokenize:yh};return l.node(n),l.result()}}const bh=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:pr,Atrule:yr,AtrulePrelude:br,AttributeSelector:Cr,Block:Or,Brackets:Pr,CDC:Er,CDO:Dr,ClassSelector:Mr,Combinator:Fr,Comment:zr,Condition:Ur,Declaration:Xr,DeclarationList:Yr,Dimension:Zr,Feature:ti,FeatureFunction:ni,FeatureRange:li,Function:ci,GeneralEnclosed:hi,Hash:di,IdSelector:yi,Identifier:mi,Layer:bi,LayerList:vi,MediaQuery:wi,MediaQueryList:Li,NestingSelector:Oi,Nth:Pi,Number:Ei,Operator:Di,Parentheses:Mi,Percentage:Ni,PseudoClassSelector:$i,PseudoElementSelector:Bi,Ratio:Vi,Raw:Gi,Rule:Yi,Scope:Zi,Selector:ts,SelectorList:ns,String:os,StyleSheet:cs,SupportsDeclaration:hs,TypeSelector:ps,UnicodeRange:ks,Url:vs,Value:ws,WhiteSpace:Ls},Symbol.toStringTag,{value:"Module"})),Sh={node:bh},vh=kh(Sh);let de=null;class yt{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return yt.createItem(e)}allocateCursor(e,n){let r;return de!==null?(r=de,de=de.cursor,r.prev=e,r.next=n,r.cursor=this.cursor):r={prev:e,next:n,cursor:this.cursor},this.cursor=r,r}releaseCursor(){const{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=de,de=e}updateCursors(e,n,r,i){let{cursor:o}=this;for(;o!==null;)o.prev===e&&(o.prev=n),o.next===r&&(o.next=i),o=o.cursor}*[Symbol.iterator](){for(let e=this.head;e!==null;e=e.next)yield e.data}get size(){let e=0;for(let n=this.head;n!==null;n=n.next)e++;return e}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let n=null;this.head=null;for(let r of e){const i=yt.createItem(r);n!==null?n.next=i:this.head=i,i.prev=n,n=i}return this.tail=n,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,n=this){const r=this.allocateCursor(null,this.head);for(;r.next!==null;){const i=r.next;r.next=i.next,e.call(n,i.data,i,this)}this.releaseCursor()}forEachRight(e,n=this){const r=this.allocateCursor(this.tail,null);for(;r.prev!==null;){const i=r.prev;r.prev=i.prev,e.call(n,i.data,i,this)}this.releaseCursor()}reduce(e,n,r=this){let i=this.allocateCursor(null,this.head),o=n,l;for(;i.next!==null;)l=i.next,i.next=l.next,o=e.call(r,o,l.data,l,this);return this.releaseCursor(),o}reduceRight(e,n,r=this){let i=this.allocateCursor(this.tail,null),o=n,l;for(;i.prev!==null;)l=i.prev,i.prev=l.prev,o=e.call(r,o,l.data,l,this);return this.releaseCursor(),o}some(e,n=this){for(let r=this.head;r!==null;r=r.next)if(e.call(n,r.data,r,this))return!0;return!1}map(e,n=this){const r=new yt;for(let i=this.head;i!==null;i=i.next)r.appendData(e.call(n,i.data,i,this));return r}filter(e,n=this){const r=new yt;for(let i=this.head;i!==null;i=i.next)e.call(n,i.data,i,this)&&r.appendData(i.data);return r}nextUntil(e,n,r=this){if(e===null)return;const i=this.allocateCursor(null,e);for(;i.next!==null;){const o=i.next;if(i.next=o.next,n.call(r,o.data,o,this))break}this.releaseCursor()}prevUntil(e,n,r=this){if(e===null)return;const i=this.allocateCursor(e,null);for(;i.prev!==null;){const o=i.prev;if(i.prev=o.prev,n.call(r,o.data,o,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){const e=new yt;for(let n of this)e.appendData(n);return e}prepend(e){return this.updateCursors(null,e,this.head,e),this.head!==null?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(yt.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(yt.createItem(e))}insert(e,n=null){if(n!==null)if(this.updateCursors(n.prev,e,n,e),n.prev===null){if(this.head!==n)throw new Error("before doesn't belong to list");this.head=e,n.prev=e,e.next=n,this.updateCursors(null,e)}else n.prev.next=e,e.prev=n.prev,n.prev=e,e.next=n;else this.updateCursors(this.tail,e,null,e),this.tail!==null?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,n){return this.insert(yt.createItem(e),n)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),e.prev!==null)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(e.next!==null)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(yt.createItem(e))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(e){this.prepend(yt.createItem(e))}shift(){return this.head!==null?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,n){return e.head===null?this:(n!=null?(this.updateCursors(n.prev,e.tail,n,e.head),n.prev!==null?(n.prev.next=e.head,e.head.prev=n.prev):this.head=e.head,n.prev=e.tail,e.tail.next=n):(this.updateCursors(this.tail,e.tail,null,e.head),this.tail!==null?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this)}replace(e,n){"head"in n?this.insertList(n,e):this.insert(n,e),this.remove(e)}}function Ch(t,e){const n=Object.create(SyntaxError.prototype),r=new Error;return Object.assign(n,{name:t,message:e,get stack(){return(r.stack||"").replace(/^(.+\n){1,3}/,`${t}: ${e}
`)}})}const Cn=100,Rs=60,Ns="    ";function Fs({source:t,line:e,column:n,baseLine:r,baseColumn:i},o){function l(g,b){return s.slice(g,b).map((O,x)=>String(g+x+1).padStart(f)+" |"+O).join(`
`)}const c=`
`.repeat(Math.max(r-1,0)),a=" ".repeat(Math.max(i-1,0)),s=(c+a+t).split(/\r\n?|\n|\f/),u=Math.max(1,e-o)-1,h=Math.min(e+o,s.length+1),f=Math.max(4,String(h).length)+1;let k=0;n+=(Ns.length-1)*(s[e-1].substr(0,n-1).match(/\t/g)||[]).length,n>Cn&&(k=n-Rs+3,n=Rs-2);for(let g=u;g<=h;g++)g>=0&&g<s.length&&(s[g]=s[g].replace(/\t/g,Ns),s[g]=(k>0&&s[g].length>k?"…":"")+s[g].substr(k,Cn-2)+(s[g].length>k+Cn-1?"…":""));return[l(u,e),new Array(n+f+2).join("-")+"^",l(e,h)].filter(Boolean).join(`
`).replace(/^(\s+\d+\s+\|\n)+/,"").replace(/\n(\s+\d+\s+\|)+$/,"")}function $s(t,e,n,r,i,o=1,l=1){return Object.assign(Ch("SyntaxError",t),{source:e,offset:n,line:r,column:i,sourceFragment(c){return Fs({source:e,line:r,column:i,baseLine:o,baseColumn:l},isNaN(c)?0:c)},get formattedMessage(){return`Parse error: ${t}
`+Fs({source:e,line:r,column:i,baseLine:o,baseColumn:l},2)}})}function wh(t){const e=this.createList();let n=!1;const r={recognizer:t};for(;!this.eof;){switch(this.tokenType){case gt:this.next();continue;case it:n=!0,this.next();continue}let i=t.getNode.call(this,r);if(i===void 0)break;n&&(t.onWhiteSpace&&t.onWhiteSpace.call(this,i,e,r),n=!1),e.push(i)}return n&&t.onWhiteSpace&&t.onWhiteSpace.call(this,null,e,r),e}const zs=()=>{},xh=33,Lh=35,wn=59,Bs=123,Ws=0;function Th(t){return function(){return this[t]()}}function xn(t){const e=Object.create(null);for(const n of Object.keys(t)){const r=t[n],i=r.parse||r;i&&(e[n]=i)}return e}function Oh(t){const e={context:Object.create(null),features:Object.assign(Object.create(null),t.features),scope:Object.assign(Object.create(null),t.scope),atrule:xn(t.atrule),pseudo:xn(t.pseudo),node:xn(t.node)};for(const[n,r]of Object.entries(t.parseContext))switch(typeof r){case"function":e.context[n]=r;break;case"string":e.context[n]=Th(r);break}return ut(ut({config:e},e),e.node)}function Ah(t){let e="",n="<unknown>",r=!1,i=zs,o=!1;const l=new al,c=Object.assign(new cl,Oh(t||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:wh,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(a){return a===Bs?1:0},consumeUntilLeftCurlyBracketOrSemicolon(a){return a===Bs||a===wn?1:0},consumeUntilExclamationMarkOrSemicolon(a){return a===xh||a===wn?1:0},consumeUntilSemicolonIncluded(a){return a===wn?2:0},createList(){return new yt},createSingleNodeList(a){return new yt().appendData(a)},getFirstListNode(a){return a&&a.first},getLastListNode(a){return a&&a.last},parseWithFallback(a,s){const u=this.tokenIndex;try{return a.call(this)}catch(h){if(o)throw h;this.skip(u-this.tokenIndex);const f=s.call(this);return o=!0,i(h,f),o=!1,f}},lookupNonWSType(a){let s;do if(s=this.lookupType(a++),s!==it&&s!==gt)return s;while(s!==Ws);return Ws},charCodeAt(a){return a>=0&&a<e.length?e.charCodeAt(a):0},substring(a,s){return e.substring(a,s)},substrToCursor(a){return this.source.substring(a,this.tokenStart)},cmpChar(a,s){return ir(e,a,s)},cmpStr(a,s,u){return Ie(e,a,s,u)},consume(a){const s=this.tokenStart;return this.eat(a),this.substrToCursor(s)},consumeFunctionName(){const a=e.substring(this.tokenStart,this.tokenEnd-1);return this.eat(j),a},consumeNumber(a){const s=e.substring(this.tokenStart,sr(e,this.tokenStart));return this.eat(a),s},eat(a){if(this.tokenType!==a){const s=lr[a].slice(0,-6).replace(/-/g," ").replace(/^./,f=>f.toUpperCase());let u=`${/[[\](){}]/.test(s)?`"${s}"`:s} is expected`,h=this.tokenStart;switch(a){case y:this.tokenType===j||this.tokenType===pt?(h=this.tokenEnd-1,u="Identifier is expected but function found"):u="Identifier is expected";break;case Q:this.isDelim(Lh)&&(this.next(),h++,u="Name is expected");break;case nt:this.tokenType===A&&(h=this.tokenEnd,u="Percent sign is expected");break}this.error(u,h)}this.next()},eatIdent(a){(this.tokenType!==y||this.lookupValue(0,a)===!1)&&this.error(`Identifier "${a}" is expected`),this.next()},eatDelim(a){this.isDelim(a)||this.error(`Delim "${String.fromCharCode(a)}" is expected`),this.next()},getLocation(a,s){return r?l.getLocationRange(a,s,n):null},getLocationFromList(a){if(r){const s=this.getFirstListNode(a),u=this.getLastListNode(a);return l.getLocationRange(s!==null?s.loc.start.offset-l.startOffset:this.tokenStart,u!==null?u.loc.end.offset-l.startOffset:this.tokenStart,n)}return null},error(a,s){const u=typeof s<"u"&&s<e.length?l.getLocation(s):this.eof?l.getLocation(sl(e,e.length-1)):l.getLocation(this.tokenStart);throw new $s(a||"Unexpected input",e,u.offset,u.line,u.column,l.startLine,l.startColumn)}});return Object.assign(function(a,s){e=a,s=s||{},c.setSource(e,fr),l.setSource(e,s.offset,s.line,s.column),n=s.filename||"<unknown>",r=!!s.positions,i=typeof s.onParseError=="function"?s.onParseError:zs,o=!1,c.parseAtrulePrelude="parseAtrulePrelude"in s?!!s.parseAtrulePrelude:!0,c.parseRulePrelude="parseRulePrelude"in s?!!s.parseRulePrelude:!0,c.parseValue="parseValue"in s?!!s.parseValue:!0,c.parseCustomProperty="parseCustomProperty"in s?!!s.parseCustomProperty:!1;const{context:u="default",onComment:h}=s;if(!(u in c.context))throw new Error("Unknown context `"+u+"`");typeof h=="function"&&c.forEachToken((k,g,b)=>{if(k===gt){const O=c.getLocation(g,b),x=Ie(e,b-2,b,"*/")?e.slice(g+2,b-2):e.slice(g+2,b);h(x,O)}});const f=c.context[u].call(c,s);return c.eof||c.error(),f},{SyntaxError:$s,config:c.config})}const Ph=35,_h=42,Us=43,Eh=45,jh=47,Dh=117;function Hs(t){switch(this.tokenType){case Q:return this.Hash();case Et:return this.Operator();case q:return this.Parentheses(this.readSequence,t.recognizer);case le:return this.Brackets(this.readSequence,t.recognizer);case Bt:return this.String();case M:return this.Dimension();case nt:return this.Percentage();case A:return this.Number();case j:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,t.recognizer);case pt:return this.Url();case y:return this.cmpChar(this.tokenStart,Dh)&&this.cmpChar(this.tokenStart+1,Us)?this.UnicodeRange():this.Identifier();case F:{const e=this.charCodeAt(this.tokenStart);if(e===jh||e===_h||e===Us||e===Eh)return this.Operator();e===Ph&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}const Ih={getNode:Hs},Mh=35,Rh=38,Nh=42,Fh=43,$h=47,Vs=46,zh=62,Bh=124,Wh=126;function Uh(t,e){e.last!==null&&e.last.type!=="Combinator"&&t!==null&&t.type!=="Combinator"&&e.push({type:"Combinator",loc:null,name:" "})}function Hh(){switch(this.tokenType){case le:return this.AttributeSelector();case Q:return this.IdSelector();case mt:return this.lookupType(1)===mt?this.PseudoElementSelector():this.PseudoClassSelector();case y:return this.TypeSelector();case A:case nt:return this.Percentage();case M:this.charCodeAt(this.tokenStart)===Vs&&this.error("Identifier is expected",this.tokenStart+1);break;case F:{switch(this.charCodeAt(this.tokenStart)){case Fh:case zh:case Wh:case $h:return this.Combinator();case Vs:return this.ClassSelector();case Nh:case Bh:return this.TypeSelector();case Mh:return this.IdSelector();case Rh:return this.NestingSelector()}break}}}const Vh={onWhiteSpace:Uh,getNode:Hh};function qh(){return this.createSingleNodeList(this.Raw(null,!1))}function Gh(){const t=this.createList();if(this.skipSC(),t.push(this.Identifier()),this.skipSC(),this.tokenType===Et){t.push(this.Operator());const e=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1);if(n.type==="Value"&&n.children.isEmpty){for(let r=e-this.tokenIndex;r<=0;r++)if(this.lookupType(r)===it){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}t.push(n)}return t}function qs(t){return t!==null&&t.type==="Operator"&&(t.value[t.value.length-1]==="-"||t.value[t.value.length-1]==="+")}const Xh={getNode:Hs,onWhiteSpace(t,e){qs(t)&&(t.value=" "+t.value),qs(e.last)&&(e.last.value+=" ")},expression:qh,var:Gh},Qh=Object.freeze(Object.defineProperty({__proto__:null,AtrulePrelude:Ih,Selector:Vh,Value:Xh},Symbol.toStringTag,{value:"Module"})),Yh=new Set(["none","and","not","or"]),Jh={parse:{prelude(){const t=this.createList();if(this.tokenType===y){const e=this.substring(this.tokenStart,this.tokenEnd);Yh.has(e.toLowerCase())||t.push(this.Identifier())}return t.push(this.Condition("container")),t},block(t=!1){return this.Block(t)}}},Zh={parse:{prelude:null,block(){return this.Block(!0)}}};function Ln(t,e){return this.parseWithFallback(()=>{try{return t.call(this)}finally{this.skipSC(),this.lookupNonWSType(0)!==T&&this.error()}},e||(()=>this.Raw(null,!0)))}const Gs={layer(){this.skipSC();const t=this.createList(),e=Ln.call(this,this.Layer);return(e.type!=="Raw"||e.value!=="")&&t.push(e),t},supports(){this.skipSC();const t=this.createList(),e=Ln.call(this,this.Declaration,()=>Ln.call(this,()=>this.Condition("supports")));return(e.type!=="Raw"||e.value!=="")&&t.push(e),t}},Kh={parse:{prelude(){const t=this.createList();switch(this.tokenType){case Bt:t.push(this.String());break;case pt:case j:t.push(this.Url());break;default:this.error("String or url() is expected")}return this.skipSC(),this.tokenType===y&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer")?t.push(this.Identifier()):this.tokenType===j&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer(")&&t.push(this.Function(null,Gs)),this.skipSC(),this.tokenType===j&&this.cmpStr(this.tokenStart,this.tokenEnd,"supports(")&&t.push(this.Function(null,Gs)),(this.lookupNonWSType(0)===y||this.lookupNonWSType(0)===q)&&t.push(this.MediaQueryList()),t},block:null}},tf={parse:{prelude(){return this.createSingleNodeList(this.LayerList())},block(){return this.Block(!1)}}},ef={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(t=!1){return this.Block(t)}}},nf={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},rf={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},sf={parse:{prelude(){return this.createSingleNodeList(this.Scope())},block(t=!1){return this.Block(t)}}},of={parse:{prelude:null,block(t=!1){return this.Block(t)}}},lf={parse:{prelude(){return this.createSingleNodeList(this.Condition("supports"))},block(t=!1){return this.Block(t)}}},af={container:Jh,"font-face":Zh,import:Kh,layer:tf,media:ef,nest:nf,page:rf,scope:sf,"starting-style":of,supports:lf};function cf(){const t=this.createList();this.skipSC();t:for(;!this.eof;){switch(this.tokenType){case y:t.push(this.Identifier());break;case Bt:t.push(this.String());break;case Et:t.push(this.Operator());break;case T:break t;default:this.error("Identifier, string or comma is expected")}this.skipSC()}return t}const Jt={parse(){return this.createSingleNodeList(this.SelectorList())}},Tn={parse(){return this.createSingleNodeList(this.Selector())}},uf={parse(){return this.createSingleNodeList(this.Identifier())}},hf={parse:cf},We={parse(){return this.createSingleNodeList(this.Nth())}},ff={dir:uf,has:Jt,lang:hf,matches:Jt,is:Jt,"-moz-any":Jt,"-webkit-any":Jt,where:Jt,not:Jt,"nth-child":We,"nth-last-child":We,"nth-last-of-type":We,"nth-of-type":We,slotted:Tn,host:Tn,"host-context":Tn},df=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:dr,Atrule:gr,AtrulePrelude:kr,AttributeSelector:vr,Block:Tr,Brackets:Ar,CDC:_r,CDO:jr,ClassSelector:Ir,Combinator:Nr,Comment:$r,Condition:Wr,Declaration:Gr,DeclarationList:Qr,Dimension:Jr,Feature:Kr,FeatureFunction:ei,FeatureRange:oi,Function:ai,GeneralEnclosed:ui,Hash:fi,IdSelector:gi,Identifier:pi,Layer:ki,LayerList:Si,MediaQuery:Ci,MediaQueryList:xi,NestingSelector:Ti,Nth:Ai,Number:_i,Operator:ji,Parentheses:Ii,Percentage:Ri,PseudoClassSelector:Fi,PseudoElementSelector:zi,Ratio:Hi,Raw:qi,Rule:Qi,Scope:Ji,Selector:Ki,SelectorList:es,String:ss,StyleSheet:as,SupportsDeclaration:us,TypeSelector:ds,UnicodeRange:ys,Url:Ss,Value:Cs,WhiteSpace:xs},Symbol.toStringTag,{value:"Module"})),pf={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",condition(t){return this.Condition(t.kind)},rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},features:{supports:{selector(){return this.Selector()}},container:{style(){return this.Declaration()}}},scope:Qh,atrule:af,pseudo:ff,node:df},mf=Ah(pf);function Ue(t){const e={};for(const n of Object.keys(t)){let r=t[n];r&&(Array.isArray(r)||r instanceof yt?r=r.map(Ue):r.constructor===Object&&(r=Ue(r))),e[n]=r}return e}let gf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Dt=(t=21)=>{let e="",n=t|0;for(;n--;)e+=gf[Math.random()*64|0];return e};const Xs=Dt();function He(t){return!!(t&&t.type==="Function"&&t.name==="anchor")}function Vt(t){return mf(t,{parseAtrulePrelude:!1,parseCustomProperty:!0})}function St(t){return vh(t,{mode:"spec"})}function yf(t){return t.type==="Declaration"}function kf(t){return t.toArray().reduce((e,n)=>n.type==="Operator"&&n.value===","?(e.push([]),e):(n.type==="Identifier"&&e[e.length-1].push(n),e),[[]])}function On(t){return t?t.children.map(e=>{var n;let r;((n=e.children.last)==null?void 0:n.type)==="PseudoElementSelector"&&(e=Ue(e),r=St(e.children.last),e.children.pop());const i=St(e);return{selector:i+(r??""),elementPart:i,pseudoElementPart:r}}).toArray():[]}const An=[...As,"anchor-scope","anchor-name"].reduce((t,e)=>(t[e]=`--${e}-${Xs}`,t),{});function bf(t,e){return yf(t)&&An[t.property]&&e?(e.children.appendData(vt(ut({},t),{property:An[t.property]})),{updated:!0}):{}}function Sf(t){for(const e of t){let n=!1;const r=Vt(e.css);Ht(r,{visit:"Declaration",enter(i){var o;const l=(o=this.rule)==null?void 0:o.block,{updated:c}=bf(i,l);c&&(n=!0)}}),n&&(e.css=St(r),e.changed=!0)}return t.some(e=>e.changed===!0)}var Qs=(t=>(t.All="all",t.None="none",t))(Qs||{});function At(t,e){var n;return e=(n=An[e])!=null?n:e,(t instanceof HTMLElement?getComputedStyle(t):t.computedStyle).getPropertyValue(e).trim()}function pe(t,e,n){return At(t,e)===n}function vf(t,{selector:e,pseudoElementPart:n}){const r=getComputedStyle(t,n),i=document.createElement("div"),o=document.createElement("style");i.id=`fake-pseudo-element-${Dt()}`;for(const c of Array.from(r)){const a=r.getPropertyValue(c);i.style.setProperty(c,a)}o.textContent+=`#${i.id}${n} { content: ${r.content}; }`,o.textContent+=`${e} { display: none !important; }`,document.head.append(o);const l=n==="::before"?"afterbegin":"beforeend";return t.insertAdjacentElement(l,i),{fakePseudoElement:i,sheet:o,computedStyle:r}}function Cf(t){let e=t;for(;e;){if(pe(e,"overflow","scroll"))return e;e=e.parentElement}return e}function wf(t){let e=Cf(t);return e===document.documentElement&&(e=null),e??{scrollTop:0,scrollLeft:0}}function xf(t){const{elementPart:e,pseudoElementPart:n}=t,r=[];if(n&&!(n==="::before"||n==="::after"))return r;const i=Array.from(document.querySelectorAll(e));if(!n)return r.push(...i),r;for(const o of i){const{fakePseudoElement:l,sheet:c,computedStyle:a}=vf(o,t),s=l.getBoundingClientRect(),{scrollY:u,scrollX:h}=globalThis,f=wf(o);r.push({fakePseudoElement:l,computedStyle:a,removeFakePseudoElement(){l.remove(),c.remove()},contextElement:o,getBoundingClientRect(){const{scrollY:k,scrollX:g}=globalThis,{scrollTop:b,scrollLeft:O}=f;return DOMRect.fromRect({y:s.y+(u-k)+(f.scrollTop-b),x:s.x+(h-g)+(f.scrollLeft-O),width:s.width,height:s.height})}})}return r}function Lf(t,e){const n=At(t,"anchor-name");return e?n.split(",").map(r=>r.trim()).includes(e):!n}function Tf(t,e){const n=At(t,"anchor-scope");return n===e||n==="all"}const Pn=t=>G(C,null,function*(){var e,n,r;let i=yield(e=wt.getOffsetParent)==null?void 0:e.call(wt,t);return(yield(n=wt.isElement)==null?void 0:n.call(wt,i))||(i=(yield(r=wt.getDocumentElement)==null?void 0:r.call(wt,t))||window.document.documentElement),i}),Ys="InvalidMimeType";function Of(t){return!!((t.type==="text/css"||t.rel==="stylesheet")&&t.href)}function Af(t){const e=new URL(t.href,document.baseURI);if(Of(t)&&e.origin===location.origin)return e}function Pf(t){return G(this,null,function*(){return(yield Promise.all(t.map(e=>G(this,null,function*(){var n;if(!e.url)return e;if((n=e.el)!=null&&n.disabled)return null;try{const r=yield fetch(e.url.toString()),i=r.headers.get("content-type");if(!(i!=null&&i.startsWith("text/css"))){const l=new Error(`Error loading ${e.url}: expected content-type "text/css", got "${i}".`);throw l.name=Ys,l}const o=yield r.text();return vt(ut({},e),{css:o})}catch(r){if(r instanceof Error&&r.name===Ys)return console.warn(r),null;throw r}})))).filter(e=>e!==null)})}const Js='[style*="anchor"]',Zs='[style*="position-area"]';function _f(t){const e=t?t.filter(r=>r instanceof HTMLElement&&(r.matches(Js)||r.matches(Zs))):Array.from(document.querySelectorAll([Js,Zs].join(","))),n=[];return e.filter(r=>r instanceof HTMLElement).forEach(r=>{const i=Dt(12),o="data-has-inline-styles";r.setAttribute(o,i);const l=r.getAttribute("style"),c=`[${o}="${i}"] { ${l} }`;n.push({el:r,css:c})}),n}function Ef(t,e){return G(this,null,function*(){const n=t??Array.from(document.querySelectorAll("link, style")),r=[];n.filter(l=>l instanceof HTMLElement).forEach(l=>{if(l.tagName.toLowerCase()==="link"){const c=Af(l);c&&r.push({el:l,url:c})}l.tagName.toLowerCase()==="style"&&r.push({el:l,css:l.innerHTML})});const i=e?t??[]:void 0,o=_f(i);return yield Pf([...r,...o])})}const jf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ks=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=jf[n[t]&63];return e};const to="--pa-cascade-property",eo="data-anchor-position-wrapper",no="data-pa-wrapper-for-",ro="POLYFILL-POSITION-AREA",Df=["left","center","right","span-left","span-right","x-start","x-end","span-x-start","span-x-end","x-self-start","x-self-end","span-x-self-start","span-x-self-end","span-all","top","bottom","span-top","span-bottom","y-start","y-end","span-y-start","span-y-end","y-self-start","y-self-end","span-y-self-start","span-y-self-end","block-start","block-end","span-block-start","span-block-end","inline-start","inline-end","span-inline-start","span-inline-end","self-block-start","self-block-end","span-self-block-start","span-self-block-end","self-inline-start","self-inline-end","span-self-inline-start","span-self-inline-end","start","end","span-start","span-end","self-start","self-end","span-self-start","span-self-end"];function io(t){return Df.includes(t)}const so={left:[0,1,"Irrelevant"],center:[1,2,"Irrelevant"],right:[2,3,"Irrelevant"],"span-left":[0,2,"Irrelevant"],"span-right":[1,3,"Irrelevant"],"x-start":[0,1,"Physical"],"x-end":[2,3,"Physical"],"span-x-start":[0,2,"Physical"],"span-x-end":[1,3,"Physical"],"x-self-start":[0,1,"PhysicalSelf"],"x-self-end":[2,3,"PhysicalSelf"],"span-x-self-start":[0,2,"PhysicalSelf"],"span-x-self-end":[1,3,"PhysicalSelf"],"span-all":[0,3,"Irrelevant"],top:[0,1,"Irrelevant"],bottom:[2,3,"Irrelevant"],"span-top":[0,2,"Irrelevant"],"span-bottom":[1,3,"Irrelevant"],"y-start":[0,1,"Physical"],"y-end":[2,3,"Physical"],"span-y-start":[0,2,"Physical"],"span-y-end":[1,3,"Physical"],"y-self-start":[0,1,"PhysicalSelf"],"y-self-end":[2,3,"PhysicalSelf"],"span-y-self-start":[0,2,"PhysicalSelf"],"span-y-self-end":[1,3,"PhysicalSelf"],"block-start":[0,1,"Logical"],"block-end":[2,3,"Logical"],"span-block-start":[0,2,"Logical"],"span-block-end":[1,3,"Logical"],"inline-start":[0,1,"Logical"],"inline-end":[2,3,"Logical"],"span-inline-start":[0,2,"Logical"],"span-inline-end":[1,3,"Logical"],"self-block-start":[0,1,"LogicalSelf"],"self-block-end":[2,3,"LogicalSelf"],"span-self-block-start":[0,2,"LogicalSelf"],"span-self-block-end":[1,3,"LogicalSelf"],"self-inline-start":[0,1,"LogicalSelf"],"self-inline-end":[2,3,"LogicalSelf"],"span-self-inline-start":[0,2,"LogicalSelf"],"span-self-inline-end":[1,3,"LogicalSelf"],start:[0,1,"Logical"],end:[2,3,"Logical"],"span-start":[0,2,"Logical"],"span-end":[1,3,"Logical"],"self-start":[0,1,"LogicalSelf"],"self-end":[2,3,"LogicalSelf"],"span-self-start":[0,2,"LogicalSelf"],"span-self-end":[1,3,"LogicalSelf"]},If=["left","center","right","span-left","span-right","x-start","x-end","span-x-start","span-x-end","x-self-start","x-self-end","span-x-self-start","span-x-self-end","span-all"],Mf=["top","center","bottom","span-top","span-bottom","y-start","y-end","span-y-start","span-y-end","y-self-start","y-self-end","span-y-self-start","span-y-self-end","span-all"],Rf=["block-start","center","block-end","span-block-start","span-block-end","span-all"],Nf=["inline-start","center","inline-end","span-inline-start","span-inline-end","span-all"],Ff=["self-block-start","center","self-block-end","span-self-block-start","span-self-block-end","span-all"],$f=["self-inline-start","center","self-inline-end","span-self-inline-start","span-self-inline-end","span-all"],oo=["start","center","end","span-start","span-end","span-all"],lo=["self-start","center","self-end","span-self-start","span-self-end","span-all"],zf=["block","top","bottom","y"],Bf=["inline","left","right","x"];function _n(t){const e=t.split("-");for(const n of e){if(zf.includes(n))return"block";if(Bf.includes(n))return"inline"}return"ambiguous"}function Wf(t,e){return e[0].includes(t[0])&&e[1].includes(t[1])||e[0].includes(t[1])&&e[1].includes(t[0])}const Uf=[[If,Mf],[Rf,Nf],[Ff,$f],[oo,oo],[lo,lo]];function Hf(t){for(const e of Uf)if(Wf(t,e))return!0;return!1}const ao=t=>{const e=getComputedStyle(t);return{writingMode:e.writingMode,direction:e.direction}},Vf=(t,e)=>G(C,null,function*(){const n=yield Pn(t);switch(e){case"Logical":case"Physical":return ao(n);case"LogicalSelf":case"PhysicalSelf":return ao(t);default:return null}}),En=t=>t.reverse().map(e=>3-e),co=(t,e)=>t==="Irrelevant"?e:t,qf=(t,e)=>G(C,[t,e],function*({block:n,inline:r},i){const o=co(n[2],r[2]),l=yield Vf(i,o),c={block:[n[0],n[1]],inline:[r[0],r[1]]};if(l){if(l.direction==="rtl"&&(c.inline=En(c.inline)),l.writingMode.startsWith("vertical")){const a=c.block;c.block=c.inline,c.inline=a}if(l.writingMode.startsWith("sideways")){const a=c.block;c.block=c.inline,c.inline=a,l.writingMode.endsWith("lr")&&(c.block=En(c.block))}l.writingMode.endsWith("rl")&&(c.inline=En(c.inline))}return c}),Gf=({block:t,inline:e})=>{const n=[0,"top","bottom",0],r=[0,"left","right",0];return{block:[n[t[0]],n[t[1]]],inline:[r[e[0]],r[e[1]]]}};function uo([t,e]){return t===0&&e===3?"center":t===0?"end":e===3?"start":"center"}function Xf(t){return t.type==="Declaration"&&t.property==="position-area"}function Qf(t){const e=t.value.children.toArray().map(({name:n})=>n);return e.length===1&&(_n(e[0])==="ambiguous"?e.push(e[0]):e.push("span-all")),e}function Yf(t){if(!Xf(t))return;const e=Qf(t);if(!Hf(e))return;const n={};switch(_n(e[0])){case"block":n.block=e[0],n.inline=e[1];break;case"inline":n.inline=e[0],n.block=e[1];break;case"ambiguous":_n(e[1])=="block"?(n.block=e[1],n.inline=e[0]):(n.inline=e[1],n.block=e[0]);break}const r={block:so[n.block],inline:so[n.inline]},i=`--pa-declaration-${Ks(12)}`;return{values:n,grid:r,selectorUUID:i}}function Jf(t,e){["justify-self","align-self"].forEach(n=>{e.children.appendData({type:"Declaration",property:n,value:{type:"Raw",value:`var(--pa-value-${n})`},important:!1})}),e.children.appendData({type:"Declaration",property:to,value:{type:"Raw",value:t.selectorUUID},important:!1})}function Zf(t,e){var n,r;let i;if(((n=t.parentElement)==null?void 0:n.tagName)===ro)i=t.parentElement;else{i=document.createElement(ro),i.style.display="grid",i.style.position="absolute";const o=getComputedStyle(t).pointerEvents;i.style.pointerEvents="none",t.style.pointerEvents=o,["top","left","right","bottom"].forEach(l=>{i.style.setProperty(l,`var(--pa-value-${l})`)}),(r=t.parentElement)==null||r.insertBefore(i,t),i.appendChild(t)}return i.setAttribute(`${no}${e}`,""),i}function Kf(t,e,n){return G(this,null,function*(){const r=`--pa-target-${Ks(12)}`,i=yield qf(e.grid,t),o=Gf(i),l=co(e.grid.block[2],e.grid.inline[2]),c=["LogicalSelf","PhysicalSelf"].includes(l)?i:e.grid,a={block:uo([c.block[0],c.block[1]]),inline:uo([c.inline[0],c.inline[1]])};return{insets:o,alignments:a,targetUUID:r,targetEl:t,anchorEl:n,wrapperEl:Zf(t,r),values:e.values,grid:e.grid,selectorUUID:e.selectorUUID}})}function td(t,e){return`
    [${eo}="${e}"][${no}${t}] {
      --pa-value-top: var(${t}-top);
      --pa-value-left: var(${t}-left);
      --pa-value-right: var(${t}-right);
      --pa-value-bottom: var(${t}-bottom);
      --pa-value-justify-self: var(${t}-justify-self);
      --pa-value-align-self: var(${t}-align-self);
    }
  `.replaceAll(`
`,"")}const ed=["normal","most-width","most-height","most-block-size","most-inline-size"],nd=["flip-block","flip-inline","flip-start"];function rd(t){return t.type==="Declaration"}function id(t){return t.type==="Declaration"&&t.property==="position-try-fallbacks"}function sd(t){return t.type==="Declaration"&&t.property==="position-try-order"}function od(t){return t.type==="Declaration"&&t.property==="position-try"}function ld(t){return t.type==="Atrule"&&t.name==="position-try"}function ad(t){return nd.includes(t)}function cd(t){return ed.includes(t)}function ud(t,e){const n=document.querySelector(t);if(n){let r=fd(n);return e.forEach(i=>{r=ho(r,i)}),r}}function hd(t,e){let n=t.declarations;return e.forEach(r=>{n=ho(n,r)}),n}function fd(t){const e={};return As.forEach(n=>{const r=At(t,`--${n}-${Xs}`);r&&(e[n]=r)}),e}const dd={"flip-block":{top:"bottom",bottom:"top","inset-block-start":"inset-block-end","inset-block-end":"inset-block-start","margin-top":"margin-bottom","margin-bottom":"margin-top"},"flip-inline":{left:"right",right:"left","inset-inline-start":"inset-inline-end","inset-inline-end":"inset-inline-start","margin-left":"margin-right","margin-right":"margin-left"},"flip-start":{left:"top",right:"bottom",top:"left",bottom:"right","inset-block-start":"inset-block-end","inset-block-end":"inset-block-start","inset-inline-start":"inset-inline-end","inset-inline-end":"inset-inline-start","inset-block":"inset-inline","inset-inline":"inset-block"}},pd={"flip-block":{top:"bottom",bottom:"top",start:"end",end:"start","self-end":"self-start","self-start":"self-end"},"flip-inline":{left:"right",right:"left",start:"end",end:"start","self-end":"self-start","self-start":"self-end"},"flip-start":{top:"left",left:"top",right:"bottom",bottom:"right"}},md={"flip-block":{top:"bottom",bottom:"top",start:"end",end:"start"},"flip-inline":{left:"right",right:"left",start:"end",end:"start"},"flip-start":{}};function gd(t,e){return dd[e][t]||t}function yd(t,e){return pd[e][t]||t}function kd(t,e){if(e==="flip-start")return t;{const n=md[e];return t.split("-").map(r=>n[r]||r).join("-")}}function bd(t,e,n){if(t==="margin"){const[r,i,o,l]=e.children.toArray();n==="flip-block"?l?e.children.fromArray([o,i,r,l]):o&&e.children.fromArray([o,i,r]):n==="flip-inline"&&l&&e.children.fromArray([r,l,o,i])}else if(t==="margin-block"){const[r,i]=e.children.toArray();n==="flip-block"&&i&&e.children.fromArray([i,r])}else if(t==="margin-inline"){const[r,i]=e.children.toArray();n==="flip-inline"&&i&&e.children.fromArray([i,r])}}const Sd=(t,e)=>{var n;return((n=Vt(`#id{${t}: ${e};}`).children.first)==null?void 0:n.block.children.first).value};function ho(t,e){const n={};return Object.entries(t).forEach(([r,i])=>{const o=r,l=Sd(o,i),c=gd(o,e);c!==o&&(n[o]!=null||(n[o]="revert")),Ht(l,{visit:"Function",enter(a){He(a)&&a.children.forEach(s=>{Oe(s)&&_s(s.name)&&(s.name=yd(s.name,e))})}}),o==="position-area"&&l.children.forEach(a=>{Oe(a)&&io(a.name)&&(a.name=kd(a.name,e))}),o.startsWith("margin")&&bd(o,l,e),n[c]=St(l)}),n}function fo(t){const e=kf(t),n=[];return e.forEach(r=>{const i={atRules:[],tactics:[],positionAreas:[]};r.forEach(o=>{ad(o.name)?i.tactics.push(o.name):o.name.startsWith("--")?i.atRules.push(o.name):io(o.name)&&i.positionAreas.push(o.name)}),i.positionAreas.length?n.push({positionArea:i.positionAreas[0],type:"position-area"}):i.atRules.length&&i.tactics.length?n.push({tactics:i.tactics,atRule:i.atRules[0],type:"at-rule-with-try-tactic"}):i.atRules.length?n.push({atRule:i.atRules[0],type:"at-rule"}):i.tactics.length&&n.push({tactics:i.tactics,type:"try-tactic"})}),n}function vd(t){return id(t)&&t.value.children.first?fo(t.value.children):[]}function Cd(t){if(od(t)&&t.value.children.first){const e=Ue(t);let n;const r=e.value.children.first.name;r&&cd(r)&&(n=r,e.value.children.shift());const i=fo(e.value.children);return{order:n,options:i}}return{}}function wd(t){return sd(t)&&t.value.children.first?{order:t.value.children.first.name}:{}}function xd(t){const{order:e,options:n}=Cd(t);if(e||n)return{order:e,options:n};const{order:r}=wd(t),i=vd(t);return r||i?{order:r,options:i}:{}}function Ld(t){return Te(t.property)||ih(t.property)||Ts(t.property)||sh(t.property)||["position-anchor","position-area"].includes(t.property)}function Td(t){var e,n;if(ld(t)&&(e=t.prelude)!=null&&e.value&&(n=t.block)!=null&&n.children){const r=t.prelude.value,i=t.block.children.filter(l=>rd(l)&&Ld(l)),o={uuid:`${r}-try-${Dt(12)}`,declarations:Object.fromEntries(i.map(l=>[l.property,St(l.value)]))};return{name:r,tryBlock:o}}return{}}function Od(t){const e={},n={},r={};for(const i of t){const o=Vt(i.css);Ht(o,{visit:"Atrule",enter(l){const{name:c,tryBlock:a}=Td(l);c&&a&&(e[c]=a)}})}for(const i of t){let o=!1;const l=new Set,c=Vt(i.css);Ht(c,{visit:"Declaration",enter(a){var s;const u=(s=this.rule)==null?void 0:s.prelude,h=On(u);if(!h.length)return;const{order:f,options:k}=xd(a),g={};f&&(g.order=f),h.forEach(({selector:b})=>{var O;k==null||k.forEach(x=>{var H;let I;if(x.type==="at-rule")I=x.atRule;else if(x.type==="try-tactic"){I=`${b}-${x.tactics.join("-")}`;const B=ud(b,x.tactics);B&&(e[I]={uuid:`${b}-${x.tactics.join("-")}-try-${Dt(12)}`,declarations:B})}else if(x.type==="at-rule-with-try-tactic"){I=`${b}-${x.atRule}-${x.tactics.join("-")}`;const B=e[x.atRule],P=hd(B,x.tactics);P&&(e[I]={uuid:`${b}-${x.atRule}-${x.tactics.join("-")}-try-${Dt(12)}`,declarations:P})}if(I&&e[I]){const B=`[data-anchor-polyfill="${e[I].uuid}"]`;n[B]!=null||(n[B]=[]),n[B].push(b),l.has(I)||(g.fallbacks!=null||(g.fallbacks=[]),g.fallbacks.push(e[I]),l.add(I),(H=this.stylesheet)==null||H.children.prependData({type:"Rule",prelude:{type:"Raw",value:B},block:{type:"Block",children:new yt().fromArray(Object.entries(e[I].declarations).map(([P,$])=>({type:"Declaration",important:!0,property:P,value:{type:"Raw",value:$}})))}}),o=!0)}}),Object.keys(g).length>0&&(r[b]?(g.order&&(r[b].order=g.order),g.fallbacks&&((O=r[b]).fallbacks!=null||(O.fallbacks=[]),r[b].fallbacks.push(...g.fallbacks))):r[b]=g)})}}),o&&(i.css=St(c),i.changed=!0)}return{fallbackTargets:n,validPositions:r}}function Ad(t,e){return!t||t===e?!1:po(t)?t.document.contains(e):t.contains(e)}function po(t){return!!(t&&t===t.window)}function Pd(t){return pe(t,"position","fixed")}function jn(t){return!!(t&&(Pd(t)||pe(t,"position","absolute")))}function mo(t,e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}function _d(t){return G(this,null,function*(){return yield wt.getOffsetParent(t)})}function Dn(t){return G(this,null,function*(){if(!["absolute","fixed"].includes(At(t,"position")))return yield _d(t);let e=t.parentElement;for(;e;){if(!pe(e,"position","static")&&pe(e,"display","block"))return e;e=e.parentElement}return window})}function Ed(t,e,n,r){return G(this,null,function*(){const i=yield Dn(t),o=yield Dn(n);if(!(Ad(o,t)||po(o))||i===o&&!(!jn(t)||mo(t,n)))return!1;if(i!==o){let l;const c=[];for(l=i;l&&l!==o&&l!==window;)c.push(l),l=yield Dn(l);const a=c[c.length-1];if(a instanceof HTMLElement&&!(!jn(a)||mo(a,n)))return!1}{let l=t.parentElement;for(;l;){if(pe(l,"content-visibility","hidden"))return!1;l=l.parentElement}}return!(e&&r&&go(t,e,r)!==go(n,e,r))})}function go(t,e,n){for(;!(t.matches(n)&&Tf(t,e));){if(!t.parentElement)return null;t=t.parentElement}return t}function jd(t,e,n,r){return G(this,null,function*(){if(!(t instanceof HTMLElement&&n.length&&jn(t)))return null;const i=n.flatMap(xf).filter(l=>Lf(l,e)),o=r.map(l=>l.selector).join(",")||null;for(let l=i.length-1;l>=0;l--){const c=i[l],a="fakePseudoElement"in c;if(yield Ed(a?c.fakePseudoElement:c,e,t,o))return a&&c.removeFakePseudoElement(),c}return null})}function Dd(t){return t.type==="Declaration"&&t.property==="anchor-name"}function Id(t){return t.type==="Declaration"&&t.property==="anchor-scope"}function In(t){return!!(t&&t.type==="Function"&&t.name==="anchor-size")}function Ve(t){return!!(t&&t.type==="Function"&&t.name==="var")}function Oe(t){return!!(t.type==="Identifier"&&t.name)}function Md(t){return!!(t.type==="Percentage"&&t.value)}function yo(t,e){let n,r,i,o="",l=!1,c;const a=[];t.children.toArray().forEach(f=>{if(l){o=`${o}${St(f)}`;return}if(f.type==="Operator"&&f.value===","){l=!0;return}a.push(f)});let[s,u]=a;if(u||(u=s,s=void 0),s&&(Oe(s)&&s.name.startsWith("--")?n=s.name:Ve(s)&&s.children.first&&(c=s.children.first.name)),u)if(He(t)){if(Oe(u)&&_s(u.name))r=u.name;else if(Md(u)){const f=Number(u.value);r=Number.isNaN(f)?void 0:f}}else In(t)&&Oe(u)&&ch(u.name)&&(i=u.name);const h=`--anchor-${Dt(12)}`;return Object.assign(t,{type:"Raw",value:`var(${h})`,children:null}),Reflect.deleteProperty(t,"name"),{anchorName:n,anchorSide:r,anchorSize:i,fallbackValue:o||"0px",customPropName:c,uuid:h}}function ko(t){return t.value.children.map(({name:e})=>e)}let Ae={},Zt={},Kt={},Pe={},te={};function Rd(){Ae={},Zt={},Kt={},Pe={},te={}}function Nd(t,e){var n;if((He(t)||In(t))&&e){if(e.property.startsWith("--")){const r=St(e.value),i=yo(t);return Pe[i.uuid]=r,Kt[e.property]=[...(n=Kt[e.property])!=null?n:[],i],{changed:!0}}if(He(t)&&Te(e.property)||In(t)&&Ps(e.property)){const r=yo(t);return{prop:e.property,data:r,changed:!0}}}return{}}function bo(t,e){return G(this,null,function*(){let n=e==null?void 0:e.anchorName;const r=e==null?void 0:e.customPropName;if(t&&!n){const c=At(t,"position-anchor");c?n=c:r&&(n=At(t,r))}const i=n?Ae[n]||[]:[],o=n?Zt[Qs.All]||[]:[],l=n?Zt[n]||[]:[];return yield jd(t,n||null,i,[...o,...l])})}function Fd(t){return G(this,null,function*(){var e,n,r,i,o,l,c,a,s,u,h;const f={},k={};Rd();const{fallbackTargets:g,validPositions:b}=Od(t);for(const P of t){let $=!1;const st=Vt(P.css);Ht(st,function(V){var ot,J,X,ct;const Y=(ot=this.rule)==null?void 0:ot.prelude,Z=On(Y);if(Dd(V)&&Z.length)for(const K of ko(V))Ae[K]!=null||(Ae[K]=[]),Ae[K].push(...Z);if(Id(V)&&Z.length)for(const K of ko(V))Zt[K]!=null||(Zt[K]=[]),Zt[K].push(...Z);const{prop:kt,data:Ft,changed:ee}=Nd(V,this.declaration);if(kt&&Ft&&Z.length)for(const{selector:K}of Z)f[K]=vt(ut({},f[K]),{[kt]:[...(X=(J=f[K])==null?void 0:J[kt])!=null?X:[],Ft]});let ft;if(this.block&&(ft=Yf(V),ft)){Jf(ft,this.block);for(const{selector:K}of Z)k[K]=[...(ct=k[K])!=null?ct:[],ft]}(ee||ft)&&($=!0)}),$&&(P.css=St(st),P.changed=!0)}const O=new Set(Object.keys(Kt)),x={},H=P=>{var $,st,V,ot,J;const X=[],ct=new Set((st=($=x[P])==null?void 0:$.names)!=null?st:[]);for(;ct.size>0;)for(const Y of ct)X.push(...(V=Kt[Y])!=null?V:[]),ct.delete(Y),(J=(ot=x[Y])==null?void 0:ot.names)!=null&&J.length&&x[Y].names.forEach(Z=>ct.add(Z));return X};for(;O.size>0;){const P=[];for(const $ of t){let st=!1;const V=Vt($.css);Ht(V,{visit:"Function",enter(ot){var J,X;const ct=(J=this.rule)==null?void 0:J.prelude,Y=this.declaration,Z=Y==null?void 0:Y.property;if((ct==null?void 0:ct.children.isEmpty)===!1&&Ve(ot)&&Y&&Z&&ot.children.first&&O.has(ot.children.first.name)&&Z.startsWith("--")){const kt=ot.children.first,Ft=(X=Kt[kt.name])!=null?X:[],ee=H(kt.name);if(!(Ft.length||ee.length))return;const ft=`${kt.name}-anchor-${Dt(12)}`,K=St(Y.value);Pe[ft]=K,x[Z]||(x[Z]={names:[],uuids:[]});const me=x[Z];me.names.includes(kt.name)||me.names.push(kt.name),me.uuids.push(ft),P.push(Z),kt.name=ft,st=!0}}}),st&&($.css=St(V),$.changed=!0)}O.clear(),P.forEach($=>O.add($))}for(const P of t){let $=!1;const st=Vt(P.css);Ht(st,{visit:"Function",enter(V){var ot,J,X,ct,Y,Z,kt;const Ft=(ot=this.rule)==null?void 0:ot.prelude,ee=this.declaration,ft=ee==null?void 0:ee.property;if((Ft==null?void 0:Ft.children.isEmpty)===!1&&Ve(V)&&ee&&ft&&V.children.first&&(Te(ft)||Ts(ft))){const K=V.children.first,me=(J=Kt[K.name])!=null?J:[],Rn=H(K.name);if(!(me.length||Rn.length))return;const Ge=`${ft}-${Dt(12)}`;if(Rn.length){const ge=new Set([K.name]);for(;ge.size>0;)for(const ye of ge){const Pt=x[ye];if((X=Pt==null?void 0:Pt.names)!=null&&X.length&&(ct=Pt==null?void 0:Pt.uuids)!=null&&ct.length)for(const ke of Pt.names)for(const be of Pt.uuids)te[be]=vt(ut({},te[be]),{[Ge]:`${ke}-${Ge}`});ge.delete(ye),(Y=Pt==null?void 0:Pt.names)!=null&&Y.length&&Pt.names.forEach(ke=>ge.add(ke))}}const Jd=On(Ft);for(const ge of[...me,...Rn]){const ye=ut({},ge),Pt=`--anchor-${Dt(12)}-${ft}`,ke=ye.uuid;ye.uuid=Pt;for(const{selector:be}of Jd)f[be]=vt(ut({},f[be]),{[ft]:[...(kt=(Z=f[be])==null?void 0:Z[ft])!=null?kt:[],ye]});te[ke]=vt(ut({},te[ke]),{[Ge]:Pt})}K.name=`${K.name}-${Ge}`,$=!0}}}),$&&(P.css=St(st),P.changed=!0)}if(Object.keys(te).length>0)for(const P of t){let $=!1;const st=Vt(P.css);Ht(st,{visit:"Function",enter(V){var ot,J,X,ct;if(Ve(V)&&(J=(ot=V.children.first)==null?void 0:ot.name)!=null&&J.startsWith("--")&&(ct=(X=this.declaration)==null?void 0:X.property)!=null&&ct.startsWith("--")&&this.block){const Y=V.children.first,Z=te[Y.name];if(Z)for(const[kt,Ft]of Object.entries(Z))this.block.children.appendData({type:"Declaration",important:!1,property:`${this.declaration.property}-${kt}`,value:{type:"Raw",value:St(this.declaration.value).replace(`var(${Y.name})`,`var(${Ft})`)}}),$=!0;Pe[Y.name]&&(this.declaration.value={type:"Raw",value:Pe[Y.name]},$=!0)}}}),$&&(P.css=St(st),P.changed=!0)}const I=new Map;for(const[P,$]of Object.entries(f)){let st;P.startsWith("[data-anchor-polyfill=")&&(e=g[P])!=null&&e.length?st=document.querySelectorAll(g[P].join(",")):st=document.querySelectorAll(P);for(const[V,ot]of Object.entries($))for(const J of ot)for(const X of st){const ct=yield bo(X,J),Y=`--anchor-${Dt(12)}`;I.set(X,vt(ut({},(n=I.get(X))!=null?n:{}),{[J.uuid]:Y})),X.setAttribute("style",`${J.uuid}: var(${Y}); ${(r=X.getAttribute("style"))!=null?r:""}`),b[P]=vt(ut({},b[P]),{declarations:vt(ut({},(i=b[P])==null?void 0:i.declarations),{[V]:[...(c=(l=(o=b[P])==null?void 0:o.declarations)==null?void 0:l[V])!=null?c:[],vt(ut({},J),{anchorEl:ct,targetEl:X,uuid:Y})]})})}}const B={el:document.createElement("link"),changed:!1,created:!0,css:""};t.push(B);for(const[P,$]of Object.entries(k)){const st=document.querySelectorAll(P);for(const V of st){const ot=yield bo(V);for(const J of $){const X=yield Kf(V,J,ot);B.css+=td(X.targetUUID,J.selectorUUID),B.changed=!0,b[P]=vt(ut({},b[P]),{declarations:vt(ut({},(a=b[P])==null?void 0:a.declarations),{"position-area":[...(h=(u=(s=b[P])==null?void 0:s.declarations)==null?void 0:u["position-area"])!=null?h:[],X]})})}}}return{rules:b,inlineStyles:I,anchorScopes:Zt}})}const $d=["as","blocking","crossorigin","disabled","fetchpriority","href","hreflang","integrity","referrerpolicy","rel","type"];function So(t,e,n=!1){const r=[];for(const{el:i,css:o,changed:l,created:c=!1}of t){const a={el:i,css:o,changed:!1};if(l){if(i.tagName.toLowerCase()==="style")i.innerHTML=o;else if(i instanceof HTMLLinkElement){const s=document.createElement("style");s.textContent=o;for(const u of i.getAttributeNames())if(!u.startsWith("on")&&!$d.includes(u)){const h=i.getAttribute(u);h!==null&&s.setAttribute(u,h)}i.hasAttribute("href")&&s.setAttribute("data-original-href",i.getAttribute("href")),c?(s.setAttribute("data-generated-by-polyfill","true"),document.head.insertAdjacentElement("beforeend",s)):(i.insertAdjacentElement("beforebegin",s),i.remove()),a.el=s}else if(i.hasAttribute("data-has-inline-styles")){const s=i.getAttribute("data-has-inline-styles");if(s){const u=`[data-has-inline-styles="${s}"]{`;let h=o.slice(u.length,-1);const f=e==null?void 0:e.get(i);if(f)for(const[k,g]of Object.entries(f))h=`${k}: var(${g}); ${h}`;i.setAttribute("style",h)}}}n&&i.hasAttribute("data-has-inline-styles")&&i.removeAttribute("data-has-inline-styles"),r.push(a)}return r}const zd=vt(ut({},wt),{_c:new Map}),Bd=(t,e)=>{let n;switch(t){case"start":case"self-start":n=0;break;case"end":case"self-end":n=100;break;default:typeof t=="number"&&!Number.isNaN(t)&&(n=t)}if(n!==void 0)return e?100-n:n},Wd=(t,e)=>{let n;switch(t){case"block":case"self-block":n=e?"width":"height";break;case"inline":case"self-inline":n=e?"height":"width";break}return n},vo=t=>{switch(t){case"top":case"bottom":return"y";case"left":case"right":return"x"}return null},Ud=t=>{switch(t){case"x":return"width";case"y":return"height"}return null},Co=t=>At(t,"display")==="inline",wo=(t,e)=>(e==="x"?["border-left-width","border-right-width"]:["border-top-width","border-bottom-width"]).reduce((n,r)=>n+parseInt(At(t,r),10),0)||0,qe=(t,e)=>parseInt(At(t,`margin-${e}`),10)||0,Hd=t=>({top:qe(t,"top"),right:qe(t,"right"),bottom:qe(t,"bottom"),left:qe(t,"left")}),Mn=t=>G(C,[t],function*({targetEl:e,targetProperty:n,anchorRect:r,anchorSide:i,anchorSize:o,fallback:l=null}){var c;if(!((o||i!==void 0)&&e&&r))return l;if(o){if(!Ps(n))return l;let a;switch(o){case"width":case"height":a=o;break;default:{let s=!1;const u=At(e,"writing-mode");s=u.startsWith("vertical-")||u.startsWith("sideways-"),a=Wd(o,s)}}return a?`${r[a]}px`:l}if(i!==void 0){let a,s;const u=vo(n);if(!(Te(n)&&u&&(!Te(i)||u===vo(i))))return l;const h=["top","left"];switch(i){case"left":case"top":a=0;break;case"right":case"bottom":a=100;break;case"center":a=50;break;case"inside":a=h.includes(n)?0:100;break;case"outside":a=h.includes(n)?100:0;break;default:if(e){const g=(yield(c=wt.isRTL)==null?void 0:c.call(wt,e))||!1;a=Bd(i,g)}}const f=typeof a=="number"&&!Number.isNaN(a),k=Ud(u);if(f&&k){(n==="bottom"||n==="right")&&(s=yield Pn(e));let g=r[u]+r[k]*(a/100);switch(n){case"bottom":{if(!s)break;let b=s.clientHeight;if(b===0&&Co(s)){const O=wo(s,u);b=s.offsetHeight-O}g=b-g;break}case"right":{if(!s)break;let b=s.clientWidth;if(b===0&&Co(s)){const O=wo(s,u);b=s.offsetWidth-O}g=b-g;break}}return`${g}px`}}return l}),Vd=t=>"wrapperEl"in t,qd=t=>"uuid"in t;function Gd(t,e=!1){return G(this,null,function*(){const n=document.documentElement;for(const[r,i]of Object.entries(t))for(const o of i){const l=o.anchorEl,c=o.targetEl;if(l&&c)if(Vd(o)){const a=o.wrapperEl,s=(u,h,f)=>G(this,null,function*(){return u===0?"0px":yield Mn({targetEl:a,targetProperty:h,anchorRect:f,anchorSide:u})});Ze(l,a,()=>G(this,null,function*(){const u=At(c,to);a.setAttribute(eo,u);const h=yield wt.getElementRects({reference:l,floating:a,strategy:"absolute"}),f=o.insets,k=yield s(f.block[0],"top",h.reference),g=yield s(f.block[1],"bottom",h.reference),b=yield s(f.inline[0],"left",h.reference),O=yield s(f.inline[1],"right",h.reference);n.style.setProperty(`${o.targetUUID}-top`,k||null),n.style.setProperty(`${o.targetUUID}-left`,b||null),n.style.setProperty(`${o.targetUUID}-right`,O||null),n.style.setProperty(`${o.targetUUID}-bottom`,g||null),n.style.setProperty(`${o.targetUUID}-justify-self`,o.alignments.inline),n.style.setProperty(`${o.targetUUID}-align-self`,o.alignments.block)}),{animationFrame:e})}else Ze(l,c,()=>G(this,null,function*(){const a=yield wt.getElementRects({reference:l,floating:c,strategy:"absolute"}),s=yield Mn({targetEl:c,targetProperty:r,anchorRect:a.reference,anchorSide:o.anchorSide,anchorSize:o.anchorSize,fallback:o.fallbackValue});n.style.setProperty(o.uuid,s)}),{animationFrame:e});else if(qd(o)){const a=yield Mn({targetProperty:r,anchorSide:o.anchorSide,anchorSize:o.anchorSize,fallback:o.fallbackValue});n.style.setProperty(o.uuid,a)}}})}function xo(t,e){return G(this,null,function*(){const n=yield wt.getElementRects({reference:t,floating:t,strategy:"absolute"});return yield Xo({x:t.offsetLeft,y:t.offsetTop,platform:zd,rects:n,elements:{floating:t,reference:e},strategy:"absolute"},{padding:Hd(t)})})}function Xd(t,e,n=!1){return G(this,null,function*(){if(!e.length)return;const r=document.querySelectorAll(t);for(const i of r){let o=!1;const l=yield Pn(i);Ze({},i,()=>G(this,null,function*(){if(o)return;o=!0,i.removeAttribute("data-anchor-polyfill");const c=yield xo(i,l);if(Object.values(c).every(a=>a<=0)){i.removeAttribute("data-anchor-polyfill-last-successful"),o=!1;return}for(const[a,{uuid:s}]of e.entries()){i.setAttribute("data-anchor-polyfill",s);const u=yield xo(i,l);if(Object.values(u).every(h=>h<=0)){i.setAttribute("data-anchor-polyfill-last-successful",s),o=!1;break}if(a===e.length-1){const h=i.getAttribute("data-anchor-polyfill-last-successful");h?i.setAttribute("data-anchor-polyfill",h):i.removeAttribute("data-anchor-polyfill"),o=!1;break}}}),{animationFrame:n,layoutShift:!1})}})}function Qd(t,e=!1){return G(this,null,function*(){var n,r;for(const i of Object.values(t))yield Gd((n=i.declarations)!=null?n:{},e);for(const[i,o]of Object.entries(t))yield Xd(i,(r=o.fallbacks)!=null?r:[],e)})}function Yd(t={}){const e=typeof t=="boolean"?{useAnimationFrame:t}:t,n=e.useAnimationFrame===void 0?!!window.UPDATE_ANCHOR_ON_ANIMATION_FRAME:e.useAnimationFrame;return Array.isArray(e.elements)||(e.elements=void 0),Object.assign(e,{useAnimationFrame:n})}function Lo(t){return G(this,null,function*(){const e=Yd(window.ANCHOR_POSITIONING_POLYFILL_OPTIONS);let n=yield Ef(e.elements,e.excludeInlineStyles);Sf(n)&&(n=So(n));const{rules:r,inlineStyles:i}=yield Fd(n);return Object.values(r).length&&(So(n,i,!0),yield Qd(r,e.useAnimationFrame)),r})}document.readyState!=="complete"?window.addEventListener("load",()=>{Lo()}):Lo()});kp();export{Tp as A,Op as N,Sp as P,vp as a,xp as b,wp as c,Lp as g,Cp as s};
