import{s as D,b as Qd,c as Yd,d as _o,a as Jd,i as Zd}from"./utilities-wVmW3LLd.js";let Nn="page-header";class Kd extends HTMLElement{constructor(){super()}connectedCallback(){this.setClass(),this.render()}render(){let p=D("hgroup",{class:"logo-wrap"}),m=Qd(),d=D("h1").inner("Newsify");p.append(m,d);let S=D("div",{class:`${this.className}__profile`}),v="Victor P.",x=D("div"),M=D("p").inner(this.timeSpecificGreeting()),U=D("p").inner(v);x.append(M,U);let I=this.profileSettingsBtn(v),T=this.settingsDialog();S.append(x,I,T),this.append(p,S),this.toggleSettingsDialog(I,T)}profileSettingsBtn(p){let m=D("button",{class:"settings-button"});{let d=p.split(" ");d=d[0].substring(0,1)+d[1].substring(0,1);let S=D("p").inner(d);m.append(S),m.style.backgroundColor=this.stringToHslColor(p,100,90),S.style.color=this.stringToHslColor(p,100,25)}return m}toggleSettingsDialog(p,m){p.onclick=()=>{m.open?m.close():(document.body.style.overflow="hidden",m.showModal());let d=window.innerHeight-p.getBoundingClientRect().bottom-8;m.style.height=d+"px"},document.onkeydown=d=>{d.key==="Escape"&&(document.body.style.overflow="visible",m.close())}}settingsDialog(){let p=D("dialog",{class:"settings-dialog"}),m=D("div",{class:"settings-container"}),d=D("h2").inner("Profile Settings"),S=D("i",{class:"fas fa-cog"});d.prepend(S);let v=D("p").inner("Choose which categories you would like displayed on the home page");m.append(d,v);let x=Yd();x.push({title:"Dark Mode",icon:"far fa-moon"}),x.forEach(I=>{let T=D("div",{class:"settings-item"}),N=_o(I.title,I.icon),Z=D("input",{type:"checkbox",role:"switch"});Z.checked=!0,T.append(N,Z),m.append(T)}),p.append(m);let M=D("div",{class:"settings-buttons"}),U=D("button",{class:"large-rounded"}).inner("Log Out");return U.onclick=()=>{Jd("loggedIn",!1),window.location.href="/login"},M.append(U),p.append(M),p.onclick=I=>{var T=p.getBoundingClientRect(),N=T.top<=I.clientY&&I.clientY<=T.top+T.height&&T.left<=I.clientX&&I.clientX<=T.left+T.width;N||(p.close(),document.body.style.overflow="visible")},p}timeSpecificGreeting(){var p=new Date,m=p.getHours();let d;return m<5?d="Hello there":m<12?d="Good Morning":m<18?d="Good Afternoon":d="Good Evening",d}stringToHslColor(p,m,d){for(var S=0,v=0;v<p.length;v++)S=p.charCodeAt(v)+((S<<5)-S);var x=S%360;return"hsl("+x+", "+m+"%, "+d+"%)"}setClass(){this.className=this.getAttribute("class")||Nn,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`)}}customElements.define(Nn,Kd);const yp=Nn;let Fn="news-section";class tp extends HTMLElement{set dataObject(p){this.props=p}constructor(){super(),this.props={}}connectedCallback(){this.setClass(),this.render()}render(){let p=D("details"),m=D("summary"),d=_o(this.props.title,this.props.icon),S=D("i",{class:"fas fa-chevron-right"}),v=D("div",{class:"content-div"});m.append(d,S),p.append(m,v),this.append(p),this.monitorItems(v,this)}monitorItems(p,m){const d=function(x,M){p.childElementCount<1&&m.remove()},S=new MutationObserver(d),v={childList:!0};S.observe(p,v)}setClass(){this.className=this.getAttribute("class")||Fn,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`),this.role="region"}}customElements.define(Fn,tp);const kp=Fn;function ep(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var Xe={exports:{}};/*!
 * Clamp.js 0.7.0
 *
 * Copyright 2011-2013, Joseph Schmitt http://joe.sh
 * Released under the WTFPL license
 * http://sam.zoy.org/wtfpl/
 */var np=Xe.exports,Lo;function rp(){return Lo||(Lo=1,function(C,p){(function(m,d){C.exports=d()})(np,function(){function m(d,S){S=S||{};var v=window,x={clamp:S.clamp||2,useNativeClamp:typeof S.useNativeClamp<"u"?S.useNativeClamp:!0,splitOnChars:S.splitOnChars||[".","-","–","—"," "],animate:S.animate||!1,truncationChar:S.truncationChar||"…",truncationHTML:S.truncationHTML},M=d.style,U=d.innerHTML,I=typeof d.style.webkitLineClamp<"u",T=x.clamp,N=T.indexOf&&(T.indexOf("px")>-1||T.indexOf("em")>-1),Z;x.truncationHTML&&(Z=document.createElement("span"),Z.innerHTML=x.truncationHTML);function it(L,K){return v.getComputedStyle||(v.getComputedStyle=function(ct,ve){return this.el=ct,this.getPropertyValue=function(Ct){var ie=/(\-([a-z]){1})/g;return Ct=="float"&&(Ct="styleFloat"),ie.test(Ct)&&(Ct=Ct.replace(ie,function(){return arguments[2].toUpperCase()})),ct.currentStyle&&ct.currentStyle[Ct]?ct.currentStyle[Ct]:null},this}),v.getComputedStyle(L,null).getPropertyValue(K)}function yt(L){var K=L||d.clientHeight,ct=kt(d);return Math.max(Math.floor(K/ct),0)}function Pe(L){var K=kt(d);return K*L}function kt(L){var K=it(L,"line-height");return K=="normal"&&(K=parseInt(it(L,"font-size"))*1.2),parseInt(K)}var at=x.splitOnChars.slice(0),Ot=at[0],ht,be;function $t(L){return L.lastChild.children&&L.lastChild.children.length>0?$t(Array.prototype.slice.call(L.children).pop()):!L.lastChild||!L.lastChild.nodeValue||L.lastChild.nodeValue===""||L.lastChild.nodeValue==x.truncationChar?(L.lastChild.parentNode.removeChild(L.lastChild),$t(d)):L.lastChild}function qt(L,K){if(!K)return;function ct(){at=x.splitOnChars.slice(0),Ot=at[0],ht=null,be=null}var ve=L.nodeValue.replace(x.truncationChar,"");if(ht||(at.length>0?Ot=at.shift():Ot="",ht=ve.split(Ot)),ht.length>1?(be=ht.pop(),Se(L,ht.join(Ot))):ht=null,Z&&(L.nodeValue=L.nodeValue.replace(x.truncationChar,""),d.innerHTML=L.nodeValue+" "+Z.innerHTML+x.truncationChar),ht){if(d.clientHeight<=K)if(at.length>=0&&Ot!=="")Se(L,ht.join(Ot)+Ot+be),ht=null;else return d.innerHTML}else Ot===""&&(Se(L,""),L=$t(d),ct());if(x.animate)setTimeout(function(){qt(L,K)},x.animate===!0?10:x.animate);else return qt(L,K)}function Se(L,K){L.nodeValue=K+x.truncationChar}T=="auto"?T=yt():N&&(T=yt(parseInt(T)));var re;if(I&&x.useNativeClamp)M.overflow="hidden",M.textOverflow="ellipsis",M.webkitBoxOrient="vertical",M.display="-webkit-box",M.webkitLineClamp=T,N&&(M.height=x.clamp+"px");else{var zt=Pe(T);zt<=d.clientHeight&&(re=qt($t(d),zt))}return{original:U,clamped:re}}return m})}(Xe)),Xe.exports}var ip=rp();const To=ep(ip);function ne(){return new Promise((C,p)=>{const m=indexedDB.open("articlesNYT",1);m.onupgradeneeded=d=>{const S=d.target.result;if(!S.objectStoreNames.contains("articles")){const v=S.createObjectStore("articles",{keyPath:"id"});v.createIndex("published_date","published_date",{unique:!1}),v.createIndex("category","category",{unique:!1})}if(!S.objectStoreNames.contains("favorites")){const v=S.createObjectStore("favorites",{keyPath:"id"});v.createIndex("published_date","published_date",{unique:!1}),v.createIndex("category","category",{unique:!1})}},m.onsuccess=d=>{C(d.target.result)},m.onerror=d=>{p(d.target.error)}})}async function bp(C){const m=(await ne()).transaction("articles","readwrite"),d=m.objectStore("articles");return C.forEach(S=>{d.put(S)}),m.complete}async function Sp(C){const d=(await ne()).transaction("articles","readwrite").objectStore("articles"),S=d.index("category");return new Promise((v,x)=>{let M=26784e5,U=20;const I=S.getAll(C);I.onsuccess=()=>{let T=I.result;T.forEach((N,Z)=>{let it=Math.floor(new Date(N.pub_date).getTime());(Date.now()-it>M||Z>=U)&&(console.log("Article is old and will be deleted"),d.delete(N.id))}),v(T)},I.onerror=()=>x(I.error)})}async function sp(C){const m=(await ne()).transaction(["favorites"],"readwrite");return m.objectStore("favorites").put({id:C.id,title:C.title,abstract:C.abstract,thumbnail:C.thumbnail,byline:C.byline,category:C.category,pub_date:C.pub_date,url:C.url,favoritedAt:new Date().toISOString()}),m.complete}async function op(C){const m=(await ne()).transaction(["favorites"],"readwrite");return m.objectStore("favorites").delete(C),m.complete}async function Oo(C){const p=await ne();return new Promise((m,d)=>{const x=p.transaction(["favorites"],"readonly").objectStore("favorites").get(C);x.onsuccess=()=>m(!!x.result),x.onerror=()=>d(x.error)})}async function vp(C){const S=(await ne()).transaction("favorites","readonly").objectStore("favorites").index("category");return new Promise((v,x)=>{const M=S.getAll(C);M.onsuccess=()=>{v(M.result)},M.onerror=()=>{x(M.error)}})}async function Cp(){const d=(await ne()).transaction("favorites","readonly").objectStore("favorites").getAll();return new Promise((S,v)=>{d.onsuccess=()=>{const x=[...new Set(d.result.map(M=>M.category))];S(x)},d.onerror=()=>{v(d.error)}})}let $n="article-item";class lp extends HTMLElement{set dataObject(p){this.props=p}constructor(){super(),this.props={}}connectedCallback(){this.setClass(),this.render()}render(){let p=Zd(this.className),m=D("img",{class:`${this.className}__img`,src:this.props.thumbnail});p.append(m);let d=D("article"),S=D("hgroup"),v=D("a",{href:this.props.url,target:"_blank"}).inner(this.props.title),x=D("h3",{lang:"en"}),M=D("i",{class:"fas fa-external"});x.append(M,v);let U=D("p").inner(this.byline());To(U,{clamp:1}),S.append(x,U);let I=D("p",{class:"summary"}).inner(this.props.abstract||"This article has no preview.");d.append(S,I);let T=D("div",{class:`${this.className}__swipe-box`}),N=D("i",{class:"far fa-bookmark"});T.append(N),this.append(p,d,T),this.clampText(I,S),this.handleSwipe(T,N)}clampText(p,m){new ResizeObserver(()=>{let d=2;m.clientHeight>40&&(d=1),To(p,{clamp:d})}).observe(this)}byline(){let p=this.formatDate();return this.props.byline&&(p+=` — ${this.props.byline}`),p}handleSwipe(p,m){const d=this;let S=0,v=0,x=!1,M=-100,U=!1,I=!1;d.addEventListener("click",T=>{let N=T.clientX-S;Math.abs(N)<5&&window.open(this.props.url,"_blank").focus()}),d.addEventListener("pointerdown",async T=>{S=T.clientX,x=!0,U=!1,I=!1,d.style.transition="none",d.setPointerCapture(T.pointerId),await Oo(this.props.id)?(p.style.backgroundColor="#FF5D5D",m.className="fas fa-trash-alt"):(p.style.backgroundColor="#4D861F",m.className="far fa-bookmark")}),d.addEventListener("pointermove",T=>{if(!x)return;let N=T.clientX-S;N<0?(v=N,v<-120&&(v=-120),U=!0):U?(v=N,v>0&&(v=0)):v=0,v<=M?(m.classList.add("activated"),p.style.opacity=.85):(m.classList.remove("activated"),p.style.opacity=1),Math.abs(N)>5&&(I=!0),d.style.transform=`translateX(${v}px)`}),d.addEventListener("pointerup",async T=>{x=!1,d.releasePointerCapture(T.pointerId);let N="";if(v<=M?(N="transform 300ms 2000ms ease",await Oo(this.props.id)?(window.location.pathname==="/saved"&&(N+=", opacity 300ms ease",d.style.opacity=.2,setTimeout(()=>d.remove(),300)),op(this.props.id)):sp(this.props)):N="transform 300ms ease",d.style.transition=N,d.style.transform="translateX(0)",m.className="far fa-check-circle",!I){const Z=document.elementFromPoint(T.clientX,T.clientY);Z&&Z.closest("a")&&Z.click()}})}formatDate(){const p=this.props.pub_date,m=new Date(p),d={weekday:"long",year:"numeric",month:"long",day:"numeric"};return m.toLocaleDateString("en-US",d)}setClass(){this.className=this.getAttribute("class")||$n,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`)}}customElements.define($n,lp);const wp=$n;let zn="nav-footer";class ap extends HTMLElement{constructor(){super()}connectedCallback(){this.setClass(),this.render()}render(){let p=D("nav");this.linkArray().forEach(d=>{let S=this.createNavLink(d.title,d.href,d.icon);p.append(S)}),this.append(p)}linkArray(){return[{title:"Home",icon:"fas fa-home",href:"/"},{title:"Saved",icon:"fas fa-bookmark",href:"/saved"},{title:"Popular",icon:"fas fa-star",href:"/popular"}]}createNavLink(p,m,d){let S=D("i",{class:d}),v=D("a",{href:m}).inner(p);return m===window.location.pathname&&v.setAttribute("aria-current","page"),v.prepend(S),v}setClass(){this.className=this.getAttribute("class")||zn,this._classModifier=this.getAttribute("class-mod"),this._classModifier&&this.classList.add(`${this.className}--${this._classModifier}`)}}customElements.define(zn,ap);const xp=zn;var cp=Object.defineProperty,up=Object.defineProperties,hp=Object.getOwnPropertyDescriptors,Ao=Object.getOwnPropertySymbols,fp=Object.prototype.hasOwnProperty,dp=Object.prototype.propertyIsEnumerable,Po=(C,p,m)=>p in C?cp(C,p,{enumerable:!0,configurable:!0,writable:!0,value:m}):C[p]=m,lt=(C,p)=>{for(var m in p||(p={}))fp.call(p,m)&&Po(C,m,p[m]);if(Ao)for(var m of Ao(p))dp.call(p,m)&&Po(C,m,p[m]);return C},vt=(C,p)=>up(C,hp(p)),pp=(C,p)=>()=>(p||C((p={exports:{}}).exports,p),p.exports),V=(C,p,m)=>new Promise((d,S)=>{var v=U=>{try{M(m.next(U))}catch(I){S(I)}},x=U=>{try{M(m.throw(U))}catch(I){S(I)}},M=U=>U.done?d(U.value):Promise.resolve(U.value).then(v,x);M((m=m.apply(C,p)).next())}),mp=pp(C=>{const p=Math.min,m=Math.max,d=Math.round,S=Math.floor,v=t=>({x:t,y:t});function x(t,e){return typeof t=="function"?t(e):t}function M(t){return lt({top:0,right:0,bottom:0,left:0},t)}function U(t){return typeof t!="number"?M(t):{top:t,right:t,bottom:t,left:t}}function I(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function T(t,e){return V(this,null,function*(){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:a}=t,{boundary:s="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:k=0}=x(e,t),g=U(k),b=c[f?h==="floating"?"reference":"floating":h],A=I(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(b))==null||n?b:b.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:s,rootBoundary:u,strategy:a})),w=h==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,B=yield o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating),j=(yield o.isElement==null?void 0:o.isElement(B))?(yield o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},z=I(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:B,strategy:a}):w);return{top:(A.top-z.top+g.top)/j.y,bottom:(z.bottom-A.bottom+g.bottom)/j.y,left:(A.left-z.left+g.left)/j.x,right:(z.right-A.right+g.right)/j.x}})}function N(){return typeof window<"u"}function Z(t){return Pe(t)?(t.nodeName||"").toLowerCase():"#document"}function it(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yt(t){var e;return(e=(Pe(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pe(t){return N()?t instanceof Node||t instanceof it(t).Node:!1}function kt(t){return N()?t instanceof Element||t instanceof it(t).Element:!1}function at(t){return N()?t instanceof HTMLElement||t instanceof it(t).HTMLElement:!1}function Ot(t){return!N()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof it(t).ShadowRoot}function ht(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=L(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function be(t){return["table","td","th"].includes(Z(t))}function $t(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function qt(t){const e=re(),n=kt(t)?L(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Se(t){let e=ct(t);for(;at(e)&&!zt(e);){if(qt(e))return e;if($t(e))return null;e=ct(e)}return null}function re(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zt(t){return["html","body","#document"].includes(Z(t))}function L(t){return it(t).getComputedStyle(t)}function K(t){return kt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ct(t){if(Z(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ot(t)&&t.host||yt(t);return Ot(e)?e.host:e}function ve(t){const e=ct(t);return zt(e)?t.ownerDocument?t.ownerDocument.body:t.body:at(e)&&ht(e)?e:ve(e)}function Ct(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ve(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=it(i);if(o){const c=ie(l);return e.concat(l,l.visualViewport||[],ht(i)?i:[],c&&n?Ct(c):[])}return e.concat(i,Ct(i,[],n))}function ie(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bn(t){const e=L(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=at(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=d(n)!==o||d(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Qe(t){return kt(t)?t:t.contextElement}function se(t){const e=Qe(t);if(!at(e))return v(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Bn(e);let l=(o?d(n.width):n.width)/r,c=(o?d(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Eo=v(0);function Wn(t){const e=it(t);return!re()||!e.visualViewport?Eo:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jo(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==it(t)?!1:e}function Gt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Qe(t);let l=v(1);e&&(r?kt(r)&&(l=se(r)):l=se(t));const c=jo(o,n,r)?Wn(o):v(0);let a=(i.left+c.x)/l.x,s=(i.top+c.y)/l.y,u=i.width/l.x,h=i.height/l.y;if(o){const f=it(o),k=r&&kt(r)?it(r):r;let g=f,b=ie(g);for(;b&&r&&k!==g;){const A=se(b),w=b.getBoundingClientRect(),B=L(b),j=w.left+(b.clientLeft+parseFloat(B.paddingLeft))*A.x,z=w.top+(b.clientTop+parseFloat(B.paddingTop))*A.y;a*=A.x,s*=A.y,u*=A.x,h*=A.y,a+=j,s+=z,g=it(b),b=ie(g)}}return I({width:u,height:h,x:a,y:s})}function Ye(t,e){const n=K(t).scrollLeft;return e?e.left+n:Gt(yt(t)).left+n}function Un(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ye(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Do(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=yt(r),c=e?$t(e.floating):!1;if(r===l||c&&o)return n;let a={scrollLeft:0,scrollTop:0},s=v(1);const u=v(0),h=at(r);if((h||!h&&!o)&&((Z(r)!=="body"||ht(l))&&(a=K(r)),at(r))){const k=Gt(r);s=se(r),u.x=k.x+r.clientLeft,u.y=k.y+r.clientTop}const f=l&&!h&&!o?Un(l,a,!0):v(0);return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-a.scrollLeft*s.x+u.x+f.x,y:n.y*s.y-a.scrollTop*s.y+u.y+f.y}}function Io(t){return Array.from(t.getClientRects())}function Mo(t){const e=yt(t),n=K(t),r=t.ownerDocument.body,i=m(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=m(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Ye(t);const c=-n.scrollTop;return L(r).direction==="rtl"&&(l+=m(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function Ro(t,e){const n=it(t),r=yt(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,a=0;if(i){o=i.width,l=i.height;const s=re();(!s||s&&e==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:o,height:l,x:c,y:a}}function No(t,e){const n=Gt(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=at(t)?se(t):v(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,a=i*o.x,s=r*o.y;return{width:l,height:c,x:a,y:s}}function Hn(t,e,n){let r;if(e==="viewport")r=Ro(t,n);else if(e==="document")r=Mo(yt(t));else if(kt(e))r=No(e,n);else{const i=Wn(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return I(r)}function Vn(t,e){const n=ct(t);return n===e||!kt(n)||zt(n)?!1:L(n).position==="fixed"||Vn(n,e)}function Fo(t,e){const n=e.get(t);if(n)return n;let r=Ct(t,[],!1).filter(c=>kt(c)&&Z(c)!=="body"),i=null;const o=L(t).position==="fixed";let l=o?ct(t):t;for(;kt(l)&&!zt(l);){const c=L(l),a=qt(l);!a&&c.position==="fixed"&&(i=null),(o?!a&&!i:!a&&c.position==="static"&&i&&["absolute","fixed"].includes(i.position)||ht(l)&&!a&&Vn(t,l))?r=r.filter(s=>s!==l):i=c,l=ct(l)}return e.set(t,r),r}function $o(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?$t(e)?[]:Fo(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((a,s)=>{const u=Hn(e,s,i);return a.top=m(u.top,a.top),a.right=p(u.right,a.right),a.bottom=p(u.bottom,a.bottom),a.left=m(u.left,a.left),a},Hn(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zo(t){const{width:e,height:n}=Bn(t);return{width:e,height:n}}function Bo(t,e,n){const r=at(e),i=yt(e),o=n==="fixed",l=Gt(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const a=v(0);if(r||!r&&!o)if((Z(e)!=="body"||ht(i))&&(c=K(e)),r){const f=Gt(e,!0,o,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else i&&(a.x=Ye(i));const s=i&&!r&&!o?Un(i,c):v(0),u=l.left+c.scrollLeft-a.x-s.x,h=l.top+c.scrollTop-a.y-s.y;return{x:u,y:h,width:l.width,height:l.height}}function Je(t){return L(t).position==="static"}function qn(t,e){if(!at(t)||L(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yt(t)===n&&(n=n.ownerDocument.body),n}function Gn(t,e){const n=it(t);if($t(t))return n;if(!at(t)){let i=ct(t);for(;i&&!zt(i);){if(kt(i)&&!Je(i))return i;i=ct(i)}return n}let r=qn(t,e);for(;r&&be(r)&&Je(r);)r=qn(r,e);return r&&zt(r)&&Je(r)&&!qt(r)?n:r||Se(t)||n}const Wo=function(t){return V(this,null,function*(){const e=this.getOffsetParent||Gn,n=this.getDimensions,r=yield n(t.floating);return{reference:Bo(t.reference,yield e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function Uo(t){return L(t).direction==="rtl"}const wt={convertOffsetParentRelativeRectToViewportRelativeRect:Do,getDocumentElement:yt,getClippingRect:$o,getOffsetParent:Gn,getElementRects:Wo,getClientRects:Io,getDimensions:zo,getScale:se,isElement:kt,isRTL:Uo};function Xn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ho(t,e){let n=null,r;const i=yt(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),o();const s=t.getBoundingClientRect(),{left:u,top:h,width:f,height:k}=s;if(c||e(),!f||!k)return;const g=S(h),b=S(i.clientWidth-(u+f)),A=S(i.clientHeight-(h+k)),w=S(u),B={rootMargin:-g+"px "+-b+"px "+-A+"px "+-w+"px",threshold:m(0,p(1,a))||1};let j=!0;function z(_){const $=_[0].intersectionRatio;if($!==a){if(!j)return l();$?l(!1,$):r=setTimeout(()=>{l(!1,1e-7)},1e3)}$===1&&!Xn(s,t.getBoundingClientRect())&&l(),j=!1}try{n=new IntersectionObserver(z,vt(lt({},B),{root:i.ownerDocument}))}catch{n=new IntersectionObserver(z,B)}n.observe(t)}return l(!0),o}function Ze(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,s=Qe(t),u=i||o?[...s?Ct(s):[],...Ct(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const h=s&&c?Ho(s,n):null;let f=-1,k=null;l&&(k=new ResizeObserver(w=>{let[B]=w;B&&B.target===s&&k&&(k.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=k)==null||j.observe(e)})),n()}),s&&!a&&k.observe(s),k.observe(e));let g,b=a?Gt(t):null;a&&A();function A(){const w=Gt(t);b&&!Xn(b,w)&&n(),b=w,g=requestAnimationFrame(A)}return n(),()=>{var w;u.forEach(B=>{i&&B.removeEventListener("scroll",n),o&&B.removeEventListener("resize",n)}),h==null||h(),(w=k)==null||w.disconnect(),k=null,a&&cancelAnimationFrame(g)}}const Vo=T,{hasOwnProperty:Ke}=Object.prototype,Ce=function(){};function Qn(t){return typeof t=="function"?t:Ce}function Yn(t,e){return function(n,r,i){n.type===e&&t.call(this,n,r,i)}}function qo(t,e){const n=e.structure,r=[];for(const i in n){if(Ke.call(n,i)===!1)continue;let o=n[i];const l={name:i,type:!1,nullable:!1};Array.isArray(o)||(o=[o]);for(const c of o)c===null?l.nullable=!0:typeof c=="string"?l.type="node":Array.isArray(c)&&(l.type="list");l.type&&r.push(l)}return r.length?{context:e.walkContext,fields:r}:null}function Go(t){const e={};for(const n in t.node)if(Ke.call(t.node,n)){const r=t.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=qo(n,r)}return e}function Jn(t,e){const n=t.fields.slice(),r=t.context,i=typeof r=="string";return e&&n.reverse(),function(o,l,c,a){let s;i&&(s=l[r],l[r]=o);for(const u of n){const h=o[u.name];if(!u.nullable||h){if(u.type==="list"){if(e?h.reduceRight(a,!1):h.reduce(a,!1))return!0}else if(c(h))return!0}}i&&(l[r]=s)}}function Zn({StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:i}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:i}}}function Xo(t){const e=Go(t),n={},r={},i=Symbol("break-walk"),o=Symbol("skip-node");for(const s in e)Ke.call(e,s)&&e[s]!==null&&(n[s]=Jn(e[s],!1),r[s]=Jn(e[s],!0));const l=Zn(n),c=Zn(r),a=function(s,u){function h(w,B,j){const z=f.call(A,w,B,j);return z===i?!0:z===o?!1:!!(g.hasOwnProperty(w.type)&&g[w.type](w,A,h,b)||k.call(A,w,B,j)===i)}let f=Ce,k=Ce,g=n,b=(w,B,j,z)=>w||h(B,j,z);const A={break:i,skip:o,root:s,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof u=="function")f=u;else if(u&&(f=Qn(u.enter),k=Qn(u.leave),u.reverse&&(g=r),u.visit)){if(l.hasOwnProperty(u.visit))g=u.reverse?c[u.visit]:l[u.visit];else if(!e.hasOwnProperty(u.visit))throw new Error("Bad value `"+u.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");f=Yn(f,u.visit),k=Yn(k,u.visit)}if(f===Ce&&k===Ce)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");h(s)};return a.break=i,a.skip=o,a.find=function(s,u){let h=null;return a(s,function(f,k,g){if(u.call(this,f,k,g))return h=f,i}),h},a.findLast=function(s,u){let h=null;return a(s,{reverse:!0,enter(f,k,g){if(u.call(this,f,k,g))return h=f,i}}),h},a.findAll=function(s,u){const h=[];return a(s,function(f,k,g){u.call(this,f,k,g)&&h.push(f)}),h},a}const Wt=0,y=1,E=2,st=3,G=4,Bt=5,Qo=6,ft=7,_t=8,F=9,P=10,tt=11,R=12,et=13,_e=14,xt=15,dt=16,bt=17,Et=18,oe=19,we=20,H=21,O=22,jt=23,le=24,pt=25,Yo=0;function Lt(t){return t>=48&&t<=57}function ae(t){return Lt(t)||t>=65&&t<=70||t>=97&&t<=102}function tn(t){return t>=65&&t<=90}function Jo(t){return t>=97&&t<=122}function Zo(t){return tn(t)||Jo(t)}function Ko(t){return t>=128}function Ee(t){return Zo(t)||Ko(t)||t===95}function Kn(t){return Ee(t)||Lt(t)||t===45}function tl(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function je(t){return t===10||t===13||t===12}function Xt(t){return je(t)||t===32||t===9}function It(t,e){return!(t!==92||je(e)||e===Yo)}function en(t,e,n){return t===45?Ee(e)||e===45||It(e,n):Ee(t)?!0:t===92?It(t,e):!1}function nn(t,e,n){return t===43||t===45?Lt(e)?2:e===46&&Lt(n)?3:0:t===46?Lt(e)?2:0:Lt(t)?1:0}function tr(t){return t===65279||t===65534?1:0}const rn=new Array(128),el=128,De=130,er=131,sn=132,nr=133;for(let t=0;t<rn.length;t++)rn[t]=Xt(t)&&De||Lt(t)&&er||Ee(t)&&sn||tl(t)&&nr||t||el;function on(t){return t<128?rn[t]:sn}function ce(t,e){return e<t.length?t.charCodeAt(e):0}function ln(t,e,n){return n===13&&ce(t,e+1)===10?2:1}function rr(t,e,n){let r=t.charCodeAt(e);return tn(r)&&(r=r|32),r===n}function Ie(t,e,n,r){if(n-e!==r.length||e<0||n>t.length)return!1;for(let i=e;i<n;i++){const o=r.charCodeAt(i-e);let l=t.charCodeAt(i);if(tn(l)&&(l=l|32),l!==o)return!1}return!0}function nl(t,e){for(;e>=0&&Xt(t.charCodeAt(e));e--);return e+1}function Me(t,e){for(;e<t.length&&Xt(t.charCodeAt(e));e++);return e}function an(t,e){for(;e<t.length&&Lt(t.charCodeAt(e));e++);return e}function ue(t,e){if(e+=2,ae(ce(t,e-1))){for(const r=Math.min(t.length,e+5);e<r&&ae(ce(t,e));e++);const n=ce(t,e);Xt(n)&&(e+=ln(t,e,n))}return e}function Re(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(!Kn(n)){if(It(n,ce(t,e+1))){e=ue(t,e)-1;continue}break}}return e}function ir(t,e){let n=t.charCodeAt(e);if((n===43||n===45)&&(n=t.charCodeAt(e+=1)),Lt(n)&&(e=an(t,e+1),n=t.charCodeAt(e)),n===46&&Lt(t.charCodeAt(e+1))&&(e+=2,e=an(t,e)),rr(t,e,101)){let r=0;n=t.charCodeAt(e+1),(n===45||n===43)&&(r=1,n=t.charCodeAt(e+2)),Lt(n)&&(e=an(t,e+1+r+1))}return e}function cn(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(n===41){e++;break}It(n,ce(t,e+1))&&(e=ue(t,e))}return e}function sr(t){if(t.length===1&&!ae(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}const or=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","comment-token"],rl=16*1024;function Ne(t=null,e){return t===null||t.length<e?new Uint32Array(Math.max(e+1024,rl)):t}const lr=10,il=12,ar=13;function cr(t){const e=t.source,n=e.length,r=e.length>0?tr(e.charCodeAt(0)):0,i=Ne(t.lines,n),o=Ne(t.columns,n);let l=t.startLine,c=t.startColumn;for(let a=r;a<n;a++){const s=e.charCodeAt(a);i[a]=l,o[a]=c++,(s===lr||s===ar||s===il)&&(s===ar&&a+1<n&&e.charCodeAt(a+1)===lr&&(a++,i[a]=l,o[a]=c),l++,c=1)}i[n]=l,o[n]=c,t.lines=i,t.columns=o,t.computed=!0}class sl{constructor(e,n,r,i){this.setSource(e,n,r,i),this.lines=null,this.columns=null}setSource(e="",n=0,r=1,i=1){this.source=e,this.startOffset=n,this.startLine=r,this.startColumn=i,this.computed=!1}getLocation(e,n){return this.computed||cr(this),{source:n,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,n,r){return this.computed||cr(this),{source:r,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+n,line:this.lines[n],column:this.columns[n]}}}}const Mt=16777215,Rt=24,Qt=new Uint8Array(32);Qt[E]=O,Qt[H]=O,Qt[oe]=we,Qt[jt]=le;function ur(t){return Qt[t]!==0}class ol{constructor(e,n){this.setSource(e,n)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",n=()=>{}){e=String(e||"");const r=e.length,i=Ne(this.offsetAndType,e.length+1),o=Ne(this.balance,e.length+1);let l=0,c=-1,a=0,s=e.length;this.offsetAndType=null,this.balance=null,o.fill(0),n(e,(u,h,f)=>{const k=l++;if(i[k]=u<<Rt|f,c===-1&&(c=h),o[k]=s,u===a){const g=o[s];o[s]=k,s=g,a=Qt[i[g]>>Rt]}else ur(u)&&(s=k,a=Qt[u])}),i[l]=Wt<<Rt|r,o[l]=l;for(let u=0;u<l;u++){const h=o[u];if(h<=u){const f=o[h];f!==u&&(o[u]=f)}else h>l&&(o[u]=l)}this.source=e,this.firstCharOffset=c===-1?0:c,this.tokenCount=l,this.offsetAndType=i,this.balance=o,this.reset(),this.next()}lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>Rt:Wt}lookupTypeNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>Rt;if(r!==et&&r!==pt&&e--===0)return r}return Wt}lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e-1]&Mt:this.source.length}lookupOffsetNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>Rt;if(r!==et&&r!==pt&&e--===0)return n-this.tokenIndex}return Wt}lookupValue(e,n){return e+=this.tokenIndex,e<this.tokenCount?Ie(this.source,this.offsetAndType[e-1]&Mt,this.offsetAndType[e]&Mt,n):!1}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&Mt:this.offsetAndType[this.tokenCount]&Mt:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,n){return n?this.lookupType(n)===F&&this.source.charCodeAt(this.lookupOffset(n))===e:this.tokenType===F&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let n=this.tokenIndex+e;n<this.tokenCount?(this.tokenIndex=n,this.tokenStart=this.offsetAndType[n-1]&Mt,n=this.offsetAndType[n],this.tokenType=n>>Rt,this.tokenEnd=n&Mt):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>Rt,this.tokenEnd=e&Mt):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=Wt,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===et||this.tokenType===pt;)this.next()}skipUntilBalanced(e,n){let r=e,i=0,o=0;t:for(;r<this.tokenCount;r++){if(i=this.balance[r],i<e)break t;switch(o=r>0?this.offsetAndType[r-1]&Mt:this.firstCharOffset,n(this.source.charCodeAt(o))){case 1:break t;case 2:r++;break t;default:ur(this.offsetAndType[r]>>Rt)&&(r=i)}}this.skip(r-this.tokenIndex)}forEachToken(e){for(let n=0,r=this.firstCharOffset;n<this.tokenCount;n++){const i=r,o=this.offsetAndType[n],l=o&Mt,c=o>>Rt;r=l,e(c,i,l,n)}}dump(){const e=new Array(this.tokenCount);return this.forEachToken((n,r,i,o)=>{e[o]={idx:o,type:or[n],chunk:this.source.substring(r,i),balance:this.balance[o]}}),e}}function hr(t,e){function n(h){return h<c?t.charCodeAt(h):0}function r(){if(s=ir(t,s),en(n(s),n(s+1),n(s+2))){u=R,s=Re(t,s);return}if(n(s)===37){u=tt,s++;return}u=P}function i(){const h=s;if(s=Re(t,s),Ie(t,h,s,"url")&&n(s)===40){if(s=Me(t,s+1),n(s)===34||n(s)===39){u=E,s=h+4;return}l();return}if(n(s)===40){u=E,s++;return}u=y}function o(h){for(h||(h=n(s++)),u=Bt;s<t.length;s++){const f=t.charCodeAt(s);switch(on(f)){case h:s++;return;case De:if(je(f)){s+=ln(t,s,f),u=Qo;return}break;case 92:if(s===t.length-1)break;const k=n(s+1);je(k)?s+=ln(t,s+1,k):It(f,k)&&(s=ue(t,s)-1);break}}}function l(){for(u=ft,s=Me(t,s);s<t.length;s++){const h=t.charCodeAt(s);switch(on(h)){case 41:s++;return;case De:if(s=Me(t,s),n(s)===41||s>=t.length){s<t.length&&s++;return}s=cn(t,s),u=_t;return;case 34:case 39:case 40:case nr:s=cn(t,s),u=_t;return;case 92:if(It(h,n(s+1))){s=ue(t,s)-1;break}s=cn(t,s),u=_t;return}}}t=String(t||"");const c=t.length;let a=tr(n(0)),s=a,u;for(;s<c;){const h=t.charCodeAt(s);switch(on(h)){case De:u=et,s=Me(t,s+1);break;case 34:o();break;case 35:Kn(n(s+1))||It(n(s+1),n(s+2))?(u=G,s=Re(t,s+1)):(u=F,s++);break;case 39:o();break;case 40:u=H,s++;break;case 41:u=O,s++;break;case 43:nn(h,n(s+1),n(s+2))?r():(u=F,s++);break;case 44:u=Et,s++;break;case 45:nn(h,n(s+1),n(s+2))?r():n(s+1)===45&&n(s+2)===62?(u=xt,s=s+3):en(h,n(s+1),n(s+2))?i():(u=F,s++);break;case 46:nn(h,n(s+1),n(s+2))?r():(u=F,s++);break;case 47:n(s+1)===42?(u=pt,s=t.indexOf("*/",s+2),s=s===-1?t.length:s+2):(u=F,s++);break;case 58:u=dt,s++;break;case 59:u=bt,s++;break;case 60:n(s+1)===33&&n(s+2)===45&&n(s+3)===45?(u=_e,s=s+4):(u=F,s++);break;case 64:en(n(s+1),n(s+2),n(s+3))?(u=st,s=Re(t,s+1)):(u=F,s++);break;case 91:u=oe,s++;break;case 92:It(h,n(s+1))?i():(u=F,s++);break;case 93:u=we,s++;break;case 123:u=jt,s++;break;case 125:u=le,s++;break;case er:r();break;case sn:i();break;default:u=F,s++}e(u,a,a=s)}}const Nt=43,Tt=45,Fe=110,Yt=!0,ll=!1;function $e(t,e){let n=this.tokenStart+t;const r=this.charCodeAt(n);for((r===Nt||r===Tt)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)Lt(this.charCodeAt(n))||this.error("Integer is expected",n)}function he(t){return $e.call(this,0,t)}function Ut(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case Fe:n="N is expected";break;case Tt:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function un(){let t=0,e=0,n=this.tokenType;for(;n===et||n===pt;)n=this.lookupType(++t);if(n!==P)if(this.isDelim(Nt,t)||this.isDelim(Tt,t)){e=this.isDelim(Nt,t)?Nt:Tt;do n=this.lookupType(++t);while(n===et||n===pt);n!==P&&(this.skip(t),he.call(this,Yt))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==Nt&&n!==Tt&&this.error("Number sign is expected")),he.call(this,e!==0),e===Tt?"-"+this.consume(P):this.consume(P)}const al="AnPlusB",cl={a:[String,null],b:[String,null]};function fr(){const t=this.tokenStart;let e=null,n=null;if(this.tokenType===P)he.call(this,ll),n=this.consume(P);else if(this.tokenType===y&&this.cmpChar(this.tokenStart,Tt))switch(e="-1",Ut.call(this,1,Fe),this.tokenEnd-this.tokenStart){case 2:this.next(),n=un.call(this);break;case 3:Ut.call(this,2,Tt),this.next(),this.skipSC(),he.call(this,Yt),n="-"+this.consume(P);break;default:Ut.call(this,2,Tt),$e.call(this,3,Yt),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===y||this.isDelim(Nt)&&this.lookupType(1)===y){let r=0;switch(e="1",this.isDelim(Nt)&&(r=1,this.next()),Ut.call(this,0,Fe),this.tokenEnd-this.tokenStart){case 1:this.next(),n=un.call(this);break;case 2:Ut.call(this,1,Tt),this.next(),this.skipSC(),he.call(this,Yt),n="-"+this.consume(P);break;default:Ut.call(this,1,Tt),$e.call(this,2,Yt),this.next(),n=this.substrToCursor(t+r+1)}}else if(this.tokenType===R){const r=this.charCodeAt(this.tokenStart),i=r===Nt||r===Tt;let o=this.tokenStart+i;for(;o<this.tokenEnd&&Lt(this.charCodeAt(o));o++);o===this.tokenStart+i&&this.error("Integer is expected",this.tokenStart+i),Ut.call(this,o-this.tokenStart,Fe),e=this.substring(t,o),o+1===this.tokenEnd?(this.next(),n=un.call(this)):(Ut.call(this,o-this.tokenStart+1,Tt),o+2===this.tokenEnd?(this.next(),this.skipSC(),he.call(this,Yt),n="-"+this.consume(P)):($e.call(this,o-this.tokenStart+2,Yt),this.next(),n=this.substrToCursor(o+1)))}else this.error();return e!==null&&e.charCodeAt(0)===Nt&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===Nt&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function dr(t){if(t.a){const e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){const n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}const ul=Object.freeze(Object.defineProperty({__proto__:null,generate:dr,name:al,parse:fr,structure:cl},Symbol.toStringTag,{value:"Module"}));function pr(){return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function hl(){for(let t=1,e;e=this.lookupType(t);t++){if(e===le)return!0;if(e===jt||e===st)return!1}return!1}const fl="Atrule",dl="atrule",pl={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function mr(t=!1){const e=this.tokenStart;let n,r,i=null,o=null;switch(this.eat(st),n=this.substrToCursor(e+1),r=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==jt&&this.tokenType!==bt&&(this.parseAtrulePrelude?i=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),pr):i=pr.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case bt:this.next();break;case jt:hasOwnProperty.call(this.atrule,r)&&typeof this.atrule[r].block=="function"?o=this.atrule[r].block.call(this,t):o=this.Block(hl.call(this));break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:i,block:o}}function gr(t){this.token(st,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?this.node(t.block):this.token(bt,";")}const ml=Object.freeze(Object.defineProperty({__proto__:null,generate:gr,name:fl,parse:mr,structure:pl,walkContext:dl},Symbol.toStringTag,{value:"Module"})),gl="AtrulePrelude",yl="atrulePrelude",kl={children:[[]]};function yr(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==jt&&this.tokenType!==bt&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function kr(t){this.children(t)}const bl=Object.freeze(Object.defineProperty({__proto__:null,generate:kr,name:gl,parse:yr,structure:kl,walkContext:yl},Symbol.toStringTag,{value:"Module"})),Sl=36,br=42,ze=61,vl=94,hn=124,Cl=126;function wl(){this.eof&&this.error("Unexpected end of input");const t=this.tokenStart;let e=!1;return this.isDelim(br)?(e=!0,this.next()):this.isDelim(hn)||this.eat(y),this.isDelim(hn)?this.charCodeAt(this.tokenStart+1)!==ze?(this.next(),this.eat(y)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function xl(){const t=this.tokenStart,e=this.charCodeAt(t);return e!==ze&&e!==Cl&&e!==vl&&e!==Sl&&e!==br&&e!==hn&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==ze&&(this.isDelim(ze)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}const Ll="AttributeSelector",Tl={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function Sr(){const t=this.tokenStart;let e,n=null,r=null,i=null;return this.eat(oe),this.skipSC(),e=wl.call(this),this.skipSC(),this.tokenType!==we&&(this.tokenType!==y&&(n=xl.call(this),this.skipSC(),r=this.tokenType===Bt?this.String():this.Identifier(),this.skipSC()),this.tokenType===y&&(i=this.consume(y),this.skipSC())),this.eat(we),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:r,flags:i}}function vr(t){this.token(F,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(y,t.flags),this.token(F,"]")}const Ol=Object.freeze(Object.defineProperty({__proto__:null,generate:vr,name:Ll,parse:Sr,structure:Tl},Symbol.toStringTag,{value:"Module"})),Al=38;function Cr(){return this.Raw(null,!0)}function wr(){return this.parseWithFallback(this.Rule,Cr)}function xr(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function Pl(){if(this.tokenType===bt)return xr.call(this,this.tokenIndex);const t=this.parseWithFallback(this.Declaration,xr);return this.tokenType===bt&&this.next(),t}const _l="Block",El="block",jl={children:[["Atrule","Rule","Declaration"]]};function Lr(t){const e=t?Pl:wr,n=this.tokenStart;let r=this.createList();this.eat(jt);t:for(;!this.eof;)switch(this.tokenType){case le:break t;case et:case pt:this.next();break;case st:r.push(this.parseWithFallback(this.Atrule.bind(this,t),Cr));break;default:t&&this.isDelim(Al)?r.push(wr.call(this)):r.push(e.call(this))}return this.eof||this.eat(le),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:r}}function Tr(t){this.token(jt,"{"),this.children(t,e=>{e.type==="Declaration"&&this.token(bt,";")}),this.token(le,"}")}const Dl=Object.freeze(Object.defineProperty({__proto__:null,generate:Tr,name:_l,parse:Lr,structure:jl,walkContext:El},Symbol.toStringTag,{value:"Module"})),Il="Brackets",Ml={children:[[]]};function Or(t,e){const n=this.tokenStart;let r=null;return this.eat(oe),r=t.call(this,e),this.eof||this.eat(we),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:r}}function Ar(t){this.token(F,"["),this.children(t),this.token(F,"]")}const Rl=Object.freeze(Object.defineProperty({__proto__:null,generate:Ar,name:Il,parse:Or,structure:Ml},Symbol.toStringTag,{value:"Module"})),Nl="CDC",Fl=[];function Pr(){const t=this.tokenStart;return this.eat(xt),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function _r(){this.token(xt,"-->")}const $l=Object.freeze(Object.defineProperty({__proto__:null,generate:_r,name:Nl,parse:Pr,structure:Fl},Symbol.toStringTag,{value:"Module"})),zl="CDO",Bl=[];function Er(){const t=this.tokenStart;return this.eat(_e),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function jr(){this.token(_e,"<!--")}const Wl=Object.freeze(Object.defineProperty({__proto__:null,generate:jr,name:zl,parse:Er,structure:Bl},Symbol.toStringTag,{value:"Module"})),Ul=46,Hl="ClassSelector",Vl={name:String};function Dr(){return this.eatDelim(Ul),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(y)}}function Ir(t){this.token(F,"."),this.token(y,t.name)}const ql=Object.freeze(Object.defineProperty({__proto__:null,generate:Ir,name:Hl,parse:Dr,structure:Vl},Symbol.toStringTag,{value:"Module"})),Gl=43,Mr=47,Xl=62,Ql=126,Yl="Combinator",Jl={name:String};function Rr(){const t=this.tokenStart;let e;switch(this.tokenType){case et:e=" ";break;case F:switch(this.charCodeAt(this.tokenStart)){case Xl:case Gl:case Ql:this.next();break;case Mr:this.next(),this.eatIdent("deep"),this.eatDelim(Mr);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function Nr(t){this.tokenize(t.name)}const Zl=Object.freeze(Object.defineProperty({__proto__:null,generate:Nr,name:Yl,parse:Rr,structure:Jl},Symbol.toStringTag,{value:"Module"})),Kl=42,ta=47,ea="Comment",na={value:String};function Fr(){const t=this.tokenStart;let e=this.tokenEnd;return this.eat(pt),e-t+2>=2&&this.charCodeAt(e-2)===Kl&&this.charCodeAt(e-1)===ta&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function $r(t){this.token(pt,"/*"+t.value+"*/")}const ra=Object.freeze(Object.defineProperty({__proto__:null,generate:$r,name:ea,parse:Fr,structure:na},Symbol.toStringTag,{value:"Module"})),ia=new Set([dt,O,Wt]),sa="Condition",oa={kind:String,children:[["Identifier","Feature","FeatureFunction","FeatureRange","SupportsDeclaration"]]};function zr(t){return this.lookupTypeNonSC(1)===y&&ia.has(this.lookupTypeNonSC(2))?this.Feature(t):this.FeatureRange(t)}const la={media:zr,container:zr,supports(){return this.SupportsDeclaration()}};function Br(t="media"){const e=this.createList();t:for(;!this.eof;)switch(this.tokenType){case pt:case et:this.next();continue;case y:e.push(this.Identifier());break;case H:{let n=this.parseWithFallback(()=>la[t].call(this,t),()=>null);n||(n=this.parseWithFallback(()=>{this.eat(H);const r=this.Condition(t);return this.eat(O),r},()=>this.GeneralEnclosed(t))),e.push(n);break}case E:{let n=this.parseWithFallback(()=>this.FeatureFunction(t),()=>null);n||(n=this.GeneralEnclosed(t)),e.push(n);break}default:break t}return e.isEmpty&&this.error("Condition is expected"),{type:"Condition",loc:this.getLocationFromList(e),kind:t,children:e}}function Wr(t){t.children.forEach(e=>{e.type==="Condition"?(this.token(H,"("),this.node(e),this.token(O,")")):this.node(e)})}const aa=Object.freeze(Object.defineProperty({__proto__:null,generate:Wr,name:sa,parse:Br,structure:oa},Symbol.toStringTag,{value:"Module"})),Ur=45;function ca(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===Ur&&t.charCodeAt(e+1)===Ur}const Hr=33,ua=35,ha=36,fa=38,da=42,pa=43,Vr=47;function ma(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!0)}function ga(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1)}function ya(){const t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==bt&&this.isDelim(Hr)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}const ka="Declaration",ba="declaration",Sa={important:[Boolean,String],property:String,value:["Value","Raw"]};function qr(){const t=this.tokenStart,e=this.tokenIndex,n=va.call(this),r=ca(n),i=r?this.parseCustomProperty:this.parseValue,o=r?ga:ma;let l=!1,c;this.skipSC(),this.eat(dt);const a=this.tokenIndex;if(r||this.skipSC(),i?c=this.parseWithFallback(ya,o):c=o.call(this,this.tokenIndex),r&&c.type==="Value"&&c.children.isEmpty){for(let s=a-this.tokenIndex;s<=0;s++)if(this.lookupType(s)===et){c.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Hr)&&(l=Ca.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==bt&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:l,property:n,value:c}}function Gr(t){this.token(y,t.property),this.token(dt,":"),this.node(t.value),t.important&&(this.token(F,"!"),this.token(y,t.important===!0?"important":t.important))}function va(){const t=this.tokenStart;if(this.tokenType===F)switch(this.charCodeAt(this.tokenStart)){case da:case ha:case pa:case ua:case fa:this.next();break;case Vr:this.next(),this.isDelim(Vr)&&this.next();break}return this.tokenType===G?this.eat(G):this.eat(y),this.substrToCursor(t)}function Ca(){this.eat(F),this.skipSC();const t=this.consume(y);return t==="important"?!0:t}const wa=Object.freeze(Object.defineProperty({__proto__:null,generate:Gr,name:ka,parse:qr,structure:Sa,walkContext:ba},Symbol.toStringTag,{value:"Module"})),xa=38;function fn(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}const La="DeclarationList",Ta={children:[["Declaration","Atrule","Rule"]]};function Xr(){const t=this.createList();for(;!this.eof;)switch(this.tokenType){case et:case pt:case bt:this.next();break;case st:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),fn));break;default:this.isDelim(xa)?t.push(this.parseWithFallback(this.Rule,fn)):t.push(this.parseWithFallback(this.Declaration,fn))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function Qr(t){this.children(t,e=>{e.type==="Declaration"&&this.token(bt,";")})}const Oa=Object.freeze(Object.defineProperty({__proto__:null,generate:Qr,name:La,parse:Xr,structure:Ta},Symbol.toStringTag,{value:"Module"})),Aa="Dimension",Pa={value:String,unit:String};function Yr(){const t=this.tokenStart,e=this.consumeNumber(R);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function Jr(t){this.token(R,t.value+t.unit)}const _a=Object.freeze(Object.defineProperty({__proto__:null,generate:Jr,name:Aa,parse:Yr,structure:Pa},Symbol.toStringTag,{value:"Module"})),Ea=47,ja="Feature",Da={kind:String,name:String,value:["Identifier","Number","Dimension","Ratio","Function",null]};function Zr(t){const e=this.tokenStart;let n,r=null;if(this.eat(H),this.skipSC(),n=this.consume(y),this.skipSC(),this.tokenType!==O){switch(this.eat(dt),this.skipSC(),this.tokenType){case P:this.lookupNonWSType(1)===F?r=this.Ratio():r=this.Number();break;case R:r=this.Dimension();break;case y:r=this.Identifier();break;case E:r=this.parseWithFallback(()=>{const i=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(Ea)&&this.error(),i},()=>this.Ratio());break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eof||this.eat(O),{type:"Feature",loc:this.getLocation(e,this.tokenStart),kind:t,name:n,value:r}}function Kr(t){this.token(H,"("),this.token(y,t.name),t.value!==null&&(this.token(dt,":"),this.node(t.value)),this.token(O,")")}const Ia=Object.freeze(Object.defineProperty({__proto__:null,generate:Kr,name:ja,parse:Zr,structure:Da},Symbol.toStringTag,{value:"Module"})),Ma="FeatureFunction",Ra={kind:String,feature:String,value:["Declaration","Selector"]};function Na(t,e){const n=(this.features[t]||{})[e];return typeof n!="function"&&this.error(`Unknown feature ${e}()`),n}function ti(t="unknown"){const e=this.tokenStart,n=this.consumeFunctionName(),r=Na.call(this,t,n.toLowerCase());this.skipSC();const i=this.parseWithFallback(()=>{const o=this.tokenIndex,l=r.call(this);return this.eof===!1&&this.isBalanceEdge(o)===!1&&this.error(),l},()=>this.Raw(null,!1));return this.eof||this.eat(O),{type:"FeatureFunction",loc:this.getLocation(e,this.tokenStart),kind:t,feature:n,value:i}}function ei(t){this.token(E,t.feature+"("),this.node(t.value),this.token(O,")")}const Fa=Object.freeze(Object.defineProperty({__proto__:null,generate:ei,name:Ma,parse:ti,structure:Ra},Symbol.toStringTag,{value:"Module"})),ni=47,$a=60,ri=61,za=62,Ba="FeatureRange",Wa={kind:String,left:["Identifier","Number","Dimension","Ratio","Function"],leftComparison:String,middle:["Identifier","Number","Dimension","Ratio","Function"],rightComparison:[String,null],right:["Identifier","Number","Dimension","Ratio","Function",null]};function dn(){switch(this.skipSC(),this.tokenType){case P:return this.isDelim(ni,this.lookupOffsetNonSC(1))?this.Ratio():this.Number();case R:return this.Dimension();case y:return this.Identifier();case E:return this.parseWithFallback(()=>{const t=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(ni)&&this.error(),t},()=>this.Ratio());default:this.error("Number, dimension, ratio or identifier is expected")}}function ii(t){if(this.skipSC(),this.isDelim($a)||this.isDelim(za)){const e=this.source[this.tokenStart];return this.next(),this.isDelim(ri)?(this.next(),e+"="):e}if(this.isDelim(ri))return"=";this.error(`Expected ${t?'":", ':""}"<", ">", "=" or ")"`)}function si(t="unknown"){const e=this.tokenStart;this.skipSC(),this.eat(H);const n=dn.call(this),r=ii.call(this,n.type==="Identifier"),i=dn.call(this);let o=null,l=null;return this.lookupNonWSType(0)!==O&&(o=ii.call(this),l=dn.call(this)),this.skipSC(),this.eat(O),{type:"FeatureRange",loc:this.getLocation(e,this.tokenStart),kind:t,left:n,leftComparison:r,middle:i,rightComparison:o,right:l}}function oi(t){this.token(H,"("),this.node(t.left),this.tokenize(t.leftComparison),this.node(t.middle),t.right&&(this.tokenize(t.rightComparison),this.node(t.right)),this.token(O,")")}const Ua=Object.freeze(Object.defineProperty({__proto__:null,generate:oi,name:Ba,parse:si,structure:Wa},Symbol.toStringTag,{value:"Module"})),Ha="Function",Va="function",qa={name:String,children:[[]]};function li(t,e){const n=this.tokenStart,r=this.consumeFunctionName(),i=r.toLowerCase();let o;return o=e.hasOwnProperty(i)?e[i].call(this,e):t.call(this,e),this.eof||this.eat(O),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:r,children:o}}function ai(t){this.token(E,t.name+"("),this.children(t),this.token(O,")")}const Ga=Object.freeze(Object.defineProperty({__proto__:null,generate:ai,name:Ha,parse:li,structure:qa,walkContext:Va},Symbol.toStringTag,{value:"Module"})),Xa="GeneralEnclosed",Qa={kind:String,function:[String,null],children:[[]]};function ci(t){const e=this.tokenStart;let n=null;this.tokenType===E?n=this.consumeFunctionName():this.eat(H);const r=this.parseWithFallback(()=>{const i=this.tokenIndex,o=this.readSequence(this.scope.Value);return this.eof===!1&&this.isBalanceEdge(i)===!1&&this.error(),o},()=>this.createSingleNodeList(this.Raw(null,!1)));return this.eof||this.eat(O),{type:"GeneralEnclosed",loc:this.getLocation(e,this.tokenStart),kind:t,function:n,children:r}}function ui(t){t.function?this.token(E,t.function+"("):this.token(H,"("),this.children(t),this.token(O,")")}const Ya=Object.freeze(Object.defineProperty({__proto__:null,generate:ui,name:Xa,parse:ci,structure:Qa},Symbol.toStringTag,{value:"Module"})),Ja="XXX",Za="Hash",Ka={value:String};function hi(){const t=this.tokenStart;return this.eat(G),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function fi(t){this.token(G,"#"+t.value)}const tc=Object.freeze(Object.defineProperty({__proto__:null,generate:fi,name:Za,parse:hi,structure:Ka,xxx:Ja},Symbol.toStringTag,{value:"Module"})),ec="Identifier",nc={name:String};function di(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(y)}}function pi(t){this.token(y,t.name)}const rc=Object.freeze(Object.defineProperty({__proto__:null,generate:pi,name:ec,parse:di,structure:nc},Symbol.toStringTag,{value:"Module"})),ic="IdSelector",sc={name:String};function mi(){const t=this.tokenStart;return this.eat(G),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function gi(t){this.token(F,"#"+t.name)}const oc=Object.freeze(Object.defineProperty({__proto__:null,generate:gi,name:ic,parse:mi,structure:sc},Symbol.toStringTag,{value:"Module"})),lc=46,ac="Layer",cc={name:String};function yi(){let t=this.tokenStart,e=this.consume(y);for(;this.isDelim(lc);)this.eat(F),e+="."+this.consume(y);return{type:"Layer",loc:this.getLocation(t,this.tokenStart),name:e}}function ki(t){this.tokenize(t.name)}const uc=Object.freeze(Object.defineProperty({__proto__:null,generate:ki,name:ac,parse:yi,structure:cc},Symbol.toStringTag,{value:"Module"})),hc="LayerList",fc={children:[["Layer"]]};function bi(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.Layer()),this.lookupTypeNonSC(0)===Et);)this.skipSC(),this.next(),this.skipSC();return{type:"LayerList",loc:this.getLocationFromList(t),children:t}}function Si(t){this.children(t,()=>this.token(Et,","))}const dc=Object.freeze(Object.defineProperty({__proto__:null,generate:Si,name:hc,parse:bi,structure:fc},Symbol.toStringTag,{value:"Module"})),pc="MediaQuery",mc={modifier:[String,null],mediaType:[String,null],condition:["Condition",null]};function vi(){const t=this.tokenStart;let e=null,n=null,r=null;if(this.skipSC(),this.tokenType===y&&this.lookupTypeNonSC(1)!==H){const i=this.consume(y),o=i.toLowerCase();switch(o==="not"||o==="only"?(this.skipSC(),e=o,n=this.consume(y)):n=i,this.lookupTypeNonSC(0)){case y:{this.skipSC(),this.eatIdent("and"),r=this.Condition("media");break}case jt:case bt:case Et:case Wt:break;default:this.error("Identifier or parenthesis is expected")}}else switch(this.tokenType){case y:case H:case E:{r=this.Condition("media");break}case jt:case bt:case Wt:break;default:this.error("Identifier or parenthesis is expected")}return{type:"MediaQuery",loc:this.getLocation(t,this.tokenStart),modifier:e,mediaType:n,condition:r}}function Ci(t){t.mediaType?(t.modifier&&this.token(y,t.modifier),this.token(y,t.mediaType),t.condition&&(this.token(y,"and"),this.node(t.condition))):t.condition&&this.node(t.condition)}const gc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ci,name:pc,parse:vi,structure:mc},Symbol.toStringTag,{value:"Module"})),yc="MediaQueryList",kc={children:[["MediaQuery"]]};function wi(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===Et);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function xi(t){this.children(t,()=>this.token(Et,","))}const bc=Object.freeze(Object.defineProperty({__proto__:null,generate:xi,name:yc,parse:wi,structure:kc},Symbol.toStringTag,{value:"Module"})),Sc=38,vc="NestingSelector",Cc={};function Li(){const t=this.tokenStart;return this.eatDelim(Sc),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function Ti(){this.token(F,"&")}const wc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ti,name:vc,parse:Li,structure:Cc},Symbol.toStringTag,{value:"Module"})),xc="Nth",Lc={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function Oi(){this.skipSC();const t=this.tokenStart;let e=t,n=null,r;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?r=this.Identifier():r=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:r,selector:n}}function Ai(t){this.node(t.nth),t.selector!==null&&(this.token(y,"of"),this.node(t.selector))}const Tc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ai,name:xc,parse:Oi,structure:Lc},Symbol.toStringTag,{value:"Module"})),Oc="Number",Ac={value:String};function Pi(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(P)}}function _i(t){this.token(P,t.value)}const Pc=Object.freeze(Object.defineProperty({__proto__:null,generate:_i,name:Oc,parse:Pi,structure:Ac},Symbol.toStringTag,{value:"Module"})),_c="Operator",Ec={value:String};function Ei(){const t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function ji(t){this.tokenize(t.value)}const jc=Object.freeze(Object.defineProperty({__proto__:null,generate:ji,name:_c,parse:Ei,structure:Ec},Symbol.toStringTag,{value:"Module"})),Dc="Parentheses",Ic={children:[[]]};function Di(t,e){const n=this.tokenStart;let r=null;return this.eat(H),r=t.call(this,e),this.eof||this.eat(O),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:r}}function Ii(t){this.token(H,"("),this.children(t),this.token(O,")")}const Mc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ii,name:Dc,parse:Di,structure:Ic},Symbol.toStringTag,{value:"Module"})),Rc="Percentage",Nc={value:String};function Mi(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(tt)}}function Ri(t){this.token(tt,t.value+"%")}const Fc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ri,name:Rc,parse:Mi,structure:Nc},Symbol.toStringTag,{value:"Module"})),$c="PseudoClassSelector",zc="function",Bc={name:String,children:[["Raw"],null]};function Ni(){const t=this.tokenStart;let e=null,n,r;return this.eat(dt),this.tokenType===E?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==O?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(O)):n=this.consume(y),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function Fi(t){this.token(dt,":"),t.children===null?this.token(y,t.name):(this.token(E,t.name+"("),this.children(t),this.token(O,")"))}const Wc=Object.freeze(Object.defineProperty({__proto__:null,generate:Fi,name:$c,parse:Ni,structure:Bc,walkContext:zc},Symbol.toStringTag,{value:"Module"})),Uc="PseudoElementSelector",Hc="function",Vc={name:String,children:[["Raw"],null]};function $i(){const t=this.tokenStart;let e=null,n,r;return this.eat(dt),this.eat(dt),this.tokenType===E?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==O?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(O)):n=this.consume(y),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function zi(t){this.token(dt,":"),this.token(dt,":"),t.children===null?this.token(y,t.name):(this.token(E,t.name+"("),this.children(t),this.token(O,")"))}const qc=Object.freeze(Object.defineProperty({__proto__:null,generate:zi,name:Uc,parse:$i,structure:Vc,walkContext:Hc},Symbol.toStringTag,{value:"Module"})),Bi=47;function Wi(){switch(this.skipSC(),this.tokenType){case P:return this.Number();case E:return this.Function(this.readSequence,this.scope.Value);default:this.error("Number of function is expected")}}const Gc="Ratio",Xc={left:["Number","Function"],right:["Number","Function",null]};function Ui(){const t=this.tokenStart,e=Wi.call(this);let n=null;return this.skipSC(),this.isDelim(Bi)&&(this.eatDelim(Bi),n=Wi.call(this)),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function Hi(t){this.node(t.left),this.token(F,"/"),t.right?this.node(t.right):this.node(P,1)}const Qc=Object.freeze(Object.defineProperty({__proto__:null,generate:Hi,name:Gc,parse:Ui,structure:Xc},Symbol.toStringTag,{value:"Module"}));function Yc(){return this.tokenIndex>0&&this.lookupType(-1)===et?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const Jc="Raw",Zc={value:String};function Vi(t,e){const n=this.getTokenStart(this.tokenIndex);let r;return this.skipUntilBalanced(this.tokenIndex,t||this.consumeUntilBalanceEnd),e&&this.tokenStart>n?r=Yc.call(this):r=this.tokenStart,{type:"Raw",loc:this.getLocation(n,r),value:this.substring(n,r)}}function qi(t){this.tokenize(t.value)}const Kc=Object.freeze(Object.defineProperty({__proto__:null,generate:qi,name:Jc,parse:Vi,structure:Zc},Symbol.toStringTag,{value:"Module"}));function Gi(){return this.Raw(this.consumeUntilLeftCurlyBracket,!0)}function tu(){const t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==jt&&this.error(),t}const eu="Rule",nu="rule",ru={prelude:["SelectorList","Raw"],block:["Block"]};function Xi(){const t=this.tokenIndex,e=this.tokenStart;let n,r;return this.parseRulePrelude?n=this.parseWithFallback(tu,Gi):n=Gi.call(this,t),r=this.Block(!0),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:r}}function Qi(t){this.node(t.prelude),this.node(t.block)}const iu=Object.freeze(Object.defineProperty({__proto__:null,generate:Qi,name:eu,parse:Xi,structure:ru,walkContext:nu},Symbol.toStringTag,{value:"Module"})),su="Scope",ou={root:["SelectorList","Raw",null],limit:["SelectorList","Raw",null]};function Yi(){let t=null,e=null;this.skipSC();const n=this.tokenStart;return this.tokenType===H&&(this.next(),this.skipSC(),t=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(O)),this.lookupNonWSType(0)===y&&(this.skipSC(),this.eatIdent("to"),this.skipSC(),this.eat(H),this.skipSC(),e=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(O)),{type:"Scope",loc:this.getLocation(n,this.tokenStart),root:t,limit:e}}function Ji(t){t.root&&(this.token(H,"("),this.node(t.root),this.token(O,")")),t.limit&&(this.token(y,"to"),this.token(H,"("),this.node(t.limit),this.token(O,")"))}const lu=Object.freeze(Object.defineProperty({__proto__:null,generate:Ji,name:su,parse:Yi,structure:ou},Symbol.toStringTag,{value:"Module"})),au="Selector",cu={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator"]]};function Zi(){const t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function Ki(t){this.children(t)}const uu=Object.freeze(Object.defineProperty({__proto__:null,generate:Ki,name:au,parse:Zi,structure:cu},Symbol.toStringTag,{value:"Module"})),hu="SelectorList",fu="selector",du={children:[["Selector","Raw"]]};function ts(){const t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===Et){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function es(t){this.children(t,()=>this.token(Et,","))}const pu=Object.freeze(Object.defineProperty({__proto__:null,generate:es,name:hu,parse:ts,structure:du,walkContext:fu},Symbol.toStringTag,{value:"Module"})),pn=92,ns=34,mu=39;function rs(t){const e=t.length,n=t.charCodeAt(0),r=n===ns||n===mu?1:0,i=r===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1;let o="";for(let l=r;l<=i;l++){let c=t.charCodeAt(l);if(c===pn){if(l===i){l!==e-1&&(o=t.substr(l+1));break}if(c=t.charCodeAt(++l),It(pn,c)){const a=l-1,s=ue(t,a);l=s-1,o+=sr(t.substring(a+1,s))}else c===13&&t.charCodeAt(l+1)===10&&l++}else o+=t[l]}return o}function gu(t,e){const n='"',r=ns;let i="",o=!1;for(let l=0;l<t.length;l++){const c=t.charCodeAt(l);if(c===0){i+="�";continue}if(c<=31||c===127){i+="\\"+c.toString(16),o=!0;continue}c===r||c===pn?(i+="\\"+t.charAt(l),o=!1):(o&&(ae(c)||Xt(c))&&(i+=" "),i+=t.charAt(l),o=!1)}return n+i+n}const yu="String",ku={value:String};function is(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:rs(this.consume(Bt))}}function ss(t){this.token(Bt,gu(t.value))}const bu=Object.freeze(Object.defineProperty({__proto__:null,generate:ss,name:yu,parse:is,structure:ku},Symbol.toStringTag,{value:"Module"})),Su=33;function os(){return this.Raw(null,!1)}const vu="StyleSheet",Cu="stylesheet",wu={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function ls(){const t=this.tokenStart,e=this.createList();let n;for(;!this.eof;){switch(this.tokenType){case et:this.next();continue;case pt:if(this.charCodeAt(this.tokenStart+2)!==Su){this.next();continue}n=this.Comment();break;case _e:n=this.CDO();break;case xt:n=this.CDC();break;case st:n=this.parseWithFallback(this.Atrule,os);break;default:n=this.parseWithFallback(this.Rule,os)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function as(t){this.children(t)}const xu=Object.freeze(Object.defineProperty({__proto__:null,generate:as,name:vu,parse:ls,structure:wu,walkContext:Cu},Symbol.toStringTag,{value:"Module"})),Lu="SupportsDeclaration",Tu={declaration:"Declaration"};function cs(){const t=this.tokenStart;this.eat(H),this.skipSC();const e=this.Declaration();return this.eof||this.eat(O),{type:"SupportsDeclaration",loc:this.getLocation(t,this.tokenStart),declaration:e}}function us(t){this.token(H,"("),this.node(t.declaration),this.token(O,")")}const Ou=Object.freeze(Object.defineProperty({__proto__:null,generate:us,name:Lu,parse:cs,structure:Tu},Symbol.toStringTag,{value:"Module"})),Au=42,hs=124;function mn(){this.tokenType!==y&&this.isDelim(Au)===!1&&this.error("Identifier or asterisk is expected"),this.next()}const Pu="TypeSelector",_u={name:String};function fs(){const t=this.tokenStart;return this.isDelim(hs)?(this.next(),mn.call(this)):(mn.call(this),this.isDelim(hs)&&(this.next(),mn.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function ds(t){this.tokenize(t.name)}const Eu=Object.freeze(Object.defineProperty({__proto__:null,generate:ds,name:Pu,parse:fs,structure:_u},Symbol.toStringTag,{value:"Module"})),ps=43,ms=45,gn=63;function xe(t,e){let n=0;for(let r=this.tokenStart+t;r<this.tokenEnd;r++){const i=this.charCodeAt(r);if(i===ms&&e&&n!==0)return xe.call(this,t+n+1,!1),-1;ae(i)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",r),++n>6&&this.error("Too many hex digits",r)}return this.next(),n}function Be(t){let e=0;for(;this.isDelim(gn);)++e>t&&this.error("Too many question marks"),this.next()}function ju(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===ps?"Plus sign":"Hyphen minus")+" is expected")}function Du(){let t=0;switch(this.tokenType){case P:if(t=xe.call(this,1,!0),this.isDelim(gn)){Be.call(this,6-t);break}if(this.tokenType===R||this.tokenType===P){ju.call(this,ms),xe.call(this,1,!1);break}break;case R:t=xe.call(this,1,!0),t>0&&Be.call(this,6-t);break;default:if(this.eatDelim(ps),this.tokenType===y){t=xe.call(this,0,!0),t>0&&Be.call(this,6-t);break}if(this.isDelim(gn)){this.next(),Be.call(this,5);break}this.error("Hex digit or question mark is expected")}}const Iu="UnicodeRange",Mu={value:String};function gs(){const t=this.tokenStart;return this.eatIdent("u"),Du.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function ys(t){this.tokenize(t.value)}const Ru=Object.freeze(Object.defineProperty({__proto__:null,generate:ys,name:Iu,parse:gs,structure:Mu},Symbol.toStringTag,{value:"Module"})),Nu=32,yn=92,Fu=34,$u=39,zu=40,ks=41;function Bu(t){const e=t.length;let n=4,r=t.charCodeAt(e-1)===ks?e-2:e-1,i="";for(;n<r&&Xt(t.charCodeAt(n));)n++;for(;n<r&&Xt(t.charCodeAt(r));)r--;for(let o=n;o<=r;o++){let l=t.charCodeAt(o);if(l===yn){if(o===r){o!==e-1&&(i=t.substr(o+1));break}if(l=t.charCodeAt(++o),It(yn,l)){const c=o-1,a=ue(t,c);o=a-1,i+=sr(t.substring(c+1,a))}else l===13&&t.charCodeAt(o+1)===10&&o++}else i+=t[o]}return i}function Wu(t){let e="",n=!1;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i===0){e+="�";continue}if(i<=31||i===127){e+="\\"+i.toString(16),n=!0;continue}i===Nu||i===yn||i===Fu||i===$u||i===zu||i===ks?(e+="\\"+t.charAt(r),n=!1):(n&&ae(i)&&(e+=" "),e+=t.charAt(r),n=!1)}return"url("+e+")"}const Uu="Url",Hu={value:String};function bs(){const t=this.tokenStart;let e;switch(this.tokenType){case ft:e=Bu(this.consume(ft));break;case E:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(E),this.skipSC(),e=rs(this.consume(Bt)),this.skipSC(),this.eof||this.eat(O);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function Ss(t){this.token(ft,Wu(t.value))}const Vu=Object.freeze(Object.defineProperty({__proto__:null,generate:Ss,name:Uu,parse:bs,structure:Hu},Symbol.toStringTag,{value:"Module"})),qu="Value",Gu={children:[[]]};function vs(){const t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function Cs(t){this.children(t)}const Xu=Object.freeze(Object.defineProperty({__proto__:null,generate:Cs,name:qu,parse:vs,structure:Gu},Symbol.toStringTag,{value:"Module"})),Qu=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),Yu="WhiteSpace",Ju={value:String};function ws(){return this.eat(et),Qu}function xs(t){this.token(et,t.value)}const Zu=Object.freeze(Object.defineProperty({__proto__:null,generate:xs,name:Yu,parse:ws,structure:Ju},Symbol.toStringTag,{value:"Module"})),Ku=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:ul,Atrule:ml,AtrulePrelude:bl,AttributeSelector:Ol,Block:Dl,Brackets:Rl,CDC:$l,CDO:Wl,ClassSelector:ql,Combinator:Zl,Comment:ra,Condition:aa,Declaration:wa,DeclarationList:Oa,Dimension:_a,Feature:Ia,FeatureFunction:Fa,FeatureRange:Ua,Function:Ga,GeneralEnclosed:Ya,Hash:tc,IdSelector:oc,Identifier:rc,Layer:uc,LayerList:dc,MediaQuery:gc,MediaQueryList:bc,NestingSelector:wc,Nth:Tc,Number:Pc,Operator:jc,Parentheses:Mc,Percentage:Fc,PseudoClassSelector:Wc,PseudoElementSelector:qc,Ratio:Qc,Raw:Kc,Rule:iu,Scope:lu,Selector:uu,SelectorList:pu,String:bu,StyleSheet:xu,SupportsDeclaration:Ou,TypeSelector:Eu,UnicodeRange:Ru,Url:Vu,Value:Xu,WhiteSpace:Zu},Symbol.toStringTag,{value:"Module"})),th={node:Ku},Ht=Xo(th),kn=["left","right","top","bottom","inset-block-start","inset-block-end","inset-inline-start","inset-inline-end","inset-block","inset-inline","inset"];function Le(t){return kn.includes(t)}const bn=["margin-block-start","margin-block-end","margin-block","margin-inline-start","margin-inline-end","margin-inline","margin-bottom","margin-left","margin-right","margin-top","margin"];function eh(t){return bn.includes(t)}const Sn=["width","height","min-width","min-height","max-width","max-height","block-size","inline-size","min-block-size","min-inline-size","max-block-size","max-inline-size"];function Ls(t){return Sn.includes(t)}const Ts=["justify-self","align-self","place-self"];function nh(t){return Ts.includes(t)}const Os=[...kn,...bn,...Sn,...Ts,"position-anchor","position-area"],rh=[...Sn,...kn,...bn];function As(t){return rh.includes(t)}const ih=["top","left","right","bottom","start","end","self-start","self-end","center","inside","outside"];function Ps(t){return ih.includes(t)}const sh=["width","height","block","inline","self-block","self-inline"];function oh(t){return sh.includes(t)}const _s=new Set(["Atrule","Selector","Declaration"]);function lh(t){const e=new SourceMapGenerator,n={line:1,column:0},r={line:0,column:0},i={line:1,column:0},o={generated:i};let l=1,c=0,a=!1;const s=t.node;t.node=function(f){if(f.loc&&f.loc.start&&_s.has(f.type)){const k=f.loc.start.line,g=f.loc.start.column-1;(r.line!==k||r.column!==g)&&(r.line=k,r.column=g,n.line=l,n.column=c,a&&(a=!1,(n.line!==i.line||n.column!==i.column)&&e.addMapping(o)),a=!0,e.addMapping({source:f.loc.source,original:r,generated:n}))}s.call(this,f),a&&_s.has(f.type)&&(i.line=l,i.column=c)};const u=t.emit;t.emit=function(f,k,g){for(let b=0;b<f.length;b++)f.charCodeAt(b)===10?(l++,c=0):c++;u(f,k,g)};const h=t.result;return t.result=function(){return a&&e.addMapping(o),{css:h(),map:e}},t}const ah=43,ch=45,vn=(t,e)=>{if(t===F&&(t=e),typeof t=="string"){const n=t.charCodeAt(0);return n>127?32768:n<<8}return t},Es=[[y,y],[y,E],[y,ft],[y,_t],[y,"-"],[y,P],[y,tt],[y,R],[y,xt],[y,H],[st,y],[st,E],[st,ft],[st,_t],[st,"-"],[st,P],[st,tt],[st,R],[st,xt],[G,y],[G,E],[G,ft],[G,_t],[G,"-"],[G,P],[G,tt],[G,R],[G,xt],[R,y],[R,E],[R,ft],[R,_t],[R,"-"],[R,P],[R,tt],[R,R],[R,xt],["#",y],["#",E],["#",ft],["#",_t],["#","-"],["#",P],["#",tt],["#",R],["#",xt],["-",y],["-",E],["-",ft],["-",_t],["-","-"],["-",P],["-",tt],["-",R],["-",xt],[P,y],[P,E],[P,ft],[P,_t],[P,P],[P,tt],[P,R],[P,"%"],[P,xt],["@",y],["@",E],["@",ft],["@",_t],["@","-"],["@",xt],[".",P],[".",tt],[".",R],["+",P],["+",tt],["+",R],["/","*"]],uh=Es.concat([[y,G],[R,G],[G,G],[st,H],[st,Bt],[st,dt],[tt,tt],[tt,R],[tt,E],[tt,"-"],[O,y],[O,E],[O,tt],[O,R],[O,G],[O,"-"]]);function js(t){const e=new Set(t.map(([n,r])=>vn(n)<<16|vn(r)));return function(n,r,i){const o=vn(r,i),l=i.charCodeAt(0);return(l===ch&&r!==y&&r!==E&&r!==xt||l===ah?e.has(n<<16|l<<8):e.has(n<<16|o))&&this.emit(" ",et,!0),o}}const hh=js(Es),Ds=js(uh),Is=Object.freeze(Object.defineProperty({__proto__:null,safe:Ds,spec:hh},Symbol.toStringTag,{value:"Module"})),fh=92;function dh(t,e){if(typeof e=="function"){let n=null;t.children.forEach(r=>{n!==null&&e.call(this,n),this.node(r),n=r});return}t.children.forEach(this.node,this)}function ph(t){hr(t,(e,n,r)=>{this.token(e,t.slice(n,r))})}function mh(t){const e=new Map;for(let[n,r]of Object.entries(t.node))typeof(r.generate||r)=="function"&&e.set(n,r.generate||r);return function(n,r){let i="",o=0,l={node(a){if(e.has(a.type))e.get(a.type).call(c,a);else throw new Error("Unknown node type: "+a.type)},tokenBefore:Ds,token(a,s){o=this.tokenBefore(o,a,s),this.emit(s,a,!1),a===F&&s.charCodeAt(0)===fh&&this.emit(`
`,et,!0)},emit(a){i+=a},result(){return i}};r&&(typeof r.decorator=="function"&&(l=r.decorator(l)),r.sourceMap&&(l=lh(l)),r.mode in Is&&(l.tokenBefore=Is[r.mode]));const c={node:a=>l.node(a),children:dh,token:(a,s)=>l.token(a,s),tokenize:ph};return l.node(n),l.result()}}const gh=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:dr,Atrule:gr,AtrulePrelude:kr,AttributeSelector:vr,Block:Tr,Brackets:Ar,CDC:_r,CDO:jr,ClassSelector:Ir,Combinator:Nr,Comment:$r,Condition:Wr,Declaration:Gr,DeclarationList:Qr,Dimension:Jr,Feature:Kr,FeatureFunction:ei,FeatureRange:oi,Function:ai,GeneralEnclosed:ui,Hash:fi,IdSelector:gi,Identifier:pi,Layer:ki,LayerList:Si,MediaQuery:Ci,MediaQueryList:xi,NestingSelector:Ti,Nth:Ai,Number:_i,Operator:ji,Parentheses:Ii,Percentage:Ri,PseudoClassSelector:Fi,PseudoElementSelector:zi,Ratio:Hi,Raw:qi,Rule:Qi,Scope:Ji,Selector:Ki,SelectorList:es,String:ss,StyleSheet:as,SupportsDeclaration:us,TypeSelector:ds,UnicodeRange:ys,Url:Ss,Value:Cs,WhiteSpace:xs},Symbol.toStringTag,{value:"Module"})),yh={node:gh},kh=mh(yh);let fe=null;class mt{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return mt.createItem(e)}allocateCursor(e,n){let r;return fe!==null?(r=fe,fe=fe.cursor,r.prev=e,r.next=n,r.cursor=this.cursor):r={prev:e,next:n,cursor:this.cursor},this.cursor=r,r}releaseCursor(){const{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=fe,fe=e}updateCursors(e,n,r,i){let{cursor:o}=this;for(;o!==null;)o.prev===e&&(o.prev=n),o.next===r&&(o.next=i),o=o.cursor}*[Symbol.iterator](){for(let e=this.head;e!==null;e=e.next)yield e.data}get size(){let e=0;for(let n=this.head;n!==null;n=n.next)e++;return e}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let n=null;this.head=null;for(let r of e){const i=mt.createItem(r);n!==null?n.next=i:this.head=i,i.prev=n,n=i}return this.tail=n,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,n=this){const r=this.allocateCursor(null,this.head);for(;r.next!==null;){const i=r.next;r.next=i.next,e.call(n,i.data,i,this)}this.releaseCursor()}forEachRight(e,n=this){const r=this.allocateCursor(this.tail,null);for(;r.prev!==null;){const i=r.prev;r.prev=i.prev,e.call(n,i.data,i,this)}this.releaseCursor()}reduce(e,n,r=this){let i=this.allocateCursor(null,this.head),o=n,l;for(;i.next!==null;)l=i.next,i.next=l.next,o=e.call(r,o,l.data,l,this);return this.releaseCursor(),o}reduceRight(e,n,r=this){let i=this.allocateCursor(this.tail,null),o=n,l;for(;i.prev!==null;)l=i.prev,i.prev=l.prev,o=e.call(r,o,l.data,l,this);return this.releaseCursor(),o}some(e,n=this){for(let r=this.head;r!==null;r=r.next)if(e.call(n,r.data,r,this))return!0;return!1}map(e,n=this){const r=new mt;for(let i=this.head;i!==null;i=i.next)r.appendData(e.call(n,i.data,i,this));return r}filter(e,n=this){const r=new mt;for(let i=this.head;i!==null;i=i.next)e.call(n,i.data,i,this)&&r.appendData(i.data);return r}nextUntil(e,n,r=this){if(e===null)return;const i=this.allocateCursor(null,e);for(;i.next!==null;){const o=i.next;if(i.next=o.next,n.call(r,o.data,o,this))break}this.releaseCursor()}prevUntil(e,n,r=this){if(e===null)return;const i=this.allocateCursor(e,null);for(;i.prev!==null;){const o=i.prev;if(i.prev=o.prev,n.call(r,o.data,o,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){const e=new mt;for(let n of this)e.appendData(n);return e}prepend(e){return this.updateCursors(null,e,this.head,e),this.head!==null?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(mt.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(mt.createItem(e))}insert(e,n=null){if(n!==null)if(this.updateCursors(n.prev,e,n,e),n.prev===null){if(this.head!==n)throw new Error("before doesn't belong to list");this.head=e,n.prev=e,e.next=n,this.updateCursors(null,e)}else n.prev.next=e,e.prev=n.prev,n.prev=e,e.next=n;else this.updateCursors(this.tail,e,null,e),this.tail!==null?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,n){return this.insert(mt.createItem(e),n)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),e.prev!==null)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(e.next!==null)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(mt.createItem(e))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(e){this.prepend(mt.createItem(e))}shift(){return this.head!==null?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,n){return e.head===null?this:(n!=null?(this.updateCursors(n.prev,e.tail,n,e.head),n.prev!==null?(n.prev.next=e.head,e.head.prev=n.prev):this.head=e.head,n.prev=e.tail,e.tail.next=n):(this.updateCursors(this.tail,e.tail,null,e.head),this.tail!==null?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this)}replace(e,n){"head"in n?this.insertList(n,e):this.insert(n,e),this.remove(e)}}function bh(t,e){const n=Object.create(SyntaxError.prototype),r=new Error;return Object.assign(n,{name:t,message:e,get stack(){return(r.stack||"").replace(/^(.+\n){1,3}/,`${t}: ${e}
`)}})}const Cn=100,Ms=60,Rs="    ";function Ns({source:t,line:e,column:n,baseLine:r,baseColumn:i},o){function l(g,b){return s.slice(g,b).map((A,w)=>String(g+w+1).padStart(f)+" |"+A).join(`
`)}const c=`
`.repeat(Math.max(r-1,0)),a=" ".repeat(Math.max(i-1,0)),s=(c+a+t).split(/\r\n?|\n|\f/),u=Math.max(1,e-o)-1,h=Math.min(e+o,s.length+1),f=Math.max(4,String(h).length)+1;let k=0;n+=(Rs.length-1)*(s[e-1].substr(0,n-1).match(/\t/g)||[]).length,n>Cn&&(k=n-Ms+3,n=Ms-2);for(let g=u;g<=h;g++)g>=0&&g<s.length&&(s[g]=s[g].replace(/\t/g,Rs),s[g]=(k>0&&s[g].length>k?"…":"")+s[g].substr(k,Cn-2)+(s[g].length>k+Cn-1?"…":""));return[l(u,e),new Array(n+f+2).join("-")+"^",l(e,h)].filter(Boolean).join(`
`).replace(/^(\s+\d+\s+\|\n)+/,"").replace(/\n(\s+\d+\s+\|)+$/,"")}function Fs(t,e,n,r,i,o=1,l=1){return Object.assign(bh("SyntaxError",t),{source:e,offset:n,line:r,column:i,sourceFragment(c){return Ns({source:e,line:r,column:i,baseLine:o,baseColumn:l},isNaN(c)?0:c)},get formattedMessage(){return`Parse error: ${t}
`+Ns({source:e,line:r,column:i,baseLine:o,baseColumn:l},2)}})}function Sh(t){const e=this.createList();let n=!1;const r={recognizer:t};for(;!this.eof;){switch(this.tokenType){case pt:this.next();continue;case et:n=!0,this.next();continue}let i=t.getNode.call(this,r);if(i===void 0)break;n&&(t.onWhiteSpace&&t.onWhiteSpace.call(this,i,e,r),n=!1),e.push(i)}return n&&t.onWhiteSpace&&t.onWhiteSpace.call(this,null,e,r),e}const $s=()=>{},vh=33,Ch=35,wn=59,zs=123,Bs=0;function wh(t){return function(){return this[t]()}}function xn(t){const e=Object.create(null);for(const n of Object.keys(t)){const r=t[n],i=r.parse||r;i&&(e[n]=i)}return e}function xh(t){const e={context:Object.create(null),features:Object.assign(Object.create(null),t.features),scope:Object.assign(Object.create(null),t.scope),atrule:xn(t.atrule),pseudo:xn(t.pseudo),node:xn(t.node)};for(const[n,r]of Object.entries(t.parseContext))switch(typeof r){case"function":e.context[n]=r;break;case"string":e.context[n]=wh(r);break}return lt(lt({config:e},e),e.node)}function Lh(t){let e="",n="<unknown>",r=!1,i=$s,o=!1;const l=new sl,c=Object.assign(new ol,xh(t||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:Sh,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(a){return a===zs?1:0},consumeUntilLeftCurlyBracketOrSemicolon(a){return a===zs||a===wn?1:0},consumeUntilExclamationMarkOrSemicolon(a){return a===vh||a===wn?1:0},consumeUntilSemicolonIncluded(a){return a===wn?2:0},createList(){return new mt},createSingleNodeList(a){return new mt().appendData(a)},getFirstListNode(a){return a&&a.first},getLastListNode(a){return a&&a.last},parseWithFallback(a,s){const u=this.tokenIndex;try{return a.call(this)}catch(h){if(o)throw h;this.skip(u-this.tokenIndex);const f=s.call(this);return o=!0,i(h,f),o=!1,f}},lookupNonWSType(a){let s;do if(s=this.lookupType(a++),s!==et&&s!==pt)return s;while(s!==Bs);return Bs},charCodeAt(a){return a>=0&&a<e.length?e.charCodeAt(a):0},substring(a,s){return e.substring(a,s)},substrToCursor(a){return this.source.substring(a,this.tokenStart)},cmpChar(a,s){return rr(e,a,s)},cmpStr(a,s,u){return Ie(e,a,s,u)},consume(a){const s=this.tokenStart;return this.eat(a),this.substrToCursor(s)},consumeFunctionName(){const a=e.substring(this.tokenStart,this.tokenEnd-1);return this.eat(E),a},consumeNumber(a){const s=e.substring(this.tokenStart,ir(e,this.tokenStart));return this.eat(a),s},eat(a){if(this.tokenType!==a){const s=or[a].slice(0,-6).replace(/-/g," ").replace(/^./,f=>f.toUpperCase());let u=`${/[[\](){}]/.test(s)?`"${s}"`:s} is expected`,h=this.tokenStart;switch(a){case y:this.tokenType===E||this.tokenType===ft?(h=this.tokenEnd-1,u="Identifier is expected but function found"):u="Identifier is expected";break;case G:this.isDelim(Ch)&&(this.next(),h++,u="Name is expected");break;case tt:this.tokenType===P&&(h=this.tokenEnd,u="Percent sign is expected");break}this.error(u,h)}this.next()},eatIdent(a){(this.tokenType!==y||this.lookupValue(0,a)===!1)&&this.error(`Identifier "${a}" is expected`),this.next()},eatDelim(a){this.isDelim(a)||this.error(`Delim "${String.fromCharCode(a)}" is expected`),this.next()},getLocation(a,s){return r?l.getLocationRange(a,s,n):null},getLocationFromList(a){if(r){const s=this.getFirstListNode(a),u=this.getLastListNode(a);return l.getLocationRange(s!==null?s.loc.start.offset-l.startOffset:this.tokenStart,u!==null?u.loc.end.offset-l.startOffset:this.tokenStart,n)}return null},error(a,s){const u=typeof s<"u"&&s<e.length?l.getLocation(s):this.eof?l.getLocation(nl(e,e.length-1)):l.getLocation(this.tokenStart);throw new Fs(a||"Unexpected input",e,u.offset,u.line,u.column,l.startLine,l.startColumn)}});return Object.assign(function(a,s){e=a,s=s||{},c.setSource(e,hr),l.setSource(e,s.offset,s.line,s.column),n=s.filename||"<unknown>",r=!!s.positions,i=typeof s.onParseError=="function"?s.onParseError:$s,o=!1,c.parseAtrulePrelude="parseAtrulePrelude"in s?!!s.parseAtrulePrelude:!0,c.parseRulePrelude="parseRulePrelude"in s?!!s.parseRulePrelude:!0,c.parseValue="parseValue"in s?!!s.parseValue:!0,c.parseCustomProperty="parseCustomProperty"in s?!!s.parseCustomProperty:!1;const{context:u="default",onComment:h}=s;if(!(u in c.context))throw new Error("Unknown context `"+u+"`");typeof h=="function"&&c.forEachToken((k,g,b)=>{if(k===pt){const A=c.getLocation(g,b),w=Ie(e,b-2,b,"*/")?e.slice(g+2,b-2):e.slice(g+2,b);h(w,A)}});const f=c.context[u].call(c,s);return c.eof||c.error(),f},{SyntaxError:Fs,config:c.config})}const Th=35,Oh=42,Ws=43,Ah=45,Ph=47,_h=117;function Us(t){switch(this.tokenType){case G:return this.Hash();case Et:return this.Operator();case H:return this.Parentheses(this.readSequence,t.recognizer);case oe:return this.Brackets(this.readSequence,t.recognizer);case Bt:return this.String();case R:return this.Dimension();case tt:return this.Percentage();case P:return this.Number();case E:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,t.recognizer);case ft:return this.Url();case y:return this.cmpChar(this.tokenStart,_h)&&this.cmpChar(this.tokenStart+1,Ws)?this.UnicodeRange():this.Identifier();case F:{const e=this.charCodeAt(this.tokenStart);if(e===Ph||e===Oh||e===Ws||e===Ah)return this.Operator();e===Th&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}const Eh={getNode:Us},jh=35,Dh=38,Ih=42,Mh=43,Rh=47,Hs=46,Nh=62,Fh=124,$h=126;function zh(t,e){e.last!==null&&e.last.type!=="Combinator"&&t!==null&&t.type!=="Combinator"&&e.push({type:"Combinator",loc:null,name:" "})}function Bh(){switch(this.tokenType){case oe:return this.AttributeSelector();case G:return this.IdSelector();case dt:return this.lookupType(1)===dt?this.PseudoElementSelector():this.PseudoClassSelector();case y:return this.TypeSelector();case P:case tt:return this.Percentage();case R:this.charCodeAt(this.tokenStart)===Hs&&this.error("Identifier is expected",this.tokenStart+1);break;case F:{switch(this.charCodeAt(this.tokenStart)){case Mh:case Nh:case $h:case Rh:return this.Combinator();case Hs:return this.ClassSelector();case Ih:case Fh:return this.TypeSelector();case jh:return this.IdSelector();case Dh:return this.NestingSelector()}break}}}const Wh={onWhiteSpace:zh,getNode:Bh};function Uh(){return this.createSingleNodeList(this.Raw(null,!1))}function Hh(){const t=this.createList();if(this.skipSC(),t.push(this.Identifier()),this.skipSC(),this.tokenType===Et){t.push(this.Operator());const e=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1);if(n.type==="Value"&&n.children.isEmpty){for(let r=e-this.tokenIndex;r<=0;r++)if(this.lookupType(r)===et){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}t.push(n)}return t}function Vs(t){return t!==null&&t.type==="Operator"&&(t.value[t.value.length-1]==="-"||t.value[t.value.length-1]==="+")}const Vh={getNode:Us,onWhiteSpace(t,e){Vs(t)&&(t.value=" "+t.value),Vs(e.last)&&(e.last.value+=" ")},expression:Uh,var:Hh},qh=Object.freeze(Object.defineProperty({__proto__:null,AtrulePrelude:Eh,Selector:Wh,Value:Vh},Symbol.toStringTag,{value:"Module"})),Gh=new Set(["none","and","not","or"]),Xh={parse:{prelude(){const t=this.createList();if(this.tokenType===y){const e=this.substring(this.tokenStart,this.tokenEnd);Gh.has(e.toLowerCase())||t.push(this.Identifier())}return t.push(this.Condition("container")),t},block(t=!1){return this.Block(t)}}},Qh={parse:{prelude:null,block(){return this.Block(!0)}}};function Ln(t,e){return this.parseWithFallback(()=>{try{return t.call(this)}finally{this.skipSC(),this.lookupNonWSType(0)!==O&&this.error()}},e||(()=>this.Raw(null,!0)))}const qs={layer(){this.skipSC();const t=this.createList(),e=Ln.call(this,this.Layer);return(e.type!=="Raw"||e.value!=="")&&t.push(e),t},supports(){this.skipSC();const t=this.createList(),e=Ln.call(this,this.Declaration,()=>Ln.call(this,()=>this.Condition("supports")));return(e.type!=="Raw"||e.value!=="")&&t.push(e),t}},Yh={parse:{prelude(){const t=this.createList();switch(this.tokenType){case Bt:t.push(this.String());break;case ft:case E:t.push(this.Url());break;default:this.error("String or url() is expected")}return this.skipSC(),this.tokenType===y&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer")?t.push(this.Identifier()):this.tokenType===E&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer(")&&t.push(this.Function(null,qs)),this.skipSC(),this.tokenType===E&&this.cmpStr(this.tokenStart,this.tokenEnd,"supports(")&&t.push(this.Function(null,qs)),(this.lookupNonWSType(0)===y||this.lookupNonWSType(0)===H)&&t.push(this.MediaQueryList()),t},block:null}},Jh={parse:{prelude(){return this.createSingleNodeList(this.LayerList())},block(){return this.Block(!1)}}},Zh={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(t=!1){return this.Block(t)}}},Kh={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},tf={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},ef={parse:{prelude(){return this.createSingleNodeList(this.Scope())},block(t=!1){return this.Block(t)}}},nf={parse:{prelude:null,block(t=!1){return this.Block(t)}}},rf={parse:{prelude(){return this.createSingleNodeList(this.Condition("supports"))},block(t=!1){return this.Block(t)}}},sf={container:Xh,"font-face":Qh,import:Yh,layer:Jh,media:Zh,nest:Kh,page:tf,scope:ef,"starting-style":nf,supports:rf};function of(){const t=this.createList();this.skipSC();t:for(;!this.eof;){switch(this.tokenType){case y:t.push(this.Identifier());break;case Bt:t.push(this.String());break;case Et:t.push(this.Operator());break;case O:break t;default:this.error("Identifier, string or comma is expected")}this.skipSC()}return t}const Jt={parse(){return this.createSingleNodeList(this.SelectorList())}},Tn={parse(){return this.createSingleNodeList(this.Selector())}},lf={parse(){return this.createSingleNodeList(this.Identifier())}},af={parse:of},We={parse(){return this.createSingleNodeList(this.Nth())}},cf={dir:lf,has:Jt,lang:af,matches:Jt,is:Jt,"-moz-any":Jt,"-webkit-any":Jt,where:Jt,not:Jt,"nth-child":We,"nth-last-child":We,"nth-last-of-type":We,"nth-of-type":We,slotted:Tn,host:Tn,"host-context":Tn},uf=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:fr,Atrule:mr,AtrulePrelude:yr,AttributeSelector:Sr,Block:Lr,Brackets:Or,CDC:Pr,CDO:Er,ClassSelector:Dr,Combinator:Rr,Comment:Fr,Condition:Br,Declaration:qr,DeclarationList:Xr,Dimension:Yr,Feature:Zr,FeatureFunction:ti,FeatureRange:si,Function:li,GeneralEnclosed:ci,Hash:hi,IdSelector:mi,Identifier:di,Layer:yi,LayerList:bi,MediaQuery:vi,MediaQueryList:wi,NestingSelector:Li,Nth:Oi,Number:Pi,Operator:Ei,Parentheses:Di,Percentage:Mi,PseudoClassSelector:Ni,PseudoElementSelector:$i,Ratio:Ui,Raw:Vi,Rule:Xi,Scope:Yi,Selector:Zi,SelectorList:ts,String:is,StyleSheet:ls,SupportsDeclaration:cs,TypeSelector:fs,UnicodeRange:gs,Url:bs,Value:vs,WhiteSpace:ws},Symbol.toStringTag,{value:"Module"})),hf={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",condition(t){return this.Condition(t.kind)},rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},features:{supports:{selector(){return this.Selector()}},container:{style(){return this.Declaration()}}},scope:qh,atrule:sf,pseudo:cf,node:uf},ff=Lh(hf);function Ue(t){const e={};for(const n of Object.keys(t)){let r=t[n];r&&(Array.isArray(r)||r instanceof mt?r=r.map(Ue):r.constructor===Object&&(r=Ue(r))),e[n]=r}return e}let df="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Dt=(t=21)=>{let e="",n=t|0;for(;n--;)e+=df[Math.random()*64|0];return e};const Gs=Dt();function He(t){return!!(t&&t.type==="Function"&&t.name==="anchor")}function Vt(t){return ff(t,{parseAtrulePrelude:!1,parseCustomProperty:!0})}function St(t){return kh(t,{mode:"spec"})}function pf(t){return t.type==="Declaration"}function mf(t){return t.toArray().reduce((e,n)=>n.type==="Operator"&&n.value===","?(e.push([]),e):(n.type==="Identifier"&&e[e.length-1].push(n),e),[[]])}function On(t){return t?t.children.map(e=>{var n;let r;((n=e.children.last)==null?void 0:n.type)==="PseudoElementSelector"&&(e=Ue(e),r=St(e.children.last),e.children.pop());const i=St(e);return{selector:i+(r??""),elementPart:i,pseudoElementPart:r}}).toArray():[]}const An=[...Os,"anchor-scope","anchor-name"].reduce((t,e)=>(t[e]=`--${e}-${Gs}`,t),{});function gf(t,e){return pf(t)&&An[t.property]&&e?(e.children.appendData(vt(lt({},t),{property:An[t.property]})),{updated:!0}):{}}function yf(t){for(const e of t){let n=!1;const r=Vt(e.css);Ht(r,{visit:"Declaration",enter(i){var o;const l=(o=this.rule)==null?void 0:o.block,{updated:c}=gf(i,l);c&&(n=!0)}}),n&&(e.css=St(r),e.changed=!0)}return t.some(e=>e.changed===!0)}var Xs=(t=>(t.All="all",t.None="none",t))(Xs||{});function At(t,e){var n;return e=(n=An[e])!=null?n:e,(t instanceof HTMLElement?getComputedStyle(t):t.computedStyle).getPropertyValue(e).trim()}function de(t,e,n){return At(t,e)===n}function kf(t,{selector:e,pseudoElementPart:n}){const r=getComputedStyle(t,n),i=document.createElement("div"),o=document.createElement("style");i.id=`fake-pseudo-element-${Dt()}`;for(const c of Array.from(r)){const a=r.getPropertyValue(c);i.style.setProperty(c,a)}o.textContent+=`#${i.id}${n} { content: ${r.content}; }`,o.textContent+=`${e} { display: none !important; }`,document.head.append(o);const l=n==="::before"?"afterbegin":"beforeend";return t.insertAdjacentElement(l,i),{fakePseudoElement:i,sheet:o,computedStyle:r}}function bf(t){let e=t;for(;e;){if(de(e,"overflow","scroll"))return e;e=e.parentElement}return e}function Sf(t){let e=bf(t);return e===document.documentElement&&(e=null),e??{scrollTop:0,scrollLeft:0}}function vf(t){const{elementPart:e,pseudoElementPart:n}=t,r=[];if(n&&!(n==="::before"||n==="::after"))return r;const i=Array.from(document.querySelectorAll(e));if(!n)return r.push(...i),r;for(const o of i){const{fakePseudoElement:l,sheet:c,computedStyle:a}=kf(o,t),s=l.getBoundingClientRect(),{scrollY:u,scrollX:h}=globalThis,f=Sf(o);r.push({fakePseudoElement:l,computedStyle:a,removeFakePseudoElement(){l.remove(),c.remove()},contextElement:o,getBoundingClientRect(){const{scrollY:k,scrollX:g}=globalThis,{scrollTop:b,scrollLeft:A}=f;return DOMRect.fromRect({y:s.y+(u-k)+(f.scrollTop-b),x:s.x+(h-g)+(f.scrollLeft-A),width:s.width,height:s.height})}})}return r}function Cf(t,e){const n=At(t,"anchor-name");return e?n.split(",").map(r=>r.trim()).includes(e):!n}function wf(t,e){const n=At(t,"anchor-scope");return n===e||n==="all"}const Pn=t=>V(C,null,function*(){var e,n,r;let i=yield(e=wt.getOffsetParent)==null?void 0:e.call(wt,t);return(yield(n=wt.isElement)==null?void 0:n.call(wt,i))||(i=(yield(r=wt.getDocumentElement)==null?void 0:r.call(wt,t))||window.document.documentElement),i}),Qs="InvalidMimeType";function xf(t){return!!((t.type==="text/css"||t.rel==="stylesheet")&&t.href)}function Lf(t){const e=new URL(t.href,document.baseURI);if(xf(t)&&e.origin===location.origin)return e}function Tf(t){return V(this,null,function*(){return(yield Promise.all(t.map(e=>V(this,null,function*(){var n;if(!e.url)return e;if((n=e.el)!=null&&n.disabled)return null;try{const r=yield fetch(e.url.toString()),i=r.headers.get("content-type");if(!(i!=null&&i.startsWith("text/css"))){const l=new Error(`Error loading ${e.url}: expected content-type "text/css", got "${i}".`);throw l.name=Qs,l}const o=yield r.text();return vt(lt({},e),{css:o})}catch(r){if(r instanceof Error&&r.name===Qs)return console.warn(r),null;throw r}})))).filter(e=>e!==null)})}const Ys='[style*="anchor"]',Js='[style*="position-area"]';function Of(t){const e=t?t.filter(r=>r instanceof HTMLElement&&(r.matches(Ys)||r.matches(Js))):Array.from(document.querySelectorAll([Ys,Js].join(","))),n=[];return e.filter(r=>r instanceof HTMLElement).forEach(r=>{const i=Dt(12),o="data-has-inline-styles";r.setAttribute(o,i);const l=r.getAttribute("style"),c=`[${o}="${i}"] { ${l} }`;n.push({el:r,css:c})}),n}function Af(t,e){return V(this,null,function*(){const n=t??Array.from(document.querySelectorAll("link, style")),r=[];n.filter(l=>l instanceof HTMLElement).forEach(l=>{if(l.tagName.toLowerCase()==="link"){const c=Lf(l);c&&r.push({el:l,url:c})}l.tagName.toLowerCase()==="style"&&r.push({el:l,css:l.innerHTML})});const i=e?t??[]:void 0,o=Of(i);return yield Tf([...r,...o])})}const Pf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Zs=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Pf[n[t]&63];return e};const Ks="--pa-cascade-property",to="data-anchor-position-wrapper",eo="data-pa-wrapper-for-",no="POLYFILL-POSITION-AREA",_f=["left","center","right","span-left","span-right","x-start","x-end","span-x-start","span-x-end","x-self-start","x-self-end","span-x-self-start","span-x-self-end","span-all","top","bottom","span-top","span-bottom","y-start","y-end","span-y-start","span-y-end","y-self-start","y-self-end","span-y-self-start","span-y-self-end","block-start","block-end","span-block-start","span-block-end","inline-start","inline-end","span-inline-start","span-inline-end","self-block-start","self-block-end","span-self-block-start","span-self-block-end","self-inline-start","self-inline-end","span-self-inline-start","span-self-inline-end","start","end","span-start","span-end","self-start","self-end","span-self-start","span-self-end"];function ro(t){return _f.includes(t)}const io={left:[0,1,"Irrelevant"],center:[1,2,"Irrelevant"],right:[2,3,"Irrelevant"],"span-left":[0,2,"Irrelevant"],"span-right":[1,3,"Irrelevant"],"x-start":[0,1,"Physical"],"x-end":[2,3,"Physical"],"span-x-start":[0,2,"Physical"],"span-x-end":[1,3,"Physical"],"x-self-start":[0,1,"PhysicalSelf"],"x-self-end":[2,3,"PhysicalSelf"],"span-x-self-start":[0,2,"PhysicalSelf"],"span-x-self-end":[1,3,"PhysicalSelf"],"span-all":[0,3,"Irrelevant"],top:[0,1,"Irrelevant"],bottom:[2,3,"Irrelevant"],"span-top":[0,2,"Irrelevant"],"span-bottom":[1,3,"Irrelevant"],"y-start":[0,1,"Physical"],"y-end":[2,3,"Physical"],"span-y-start":[0,2,"Physical"],"span-y-end":[1,3,"Physical"],"y-self-start":[0,1,"PhysicalSelf"],"y-self-end":[2,3,"PhysicalSelf"],"span-y-self-start":[0,2,"PhysicalSelf"],"span-y-self-end":[1,3,"PhysicalSelf"],"block-start":[0,1,"Logical"],"block-end":[2,3,"Logical"],"span-block-start":[0,2,"Logical"],"span-block-end":[1,3,"Logical"],"inline-start":[0,1,"Logical"],"inline-end":[2,3,"Logical"],"span-inline-start":[0,2,"Logical"],"span-inline-end":[1,3,"Logical"],"self-block-start":[0,1,"LogicalSelf"],"self-block-end":[2,3,"LogicalSelf"],"span-self-block-start":[0,2,"LogicalSelf"],"span-self-block-end":[1,3,"LogicalSelf"],"self-inline-start":[0,1,"LogicalSelf"],"self-inline-end":[2,3,"LogicalSelf"],"span-self-inline-start":[0,2,"LogicalSelf"],"span-self-inline-end":[1,3,"LogicalSelf"],start:[0,1,"Logical"],end:[2,3,"Logical"],"span-start":[0,2,"Logical"],"span-end":[1,3,"Logical"],"self-start":[0,1,"LogicalSelf"],"self-end":[2,3,"LogicalSelf"],"span-self-start":[0,2,"LogicalSelf"],"span-self-end":[1,3,"LogicalSelf"]},Ef=["left","center","right","span-left","span-right","x-start","x-end","span-x-start","span-x-end","x-self-start","x-self-end","span-x-self-start","span-x-self-end","span-all"],jf=["top","center","bottom","span-top","span-bottom","y-start","y-end","span-y-start","span-y-end","y-self-start","y-self-end","span-y-self-start","span-y-self-end","span-all"],Df=["block-start","center","block-end","span-block-start","span-block-end","span-all"],If=["inline-start","center","inline-end","span-inline-start","span-inline-end","span-all"],Mf=["self-block-start","center","self-block-end","span-self-block-start","span-self-block-end","span-all"],Rf=["self-inline-start","center","self-inline-end","span-self-inline-start","span-self-inline-end","span-all"],so=["start","center","end","span-start","span-end","span-all"],oo=["self-start","center","self-end","span-self-start","span-self-end","span-all"],Nf=["block","top","bottom","y"],Ff=["inline","left","right","x"];function _n(t){const e=t.split("-");for(const n of e){if(Nf.includes(n))return"block";if(Ff.includes(n))return"inline"}return"ambiguous"}function $f(t,e){return e[0].includes(t[0])&&e[1].includes(t[1])||e[0].includes(t[1])&&e[1].includes(t[0])}const zf=[[Ef,jf],[Df,If],[Mf,Rf],[so,so],[oo,oo]];function Bf(t){for(const e of zf)if($f(t,e))return!0;return!1}const lo=t=>{const e=getComputedStyle(t);return{writingMode:e.writingMode,direction:e.direction}},Wf=(t,e)=>V(C,null,function*(){const n=yield Pn(t);switch(e){case"Logical":case"Physical":return lo(n);case"LogicalSelf":case"PhysicalSelf":return lo(t);default:return null}}),En=t=>t.reverse().map(e=>3-e),ao=(t,e)=>t==="Irrelevant"?e:t,Uf=(t,e)=>V(C,[t,e],function*({block:n,inline:r},i){const o=ao(n[2],r[2]),l=yield Wf(i,o),c={block:[n[0],n[1]],inline:[r[0],r[1]]};if(l){if(l.direction==="rtl"&&(c.inline=En(c.inline)),l.writingMode.startsWith("vertical")){const a=c.block;c.block=c.inline,c.inline=a}if(l.writingMode.startsWith("sideways")){const a=c.block;c.block=c.inline,c.inline=a,l.writingMode.endsWith("lr")&&(c.block=En(c.block))}l.writingMode.endsWith("rl")&&(c.inline=En(c.inline))}return c}),Hf=({block:t,inline:e})=>{const n=[0,"top","bottom",0],r=[0,"left","right",0];return{block:[n[t[0]],n[t[1]]],inline:[r[e[0]],r[e[1]]]}};function co([t,e]){return t===0&&e===3?"center":t===0?"end":e===3?"start":"center"}function Vf(t){return t.type==="Declaration"&&t.property==="position-area"}function qf(t){const e=t.value.children.toArray().map(({name:n})=>n);return e.length===1&&(_n(e[0])==="ambiguous"?e.push(e[0]):e.push("span-all")),e}function Gf(t){if(!Vf(t))return;const e=qf(t);if(!Bf(e))return;const n={};switch(_n(e[0])){case"block":n.block=e[0],n.inline=e[1];break;case"inline":n.inline=e[0],n.block=e[1];break;case"ambiguous":_n(e[1])=="block"?(n.block=e[1],n.inline=e[0]):(n.inline=e[1],n.block=e[0]);break}const r={block:io[n.block],inline:io[n.inline]},i=`--pa-declaration-${Zs(12)}`;return{values:n,grid:r,selectorUUID:i}}function Xf(t,e){["justify-self","align-self"].forEach(n=>{e.children.appendData({type:"Declaration",property:n,value:{type:"Raw",value:`var(--pa-value-${n})`},important:!1})}),e.children.appendData({type:"Declaration",property:Ks,value:{type:"Raw",value:t.selectorUUID},important:!1})}function Qf(t,e){var n,r;let i;if(((n=t.parentElement)==null?void 0:n.tagName)===no)i=t.parentElement;else{i=document.createElement(no),i.style.display="grid",i.style.position="absolute";const o=getComputedStyle(t).pointerEvents;i.style.pointerEvents="none",t.style.pointerEvents=o,["top","left","right","bottom"].forEach(l=>{i.style.setProperty(l,`var(--pa-value-${l})`)}),(r=t.parentElement)==null||r.insertBefore(i,t),i.appendChild(t)}return i.setAttribute(`${eo}${e}`,""),i}function Yf(t,e,n){return V(this,null,function*(){const r=`--pa-target-${Zs(12)}`,i=yield Uf(e.grid,t),o=Hf(i),l=ao(e.grid.block[2],e.grid.inline[2]),c=["LogicalSelf","PhysicalSelf"].includes(l)?i:e.grid,a={block:co([c.block[0],c.block[1]]),inline:co([c.inline[0],c.inline[1]])};return{insets:o,alignments:a,targetUUID:r,targetEl:t,anchorEl:n,wrapperEl:Qf(t,r),values:e.values,grid:e.grid,selectorUUID:e.selectorUUID}})}function Jf(t,e){return`
    [${to}="${e}"][${eo}${t}] {
      --pa-value-top: var(${t}-top);
      --pa-value-left: var(${t}-left);
      --pa-value-right: var(${t}-right);
      --pa-value-bottom: var(${t}-bottom);
      --pa-value-justify-self: var(${t}-justify-self);
      --pa-value-align-self: var(${t}-align-self);
    }
  `.replaceAll(`
`,"")}const Zf=["normal","most-width","most-height","most-block-size","most-inline-size"],Kf=["flip-block","flip-inline","flip-start"];function td(t){return t.type==="Declaration"}function ed(t){return t.type==="Declaration"&&t.property==="position-try-fallbacks"}function nd(t){return t.type==="Declaration"&&t.property==="position-try-order"}function rd(t){return t.type==="Declaration"&&t.property==="position-try"}function id(t){return t.type==="Atrule"&&t.name==="position-try"}function sd(t){return Kf.includes(t)}function od(t){return Zf.includes(t)}function ld(t,e){const n=document.querySelector(t);if(n){let r=cd(n);return e.forEach(i=>{r=uo(r,i)}),r}}function ad(t,e){let n=t.declarations;return e.forEach(r=>{n=uo(n,r)}),n}function cd(t){const e={};return Os.forEach(n=>{const r=At(t,`--${n}-${Gs}`);r&&(e[n]=r)}),e}const ud={"flip-block":{top:"bottom",bottom:"top","inset-block-start":"inset-block-end","inset-block-end":"inset-block-start","margin-top":"margin-bottom","margin-bottom":"margin-top"},"flip-inline":{left:"right",right:"left","inset-inline-start":"inset-inline-end","inset-inline-end":"inset-inline-start","margin-left":"margin-right","margin-right":"margin-left"},"flip-start":{left:"top",right:"bottom",top:"left",bottom:"right","inset-block-start":"inset-block-end","inset-block-end":"inset-block-start","inset-inline-start":"inset-inline-end","inset-inline-end":"inset-inline-start","inset-block":"inset-inline","inset-inline":"inset-block"}},hd={"flip-block":{top:"bottom",bottom:"top",start:"end",end:"start","self-end":"self-start","self-start":"self-end"},"flip-inline":{left:"right",right:"left",start:"end",end:"start","self-end":"self-start","self-start":"self-end"},"flip-start":{top:"left",left:"top",right:"bottom",bottom:"right"}},fd={"flip-block":{top:"bottom",bottom:"top",start:"end",end:"start"},"flip-inline":{left:"right",right:"left",start:"end",end:"start"},"flip-start":{}};function dd(t,e){return ud[e][t]||t}function pd(t,e){return hd[e][t]||t}function md(t,e){if(e==="flip-start")return t;{const n=fd[e];return t.split("-").map(r=>n[r]||r).join("-")}}function gd(t,e,n){if(t==="margin"){const[r,i,o,l]=e.children.toArray();n==="flip-block"?l?e.children.fromArray([o,i,r,l]):o&&e.children.fromArray([o,i,r]):n==="flip-inline"&&l&&e.children.fromArray([r,l,o,i])}else if(t==="margin-block"){const[r,i]=e.children.toArray();n==="flip-block"&&i&&e.children.fromArray([i,r])}else if(t==="margin-inline"){const[r,i]=e.children.toArray();n==="flip-inline"&&i&&e.children.fromArray([i,r])}}const yd=(t,e)=>{var n;return((n=Vt(`#id{${t}: ${e};}`).children.first)==null?void 0:n.block.children.first).value};function uo(t,e){const n={};return Object.entries(t).forEach(([r,i])=>{const o=r,l=yd(o,i),c=dd(o,e);c!==o&&(n[o]!=null||(n[o]="revert")),Ht(l,{visit:"Function",enter(a){He(a)&&a.children.forEach(s=>{Te(s)&&Ps(s.name)&&(s.name=pd(s.name,e))})}}),o==="position-area"&&l.children.forEach(a=>{Te(a)&&ro(a.name)&&(a.name=md(a.name,e))}),o.startsWith("margin")&&gd(o,l,e),n[c]=St(l)}),n}function ho(t){const e=mf(t),n=[];return e.forEach(r=>{const i={atRules:[],tactics:[],positionAreas:[]};r.forEach(o=>{sd(o.name)?i.tactics.push(o.name):o.name.startsWith("--")?i.atRules.push(o.name):ro(o.name)&&i.positionAreas.push(o.name)}),i.positionAreas.length?n.push({positionArea:i.positionAreas[0],type:"position-area"}):i.atRules.length&&i.tactics.length?n.push({tactics:i.tactics,atRule:i.atRules[0],type:"at-rule-with-try-tactic"}):i.atRules.length?n.push({atRule:i.atRules[0],type:"at-rule"}):i.tactics.length&&n.push({tactics:i.tactics,type:"try-tactic"})}),n}function kd(t){return ed(t)&&t.value.children.first?ho(t.value.children):[]}function bd(t){if(rd(t)&&t.value.children.first){const e=Ue(t);let n;const r=e.value.children.first.name;r&&od(r)&&(n=r,e.value.children.shift());const i=ho(e.value.children);return{order:n,options:i}}return{}}function Sd(t){return nd(t)&&t.value.children.first?{order:t.value.children.first.name}:{}}function vd(t){const{order:e,options:n}=bd(t);if(e||n)return{order:e,options:n};const{order:r}=Sd(t),i=kd(t);return r||i?{order:r,options:i}:{}}function Cd(t){return Le(t.property)||eh(t.property)||Ls(t.property)||nh(t.property)||["position-anchor","position-area"].includes(t.property)}function wd(t){var e,n;if(id(t)&&(e=t.prelude)!=null&&e.value&&(n=t.block)!=null&&n.children){const r=t.prelude.value,i=t.block.children.filter(l=>td(l)&&Cd(l)),o={uuid:`${r}-try-${Dt(12)}`,declarations:Object.fromEntries(i.map(l=>[l.property,St(l.value)]))};return{name:r,tryBlock:o}}return{}}function xd(t){const e={},n={},r={};for(const i of t){const o=Vt(i.css);Ht(o,{visit:"Atrule",enter(l){const{name:c,tryBlock:a}=wd(l);c&&a&&(e[c]=a)}})}for(const i of t){let o=!1;const l=new Set,c=Vt(i.css);Ht(c,{visit:"Declaration",enter(a){var s;const u=(s=this.rule)==null?void 0:s.prelude,h=On(u);if(!h.length)return;const{order:f,options:k}=vd(a),g={};f&&(g.order=f),h.forEach(({selector:b})=>{var A;k==null||k.forEach(w=>{var B;let j;if(w.type==="at-rule")j=w.atRule;else if(w.type==="try-tactic"){j=`${b}-${w.tactics.join("-")}`;const z=ld(b,w.tactics);z&&(e[j]={uuid:`${b}-${w.tactics.join("-")}-try-${Dt(12)}`,declarations:z})}else if(w.type==="at-rule-with-try-tactic"){j=`${b}-${w.atRule}-${w.tactics.join("-")}`;const z=e[w.atRule],_=ad(z,w.tactics);_&&(e[j]={uuid:`${b}-${w.atRule}-${w.tactics.join("-")}-try-${Dt(12)}`,declarations:_})}if(j&&e[j]){const z=`[data-anchor-polyfill="${e[j].uuid}"]`;n[z]!=null||(n[z]=[]),n[z].push(b),l.has(j)||(g.fallbacks!=null||(g.fallbacks=[]),g.fallbacks.push(e[j]),l.add(j),(B=this.stylesheet)==null||B.children.prependData({type:"Rule",prelude:{type:"Raw",value:z},block:{type:"Block",children:new mt().fromArray(Object.entries(e[j].declarations).map(([_,$])=>({type:"Declaration",important:!0,property:_,value:{type:"Raw",value:$}})))}}),o=!0)}}),Object.keys(g).length>0&&(r[b]?(g.order&&(r[b].order=g.order),g.fallbacks&&((A=r[b]).fallbacks!=null||(A.fallbacks=[]),r[b].fallbacks.push(...g.fallbacks))):r[b]=g)})}}),o&&(i.css=St(c),i.changed=!0)}return{fallbackTargets:n,validPositions:r}}function Ld(t,e){return!t||t===e?!1:fo(t)?t.document.contains(e):t.contains(e)}function fo(t){return!!(t&&t===t.window)}function Td(t){return de(t,"position","fixed")}function jn(t){return!!(t&&(Td(t)||de(t,"position","absolute")))}function po(t,e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}function Od(t){return V(this,null,function*(){return yield wt.getOffsetParent(t)})}function Dn(t){return V(this,null,function*(){if(!["absolute","fixed"].includes(At(t,"position")))return yield Od(t);let e=t.parentElement;for(;e;){if(!de(e,"position","static")&&de(e,"display","block"))return e;e=e.parentElement}return window})}function Ad(t,e,n,r){return V(this,null,function*(){const i=yield Dn(t),o=yield Dn(n);if(!(Ld(o,t)||fo(o))||i===o&&!(!jn(t)||po(t,n)))return!1;if(i!==o){let l;const c=[];for(l=i;l&&l!==o&&l!==window;)c.push(l),l=yield Dn(l);const a=c[c.length-1];if(a instanceof HTMLElement&&!(!jn(a)||po(a,n)))return!1}{let l=t.parentElement;for(;l;){if(de(l,"content-visibility","hidden"))return!1;l=l.parentElement}}return!(e&&r&&mo(t,e,r)!==mo(n,e,r))})}function mo(t,e,n){for(;!(t.matches(n)&&wf(t,e));){if(!t.parentElement)return null;t=t.parentElement}return t}function Pd(t,e,n,r){return V(this,null,function*(){if(!(t instanceof HTMLElement&&n.length&&jn(t)))return null;const i=n.flatMap(vf).filter(l=>Cf(l,e)),o=r.map(l=>l.selector).join(",")||null;for(let l=i.length-1;l>=0;l--){const c=i[l],a="fakePseudoElement"in c;if(yield Ad(a?c.fakePseudoElement:c,e,t,o))return a&&c.removeFakePseudoElement(),c}return null})}function _d(t){return t.type==="Declaration"&&t.property==="anchor-name"}function Ed(t){return t.type==="Declaration"&&t.property==="anchor-scope"}function In(t){return!!(t&&t.type==="Function"&&t.name==="anchor-size")}function Ve(t){return!!(t&&t.type==="Function"&&t.name==="var")}function Te(t){return!!(t.type==="Identifier"&&t.name)}function jd(t){return!!(t.type==="Percentage"&&t.value)}function go(t,e){let n,r,i,o="",l=!1,c;const a=[];t.children.toArray().forEach(f=>{if(l){o=`${o}${St(f)}`;return}if(f.type==="Operator"&&f.value===","){l=!0;return}a.push(f)});let[s,u]=a;if(u||(u=s,s=void 0),s&&(Te(s)&&s.name.startsWith("--")?n=s.name:Ve(s)&&s.children.first&&(c=s.children.first.name)),u)if(He(t)){if(Te(u)&&Ps(u.name))r=u.name;else if(jd(u)){const f=Number(u.value);r=Number.isNaN(f)?void 0:f}}else In(t)&&Te(u)&&oh(u.name)&&(i=u.name);const h=`--anchor-${Dt(12)}`;return Object.assign(t,{type:"Raw",value:`var(${h})`,children:null}),Reflect.deleteProperty(t,"name"),{anchorName:n,anchorSide:r,anchorSize:i,fallbackValue:o||"0px",customPropName:c,uuid:h}}function yo(t){return t.value.children.map(({name:e})=>e)}let Oe={},Zt={},Kt={},Ae={},te={};function Dd(){Oe={},Zt={},Kt={},Ae={},te={}}function Id(t,e){var n;if((He(t)||In(t))&&e){if(e.property.startsWith("--")){const r=St(e.value),i=go(t);return Ae[i.uuid]=r,Kt[e.property]=[...(n=Kt[e.property])!=null?n:[],i],{changed:!0}}if(He(t)&&Le(e.property)||In(t)&&As(e.property)){const r=go(t);return{prop:e.property,data:r,changed:!0}}}return{}}function ko(t,e){return V(this,null,function*(){let n=e==null?void 0:e.anchorName;const r=e==null?void 0:e.customPropName;if(t&&!n){const c=At(t,"position-anchor");c?n=c:r&&(n=At(t,r))}const i=n?Oe[n]||[]:[],o=n?Zt[Xs.All]||[]:[],l=n?Zt[n]||[]:[];return yield Pd(t,n||null,i,[...o,...l])})}function Md(t){return V(this,null,function*(){var e,n,r,i,o,l,c,a,s,u,h;const f={},k={};Dd();const{fallbackTargets:g,validPositions:b}=xd(t);for(const _ of t){let $=!1;const nt=Vt(_.css);Ht(nt,function(W){var rt,Q,q,ot;const X=(rt=this.rule)==null?void 0:rt.prelude,Y=On(X);if(_d(W)&&Y.length)for(const J of yo(W))Oe[J]!=null||(Oe[J]=[]),Oe[J].push(...Y);if(Ed(W)&&Y.length)for(const J of yo(W))Zt[J]!=null||(Zt[J]=[]),Zt[J].push(...Y);const{prop:gt,data:Ft,changed:ee}=Id(W,this.declaration);if(gt&&Ft&&Y.length)for(const{selector:J}of Y)f[J]=vt(lt({},f[J]),{[gt]:[...(q=(Q=f[J])==null?void 0:Q[gt])!=null?q:[],Ft]});let ut;if(this.block&&(ut=Gf(W),ut)){Xf(ut,this.block);for(const{selector:J}of Y)k[J]=[...(ot=k[J])!=null?ot:[],ut]}(ee||ut)&&($=!0)}),$&&(_.css=St(nt),_.changed=!0)}const A=new Set(Object.keys(Kt)),w={},B=_=>{var $,nt,W,rt,Q;const q=[],ot=new Set((nt=($=w[_])==null?void 0:$.names)!=null?nt:[]);for(;ot.size>0;)for(const X of ot)q.push(...(W=Kt[X])!=null?W:[]),ot.delete(X),(Q=(rt=w[X])==null?void 0:rt.names)!=null&&Q.length&&w[X].names.forEach(Y=>ot.add(Y));return q};for(;A.size>0;){const _=[];for(const $ of t){let nt=!1;const W=Vt($.css);Ht(W,{visit:"Function",enter(rt){var Q,q;const ot=(Q=this.rule)==null?void 0:Q.prelude,X=this.declaration,Y=X==null?void 0:X.property;if((ot==null?void 0:ot.children.isEmpty)===!1&&Ve(rt)&&X&&Y&&rt.children.first&&A.has(rt.children.first.name)&&Y.startsWith("--")){const gt=rt.children.first,Ft=(q=Kt[gt.name])!=null?q:[],ee=B(gt.name);if(!(Ft.length||ee.length))return;const ut=`${gt.name}-anchor-${Dt(12)}`,J=St(X.value);Ae[ut]=J,w[Y]||(w[Y]={names:[],uuids:[]});const pe=w[Y];pe.names.includes(gt.name)||pe.names.push(gt.name),pe.uuids.push(ut),_.push(Y),gt.name=ut,nt=!0}}}),nt&&($.css=St(W),$.changed=!0)}A.clear(),_.forEach($=>A.add($))}for(const _ of t){let $=!1;const nt=Vt(_.css);Ht(nt,{visit:"Function",enter(W){var rt,Q,q,ot,X,Y,gt;const Ft=(rt=this.rule)==null?void 0:rt.prelude,ee=this.declaration,ut=ee==null?void 0:ee.property;if((Ft==null?void 0:Ft.children.isEmpty)===!1&&Ve(W)&&ee&&ut&&W.children.first&&(Le(ut)||Ls(ut))){const J=W.children.first,pe=(Q=Kt[J.name])!=null?Q:[],Rn=B(J.name);if(!(pe.length||Rn.length))return;const Ge=`${ut}-${Dt(12)}`;if(Rn.length){const me=new Set([J.name]);for(;me.size>0;)for(const ge of me){const Pt=w[ge];if((q=Pt==null?void 0:Pt.names)!=null&&q.length&&(ot=Pt==null?void 0:Pt.uuids)!=null&&ot.length)for(const ye of Pt.names)for(const ke of Pt.uuids)te[ke]=vt(lt({},te[ke]),{[Ge]:`${ye}-${Ge}`});me.delete(ge),(X=Pt==null?void 0:Pt.names)!=null&&X.length&&Pt.names.forEach(ye=>me.add(ye))}}const Xd=On(Ft);for(const me of[...pe,...Rn]){const ge=lt({},me),Pt=`--anchor-${Dt(12)}-${ut}`,ye=ge.uuid;ge.uuid=Pt;for(const{selector:ke}of Xd)f[ke]=vt(lt({},f[ke]),{[ut]:[...(gt=(Y=f[ke])==null?void 0:Y[ut])!=null?gt:[],ge]});te[ye]=vt(lt({},te[ye]),{[Ge]:Pt})}J.name=`${J.name}-${Ge}`,$=!0}}}),$&&(_.css=St(nt),_.changed=!0)}if(Object.keys(te).length>0)for(const _ of t){let $=!1;const nt=Vt(_.css);Ht(nt,{visit:"Function",enter(W){var rt,Q,q,ot;if(Ve(W)&&(Q=(rt=W.children.first)==null?void 0:rt.name)!=null&&Q.startsWith("--")&&(ot=(q=this.declaration)==null?void 0:q.property)!=null&&ot.startsWith("--")&&this.block){const X=W.children.first,Y=te[X.name];if(Y)for(const[gt,Ft]of Object.entries(Y))this.block.children.appendData({type:"Declaration",important:!1,property:`${this.declaration.property}-${gt}`,value:{type:"Raw",value:St(this.declaration.value).replace(`var(${X.name})`,`var(${Ft})`)}}),$=!0;Ae[X.name]&&(this.declaration.value={type:"Raw",value:Ae[X.name]},$=!0)}}}),$&&(_.css=St(nt),_.changed=!0)}const j=new Map;for(const[_,$]of Object.entries(f)){let nt;_.startsWith("[data-anchor-polyfill=")&&(e=g[_])!=null&&e.length?nt=document.querySelectorAll(g[_].join(",")):nt=document.querySelectorAll(_);for(const[W,rt]of Object.entries($))for(const Q of rt)for(const q of nt){const ot=yield ko(q,Q),X=`--anchor-${Dt(12)}`;j.set(q,vt(lt({},(n=j.get(q))!=null?n:{}),{[Q.uuid]:X})),q.setAttribute("style",`${Q.uuid}: var(${X}); ${(r=q.getAttribute("style"))!=null?r:""}`),b[_]=vt(lt({},b[_]),{declarations:vt(lt({},(i=b[_])==null?void 0:i.declarations),{[W]:[...(c=(l=(o=b[_])==null?void 0:o.declarations)==null?void 0:l[W])!=null?c:[],vt(lt({},Q),{anchorEl:ot,targetEl:q,uuid:X})]})})}}const z={el:document.createElement("link"),changed:!1,created:!0,css:""};t.push(z);for(const[_,$]of Object.entries(k)){const nt=document.querySelectorAll(_);for(const W of nt){const rt=yield ko(W);for(const Q of $){const q=yield Yf(W,Q,rt);z.css+=Jf(q.targetUUID,Q.selectorUUID),z.changed=!0,b[_]=vt(lt({},b[_]),{declarations:vt(lt({},(a=b[_])==null?void 0:a.declarations),{"position-area":[...(h=(u=(s=b[_])==null?void 0:s.declarations)==null?void 0:u["position-area"])!=null?h:[],q]})})}}}return{rules:b,inlineStyles:j,anchorScopes:Zt}})}const Rd=["as","blocking","crossorigin","disabled","fetchpriority","href","hreflang","integrity","referrerpolicy","rel","type"];function bo(t,e,n=!1){const r=[];for(const{el:i,css:o,changed:l,created:c=!1}of t){const a={el:i,css:o,changed:!1};if(l){if(i.tagName.toLowerCase()==="style")i.innerHTML=o;else if(i instanceof HTMLLinkElement){const s=document.createElement("style");s.textContent=o;for(const u of i.getAttributeNames())if(!u.startsWith("on")&&!Rd.includes(u)){const h=i.getAttribute(u);h!==null&&s.setAttribute(u,h)}i.hasAttribute("href")&&s.setAttribute("data-original-href",i.getAttribute("href")),c?(s.setAttribute("data-generated-by-polyfill","true"),document.head.insertAdjacentElement("beforeend",s)):(i.insertAdjacentElement("beforebegin",s),i.remove()),a.el=s}else if(i.hasAttribute("data-has-inline-styles")){const s=i.getAttribute("data-has-inline-styles");if(s){const u=`[data-has-inline-styles="${s}"]{`;let h=o.slice(u.length,-1);const f=e==null?void 0:e.get(i);if(f)for(const[k,g]of Object.entries(f))h=`${k}: var(${g}); ${h}`;i.setAttribute("style",h)}}}n&&i.hasAttribute("data-has-inline-styles")&&i.removeAttribute("data-has-inline-styles"),r.push(a)}return r}const Nd=vt(lt({},wt),{_c:new Map}),Fd=(t,e)=>{let n;switch(t){case"start":case"self-start":n=0;break;case"end":case"self-end":n=100;break;default:typeof t=="number"&&!Number.isNaN(t)&&(n=t)}if(n!==void 0)return e?100-n:n},$d=(t,e)=>{let n;switch(t){case"block":case"self-block":n=e?"width":"height";break;case"inline":case"self-inline":n=e?"height":"width";break}return n},So=t=>{switch(t){case"top":case"bottom":return"y";case"left":case"right":return"x"}return null},zd=t=>{switch(t){case"x":return"width";case"y":return"height"}return null},vo=t=>At(t,"display")==="inline",Co=(t,e)=>(e==="x"?["border-left-width","border-right-width"]:["border-top-width","border-bottom-width"]).reduce((n,r)=>n+parseInt(At(t,r),10),0)||0,qe=(t,e)=>parseInt(At(t,`margin-${e}`),10)||0,Bd=t=>({top:qe(t,"top"),right:qe(t,"right"),bottom:qe(t,"bottom"),left:qe(t,"left")}),Mn=t=>V(C,[t],function*({targetEl:e,targetProperty:n,anchorRect:r,anchorSide:i,anchorSize:o,fallback:l=null}){var c;if(!((o||i!==void 0)&&e&&r))return l;if(o){if(!As(n))return l;let a;switch(o){case"width":case"height":a=o;break;default:{let s=!1;const u=At(e,"writing-mode");s=u.startsWith("vertical-")||u.startsWith("sideways-"),a=$d(o,s)}}return a?`${r[a]}px`:l}if(i!==void 0){let a,s;const u=So(n);if(!(Le(n)&&u&&(!Le(i)||u===So(i))))return l;const h=["top","left"];switch(i){case"left":case"top":a=0;break;case"right":case"bottom":a=100;break;case"center":a=50;break;case"inside":a=h.includes(n)?0:100;break;case"outside":a=h.includes(n)?100:0;break;default:if(e){const g=(yield(c=wt.isRTL)==null?void 0:c.call(wt,e))||!1;a=Fd(i,g)}}const f=typeof a=="number"&&!Number.isNaN(a),k=zd(u);if(f&&k){(n==="bottom"||n==="right")&&(s=yield Pn(e));let g=r[u]+r[k]*(a/100);switch(n){case"bottom":{if(!s)break;let b=s.clientHeight;if(b===0&&vo(s)){const A=Co(s,u);b=s.offsetHeight-A}g=b-g;break}case"right":{if(!s)break;let b=s.clientWidth;if(b===0&&vo(s)){const A=Co(s,u);b=s.offsetWidth-A}g=b-g;break}}return`${g}px`}}return l}),Wd=t=>"wrapperEl"in t,Ud=t=>"uuid"in t;function Hd(t,e=!1){return V(this,null,function*(){const n=document.documentElement;for(const[r,i]of Object.entries(t))for(const o of i){const l=o.anchorEl,c=o.targetEl;if(l&&c)if(Wd(o)){const a=o.wrapperEl,s=(u,h,f)=>V(this,null,function*(){return u===0?"0px":yield Mn({targetEl:a,targetProperty:h,anchorRect:f,anchorSide:u})});Ze(l,a,()=>V(this,null,function*(){const u=At(c,Ks);a.setAttribute(to,u);const h=yield wt.getElementRects({reference:l,floating:a,strategy:"absolute"}),f=o.insets,k=yield s(f.block[0],"top",h.reference),g=yield s(f.block[1],"bottom",h.reference),b=yield s(f.inline[0],"left",h.reference),A=yield s(f.inline[1],"right",h.reference);n.style.setProperty(`${o.targetUUID}-top`,k||null),n.style.setProperty(`${o.targetUUID}-left`,b||null),n.style.setProperty(`${o.targetUUID}-right`,A||null),n.style.setProperty(`${o.targetUUID}-bottom`,g||null),n.style.setProperty(`${o.targetUUID}-justify-self`,o.alignments.inline),n.style.setProperty(`${o.targetUUID}-align-self`,o.alignments.block)}),{animationFrame:e})}else Ze(l,c,()=>V(this,null,function*(){const a=yield wt.getElementRects({reference:l,floating:c,strategy:"absolute"}),s=yield Mn({targetEl:c,targetProperty:r,anchorRect:a.reference,anchorSide:o.anchorSide,anchorSize:o.anchorSize,fallback:o.fallbackValue});n.style.setProperty(o.uuid,s)}),{animationFrame:e});else if(Ud(o)){const a=yield Mn({targetProperty:r,anchorSide:o.anchorSide,anchorSize:o.anchorSize,fallback:o.fallbackValue});n.style.setProperty(o.uuid,a)}}})}function wo(t,e){return V(this,null,function*(){const n=yield wt.getElementRects({reference:t,floating:t,strategy:"absolute"});return yield Vo({x:t.offsetLeft,y:t.offsetTop,platform:Nd,rects:n,elements:{floating:t,reference:e},strategy:"absolute"},{padding:Bd(t)})})}function Vd(t,e,n=!1){return V(this,null,function*(){if(!e.length)return;const r=document.querySelectorAll(t);for(const i of r){let o=!1;const l=yield Pn(i);Ze({},i,()=>V(this,null,function*(){if(o)return;o=!0,i.removeAttribute("data-anchor-polyfill");const c=yield wo(i,l);if(Object.values(c).every(a=>a<=0)){i.removeAttribute("data-anchor-polyfill-last-successful"),o=!1;return}for(const[a,{uuid:s}]of e.entries()){i.setAttribute("data-anchor-polyfill",s);const u=yield wo(i,l);if(Object.values(u).every(h=>h<=0)){i.setAttribute("data-anchor-polyfill-last-successful",s),o=!1;break}if(a===e.length-1){const h=i.getAttribute("data-anchor-polyfill-last-successful");h?i.setAttribute("data-anchor-polyfill",h):i.removeAttribute("data-anchor-polyfill"),o=!1;break}}}),{animationFrame:n,layoutShift:!1})}})}function qd(t,e=!1){return V(this,null,function*(){var n,r;for(const i of Object.values(t))yield Hd((n=i.declarations)!=null?n:{},e);for(const[i,o]of Object.entries(t))yield Vd(i,(r=o.fallbacks)!=null?r:[],e)})}function Gd(t={}){const e=typeof t=="boolean"?{useAnimationFrame:t}:t,n=e.useAnimationFrame===void 0?!!window.UPDATE_ANCHOR_ON_ANIMATION_FRAME:e.useAnimationFrame;return Array.isArray(e.elements)||(e.elements=void 0),Object.assign(e,{useAnimationFrame:n})}function xo(t){return V(this,null,function*(){const e=Gd(window.ANCHOR_POSITIONING_POLYFILL_OPTIONS);let n=yield Af(e.elements,e.excludeInlineStyles);yf(n)&&(n=bo(n));const{rules:r,inlineStyles:i}=yield Md(n);return Object.values(r).length&&(bo(n,i,!0),yield qd(r,e.useAnimationFrame)),r})}document.readyState!=="complete"?window.addEventListener("load",()=>{xo()}):xo()});mp();export{wp as A,xp as N,yp as P,kp as a,vp as b,Sp as c,Cp as g,bp as s};
