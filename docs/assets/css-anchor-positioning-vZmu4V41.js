import{s as D,b as Jd,l as Zd,u as To,c as Kd,d as jo,g as tp,a as Nn,i as ep}from"./utilities-BsVEY5-V.js";let Fn="page-header";class np extends HTMLElement{constructor(){super()}connectedCallback(){this.setClass(),this.render()}render(){let p=D("hgroup",{class:"logo-wrap"}),m=Jd(),d=D("h1").inner("Newsify");p.append(m,d);let S=D("div",{class:`${this.className}__profile`}),v="Victor P.",w=D("div"),M=D("p").inner(this.timeSpecificGreeting()),U=D("p").inner(v);w.append(M,U);let $=this.profileSettingsBtn(v),O=this.settingsDialog();S.append(w,$,O),this.append(p,S),this.toggleSettingsDialog($,O)}profileSettingsBtn(p){let m=D("button",{class:"settings-button"});{let d=p.split(" ");d=d[0].substring(0,1)+d[1].substring(0,1);let S=D("p").inner(d);m.append(S),m.style.backgroundColor=this.stringToHslColor(p,100,90),S.style.color=this.stringToHslColor(p,100,25)}return m}toggleSettingsDialog(p,m){p.onclick=()=>{m.open?m.close():(Zd(),m.showModal());let d=window.innerHeight-p.getBoundingClientRect().bottom-8;m.style.height=d+"px"},document.onkeydown=d=>{d.key==="Escape"&&(To(),m.close())}}settingsDialog(){let p=D("dialog",{class:"settings-dialog"}),m=D("div",{class:"settings-container"}),d=D("h2").inner("Profile Settings"),S=D("i",{class:"fas fa-cog"});d.prepend(S);let v=D("p").inner("Choose which categories you would like displayed on the home page");m.append(d,v);let w=Kd();w.push({title:"Dark Mode",icon:"far fa-moon"}),w.forEach((O,E)=>{let G=D("div",{class:"settings-item"}),K=jo(O.title,O.icon),st=D("input",{type:"checkbox",role:"switch"});st.checked=!0,st.onclick=()=>{let Wt=tp("settingsArray")||[!0,!0,!0,!0,!0];Wt[E]=st.checked,Nn("settingsArray",Wt),console.log(Wt)},G.append(K,st),m.append(G)}),p.append(m);let M=D("div",{class:"settings-buttons"}),U=D("button",{class:"large-rounded settings"}).inner("Redo Onboarding");U.onclick=()=>{Nn("onboardingCompleted",!1),window.location.href="/onboarding"};let $=D("button",{class:"large-rounded settings"}).inner("Log Out");return $.onclick=()=>{Nn("loggedIn",!1),window.location.href="/login"},M.append(U,$),p.append(M),p.onclick=O=>{var E=p.getBoundingClientRect(),G=E.top<=O.clientY&&O.clientY<=E.top+E.height&&E.left<=O.clientX&&O.clientX<=E.left+E.width;G||(p.close(),To())},p}timeSpecificGreeting(){var p=new Date,m=p.getHours();let d;return m<5?d="Hello there":m<12?d="Good Morning":m<18?d="Good Afternoon":d="Good Evening",d}stringToHslColor(p,m,d){for(var S=0,v=0;v<p.length;v++)S=p.charCodeAt(v)+((S<<5)-S);var w=S%360;return"hsl("+w+", "+m+"%, "+d+"%)"}setClass(){this.className=this.getAttribute("class")||Fn,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`)}}customElements.define(Fn,np);const Sp=Fn;let $n="news-section";class rp extends HTMLElement{set dataObject(p){this.props=p}constructor(){super(),this.props={}}connectedCallback(){this.setClass(),this.render()}render(){let p=D("details"),m=D("summary"),d=jo(this.props.title,this.props.icon),S=D("i",{class:"fas fa-chevron-right"}),v=D("div",{class:"content-div"});m.append(d,S),p.append(m,v),this.append(p),this.monitorItems(v,this)}monitorItems(p,m){const d=function(w,M){p.childElementCount<1&&m.remove()},S=new MutationObserver(d),v={childList:!0};S.observe(p,v)}setClass(){this.className=this.getAttribute("class")||$n,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`),this.role="region"}}customElements.define($n,rp);const vp=$n;function ip(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}var Xe={exports:{}};/*!
 * Clamp.js 0.7.0
 *
 * Copyright 2011-2013, Joseph Schmitt http://joe.sh
 * Released under the WTFPL license
 * http://sam.zoy.org/wtfpl/
 */var sp=Xe.exports,Oo;function op(){return Oo||(Oo=1,function(C,p){(function(m,d){C.exports=d()})(sp,function(){function m(d,S){S=S||{};var v=window,w={clamp:S.clamp||2,useNativeClamp:typeof S.useNativeClamp<"u"?S.useNativeClamp:!0,splitOnChars:S.splitOnChars||[".","-","–","—"," "],animate:S.animate||!1,truncationChar:S.truncationChar||"…",truncationHTML:S.truncationHTML},M=d.style,U=d.innerHTML,$=typeof d.style.webkitLineClamp<"u",O=w.clamp,E=O.indexOf&&(O.indexOf("px")>-1||O.indexOf("em")>-1),G;w.truncationHTML&&(G=document.createElement("span"),G.innerHTML=w.truncationHTML);function K(L,tt){return v.getComputedStyle||(v.getComputedStyle=function(ut,Ce){return this.el=ut,this.getPropertyValue=function(Ct){var se=/(\-([a-z]){1})/g;return Ct=="float"&&(Ct="styleFloat"),se.test(Ct)&&(Ct=Ct.replace(se,function(){return arguments[2].toUpperCase()})),ut.currentStyle&&ut.currentStyle[Ct]?ut.currentStyle[Ct]:null},this}),v.getComputedStyle(L,null).getPropertyValue(tt)}function st(L){var tt=L||d.clientHeight,ut=kt(d);return Math.max(Math.floor(tt/ut),0)}function Wt(L){var tt=kt(d);return tt*L}function kt(L){var tt=K(L,"line-height");return tt=="normal"&&(tt=parseInt(K(L,"font-size"))*1.2),parseInt(tt)}var ct=w.splitOnChars.slice(0),Ot=ct[0],ft,Se;function $t(L){return L.lastChild.children&&L.lastChild.children.length>0?$t(Array.prototype.slice.call(L.children).pop()):!L.lastChild||!L.lastChild.nodeValue||L.lastChild.nodeValue===""||L.lastChild.nodeValue==w.truncationChar?(L.lastChild.parentNode.removeChild(L.lastChild),$t(d)):L.lastChild}function Gt(L,tt){if(!tt)return;function ut(){ct=w.splitOnChars.slice(0),Ot=ct[0],ft=null,Se=null}var Ce=L.nodeValue.replace(w.truncationChar,"");if(ft||(ct.length>0?Ot=ct.shift():Ot="",ft=Ce.split(Ot)),ft.length>1?(Se=ft.pop(),ve(L,ft.join(Ot))):ft=null,G&&(L.nodeValue=L.nodeValue.replace(w.truncationChar,""),d.innerHTML=L.nodeValue+" "+G.innerHTML+w.truncationChar),ft){if(d.clientHeight<=tt)if(ct.length>=0&&Ot!=="")ve(L,ft.join(Ot)+Ot+Se),ft=null;else return d.innerHTML}else Ot===""&&(ve(L,""),L=$t(d),ut());if(w.animate)setTimeout(function(){Gt(L,tt)},w.animate===!0?10:w.animate);else return Gt(L,tt)}function ve(L,tt){L.nodeValue=tt+w.truncationChar}O=="auto"?O=st():E&&(O=st(parseInt(O)));var ie;if($&&w.useNativeClamp)M.overflow="hidden",M.textOverflow="ellipsis",M.webkitBoxOrient="vertical",M.display="-webkit-box",M.webkitLineClamp=O,E&&(M.height=w.clamp+"px");else{var zt=Wt(O);zt<=d.clientHeight&&(ie=Gt($t(d),zt))}return{original:U,clamped:ie}}return m})}(Xe)),Xe.exports}var lp=op();const Ao=ip(lp);function re(){return new Promise((C,p)=>{const m=indexedDB.open("articlesNYT",1);m.onupgradeneeded=d=>{const S=d.target.result;if(!S.objectStoreNames.contains("articles")){const v=S.createObjectStore("articles",{keyPath:"id"});v.createIndex("published_date","published_date",{unique:!1}),v.createIndex("category","category",{unique:!1})}if(!S.objectStoreNames.contains("favorites")){const v=S.createObjectStore("favorites",{keyPath:"id"});v.createIndex("published_date","published_date",{unique:!1}),v.createIndex("category","category",{unique:!1})}},m.onsuccess=d=>{C(d.target.result)},m.onerror=d=>{p(d.target.error)}})}async function Cp(C){const m=(await re()).transaction("articles","readwrite"),d=m.objectStore("articles");return C.forEach(S=>{d.put(S)}),m.complete}async function xp(C){const d=(await re()).transaction("articles","readwrite").objectStore("articles"),S=d.index("category");return new Promise((v,w)=>{let M=26784e5,U=20;const $=S.getAll(C);$.onsuccess=()=>{let O=$.result;O.forEach((E,G)=>{let K=Math.floor(new Date(E.pub_date).getTime());(Date.now()-K>M||G>=U)&&(console.log("Article is old and will be deleted"),d.delete(E.id))}),v(O)},$.onerror=()=>w($.error)})}async function ap(C){const m=(await re()).transaction(["favorites"],"readwrite");return m.objectStore("favorites").put({id:C.id,title:C.title,abstract:C.abstract,thumbnail:C.thumbnail,byline:C.byline,category:C.category,pub_date:C.pub_date,url:C.url,favoritedAt:new Date().toISOString()}),m.complete}async function cp(C){const m=(await re()).transaction(["favorites"],"readwrite");return m.objectStore("favorites").delete(C),m.complete}async function Po(C){const p=await re();return new Promise((m,d)=>{const w=p.transaction(["favorites"],"readonly").objectStore("favorites").get(C);w.onsuccess=()=>m(!!w.result),w.onerror=()=>d(w.error)})}async function wp(C){const S=(await re()).transaction("favorites","readonly").objectStore("favorites").index("category");return new Promise((v,w)=>{const M=S.getAll(C);M.onsuccess=()=>{v(M.result)},M.onerror=()=>{w(M.error)}})}async function Lp(){const d=(await re()).transaction("favorites","readonly").objectStore("favorites").getAll();return new Promise((S,v)=>{d.onsuccess=()=>{const w=[...new Set(d.result.map(M=>M.category))];S(w)},d.onerror=()=>{v(d.error)}})}let zn="article-item";class up extends HTMLElement{set dataObject(p){this.props=p}constructor(){super(),this.props={}}connectedCallback(){this.setClass(),this.render()}render(){let p=ep(this.className),m=D("img",{class:`${this.className}__img`,src:this.props.thumbnail});p.append(m);let d=D("article"),S=D("hgroup"),v=D("a",{href:this.props.url,target:"_blank"}).inner(this.props.title),w=D("h3",{lang:"en"}),M=D("i",{class:"fas fa-external"});w.append(M,v);let U=D("p").inner(this.byline());Ao(U,{clamp:1}),S.append(w,U);let $=D("p",{class:"summary"}).inner(this.props.abstract||"This article has no preview.");d.append(S,$);let O=D("div",{class:`${this.className}__swipe-box`}),E=D("i",{class:"far fa-bookmark"});O.append(E),this.append(p,d,O),this.clampText($,S),this.handleSwipe(O,E)}clampText(p,m){new ResizeObserver(()=>{let d=2;m.clientHeight>40&&(d=1),Ao(p,{clamp:d})}).observe(this)}byline(){let p=this.formatDate();return this.props.byline&&(p+=` — ${this.props.byline}`),p}handleSwipe(p,m){const d=this;let S=0,v=0,w=!1,M=-100,U=!1,$=!1;d.addEventListener("click",O=>{let E=O.clientX-S;Math.abs(E)<5&&window.open(this.props.url,"_blank").focus()}),d.addEventListener("pointerdown",async O=>{S=O.clientX,w=!0,U=!1,$=!1,d.style.transition="none",d.setPointerCapture(O.pointerId),await Po(this.props.id)?(p.style.backgroundColor="#FF5D5D",m.className="fas fa-trash-alt"):(p.style.backgroundColor="#4D861F",m.className="far fa-bookmark")}),d.addEventListener("pointermove",O=>{if(!w)return;let E=O.clientX-S;E<0?(v=E,v<-120&&(v=-120),U=!0):U?(v=E,v>0&&(v=0)):v=0,v<=M?(m.classList.add("activated"),p.style.opacity=.85):(m.classList.remove("activated"),p.style.opacity=1),Math.abs(E)>5&&($=!0),d.style.transform=`translateX(${v}px)`}),d.addEventListener("pointerup",async O=>{w=!1,d.releasePointerCapture(O.pointerId);let E="";if(v<=M?(E="transform 300ms 2000ms ease",await Po(this.props.id)?(window.location.pathname==="/saved"&&(E+=", opacity 300ms ease",d.style.opacity=.2,setTimeout(()=>d.remove(),300)),cp(this.props.id)):ap(this.props)):E="transform 300ms ease",d.style.transition=E,d.style.transform="translateX(0)",m.className="far fa-check-circle",!$){const G=document.elementFromPoint(O.clientX,O.clientY);G&&G.closest("a")&&G.click()}})}formatDate(){const p=this.props.pub_date,m=new Date(p),d={weekday:"long",year:"numeric",month:"long",day:"numeric"};return m.toLocaleDateString("en-US",d)}setClass(){this.className=this.getAttribute("class")||zn,this.classModifier=this.getAttribute("class-mod"),this.classModifier&&this.classList.add(`${this.className}--${this.classModifier}`)}}customElements.define(zn,up);const Tp=zn;let Bn="nav-footer";class hp extends HTMLElement{constructor(){super()}connectedCallback(){this.setClass(),this.render()}render(){let p=D("nav");this.linkArray().forEach(d=>{let S=this.createNavLink(d.title,d.href,d.icon);p.append(S)}),this.append(p)}linkArray(){return[{title:"Home",icon:"fas fa-home",href:"/"},{title:"Saved",icon:"fas fa-bookmark",href:"/saved"},{title:"Popular",icon:"fas fa-star",href:"/popular"}]}createNavLink(p,m,d){let S=D("i",{class:d}),v=D("a",{href:m}).inner(p);return m===window.location.pathname&&v.setAttribute("aria-current","page"),v.prepend(S),v}setClass(){this.className=this.getAttribute("class")||Bn,this._classModifier=this.getAttribute("class-mod"),this._classModifier&&this.classList.add(`${this.className}--${this._classModifier}`)}}customElements.define(Bn,hp);const Op=Bn;var fp=Object.defineProperty,dp=Object.defineProperties,pp=Object.getOwnPropertyDescriptors,_o=Object.getOwnPropertySymbols,mp=Object.prototype.hasOwnProperty,gp=Object.prototype.propertyIsEnumerable,Eo=(C,p,m)=>p in C?fp(C,p,{enumerable:!0,configurable:!0,writable:!0,value:m}):C[p]=m,at=(C,p)=>{for(var m in p||(p={}))mp.call(p,m)&&Eo(C,m,p[m]);if(_o)for(var m of _o(p))gp.call(p,m)&&Eo(C,m,p[m]);return C},vt=(C,p)=>dp(C,pp(p)),yp=(C,p)=>()=>(p||C((p={exports:{}}).exports,p),p.exports),V=(C,p,m)=>new Promise((d,S)=>{var v=U=>{try{M(m.next(U))}catch($){S($)}},w=U=>{try{M(m.throw(U))}catch($){S($)}},M=U=>U.done?d(U.value):Promise.resolve(U.value).then(v,w);M((m=m.apply(C,p)).next())}),kp=yp(C=>{const p=Math.min,m=Math.max,d=Math.round,S=Math.floor,v=t=>({x:t,y:t});function w(t,e){return typeof t=="function"?t(e):t}function M(t){return at({top:0,right:0,bottom:0,left:0},t)}function U(t){return typeof t!="number"?M(t):{top:t,right:t,bottom:t,left:t}}function $(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function O(t,e){return V(this,null,function*(){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:a}=t,{boundary:s="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:k=0}=w(e,t),g=U(k),b=c[f?h==="floating"?"reference":"floating":h],A=$(yield o.getClippingRect({element:(n=yield o.isElement==null?void 0:o.isElement(b))==null||n?b:b.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:s,rootBoundary:u,strategy:a})),x=h==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,B=yield o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating),I=(yield o.isElement==null?void 0:o.isElement(B))?(yield o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},z=$(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:B,strategy:a}):x);return{top:(A.top-z.top+g.top)/I.y,bottom:(z.bottom-A.bottom+g.bottom)/I.y,left:(A.left-z.left+g.left)/I.x,right:(z.right-A.right+g.right)/I.x}})}function E(){return typeof window<"u"}function G(t){return Wt(t)?(t.nodeName||"").toLowerCase():"#document"}function K(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function st(t){var e;return(e=(Wt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wt(t){return E()?t instanceof Node||t instanceof K(t).Node:!1}function kt(t){return E()?t instanceof Element||t instanceof K(t).Element:!1}function ct(t){return E()?t instanceof HTMLElement||t instanceof K(t).HTMLElement:!1}function Ot(t){return!E()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof K(t).ShadowRoot}function ft(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=L(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Se(t){return["table","td","th"].includes(G(t))}function $t(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Gt(t){const e=ie(),n=kt(t)?L(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ve(t){let e=ut(t);for(;ct(e)&&!zt(e);){if(Gt(e))return e;if($t(e))return null;e=ut(e)}return null}function ie(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zt(t){return["html","body","#document"].includes(G(t))}function L(t){return K(t).getComputedStyle(t)}function tt(t){return kt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ut(t){if(G(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ot(t)&&t.host||st(t);return Ot(e)?e.host:e}function Ce(t){const e=ut(t);return zt(e)?t.ownerDocument?t.ownerDocument.body:t.body:ct(e)&&ft(e)?e:Ce(e)}function Ct(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ce(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=K(i);if(o){const c=se(l);return e.concat(l,l.visualViewport||[],ft(i)?i:[],c&&n?Ct(c):[])}return e.concat(i,Ct(i,[],n))}function se(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wn(t){const e=L(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ct(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=d(n)!==o||d(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Qe(t){return kt(t)?t:t.contextElement}function oe(t){const e=Qe(t);if(!ct(e))return v(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Wn(e);let l=(o?d(n.width):n.width)/r,c=(o?d(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Do=v(0);function Un(t){const e=K(t);return!ie()||!e.visualViewport?Do:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Io(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==K(t)?!1:e}function Xt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Qe(t);let l=v(1);e&&(r?kt(r)&&(l=oe(r)):l=oe(t));const c=Io(o,n,r)?Un(o):v(0);let a=(i.left+c.x)/l.x,s=(i.top+c.y)/l.y,u=i.width/l.x,h=i.height/l.y;if(o){const f=K(o),k=r&&kt(r)?K(r):r;let g=f,b=se(g);for(;b&&r&&k!==g;){const A=oe(b),x=b.getBoundingClientRect(),B=L(b),I=x.left+(b.clientLeft+parseFloat(B.paddingLeft))*A.x,z=x.top+(b.clientTop+parseFloat(B.paddingTop))*A.y;a*=A.x,s*=A.y,u*=A.x,h*=A.y,a+=I,s+=z,g=K(b),b=se(g)}}return $({width:u,height:h,x:a,y:s})}function Ye(t,e){const n=tt(t).scrollLeft;return e?e.left+n:Xt(st(t)).left+n}function Hn(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ye(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Mo(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=st(r),c=e?$t(e.floating):!1;if(r===l||c&&o)return n;let a={scrollLeft:0,scrollTop:0},s=v(1);const u=v(0),h=ct(r);if((h||!h&&!o)&&((G(r)!=="body"||ft(l))&&(a=tt(r)),ct(r))){const k=Xt(r);s=oe(r),u.x=k.x+r.clientLeft,u.y=k.y+r.clientTop}const f=l&&!h&&!o?Hn(l,a,!0):v(0);return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-a.scrollLeft*s.x+u.x+f.x,y:n.y*s.y-a.scrollTop*s.y+u.y+f.y}}function Ro(t){return Array.from(t.getClientRects())}function No(t){const e=st(t),n=tt(t),r=t.ownerDocument.body,i=m(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=m(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Ye(t);const c=-n.scrollTop;return L(r).direction==="rtl"&&(l+=m(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function Fo(t,e){const n=K(t),r=st(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,a=0;if(i){o=i.width,l=i.height;const s=ie();(!s||s&&e==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:o,height:l,x:c,y:a}}function $o(t,e){const n=Xt(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ct(t)?oe(t):v(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,a=i*o.x,s=r*o.y;return{width:l,height:c,x:a,y:s}}function Vn(t,e,n){let r;if(e==="viewport")r=Fo(t,n);else if(e==="document")r=No(st(t));else if(kt(e))r=$o(e,n);else{const i=Un(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return $(r)}function qn(t,e){const n=ut(t);return n===e||!kt(n)||zt(n)?!1:L(n).position==="fixed"||qn(n,e)}function zo(t,e){const n=e.get(t);if(n)return n;let r=Ct(t,[],!1).filter(c=>kt(c)&&G(c)!=="body"),i=null;const o=L(t).position==="fixed";let l=o?ut(t):t;for(;kt(l)&&!zt(l);){const c=L(l),a=Gt(l);!a&&c.position==="fixed"&&(i=null),(o?!a&&!i:!a&&c.position==="static"&&i&&["absolute","fixed"].includes(i.position)||ft(l)&&!a&&qn(t,l))?r=r.filter(s=>s!==l):i=c,l=ut(l)}return e.set(t,r),r}function Bo(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?$t(e)?[]:zo(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((a,s)=>{const u=Vn(e,s,i);return a.top=m(u.top,a.top),a.right=p(u.right,a.right),a.bottom=p(u.bottom,a.bottom),a.left=m(u.left,a.left),a},Vn(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Wo(t){const{width:e,height:n}=Wn(t);return{width:e,height:n}}function Uo(t,e,n){const r=ct(e),i=st(e),o=n==="fixed",l=Xt(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const a=v(0);if(r||!r&&!o)if((G(e)!=="body"||ft(i))&&(c=tt(e)),r){const f=Xt(e,!0,o,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else i&&(a.x=Ye(i));const s=i&&!r&&!o?Hn(i,c):v(0),u=l.left+c.scrollLeft-a.x-s.x,h=l.top+c.scrollTop-a.y-s.y;return{x:u,y:h,width:l.width,height:l.height}}function Je(t){return L(t).position==="static"}function Gn(t,e){if(!ct(t)||L(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return st(t)===n&&(n=n.ownerDocument.body),n}function Xn(t,e){const n=K(t);if($t(t))return n;if(!ct(t)){let i=ut(t);for(;i&&!zt(i);){if(kt(i)&&!Je(i))return i;i=ut(i)}return n}let r=Gn(t,e);for(;r&&Se(r)&&Je(r);)r=Gn(r,e);return r&&zt(r)&&Je(r)&&!Gt(r)?n:r||ve(t)||n}const Ho=function(t){return V(this,null,function*(){const e=this.getOffsetParent||Xn,n=this.getDimensions,r=yield n(t.floating);return{reference:Uo(t.reference,yield e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function Vo(t){return L(t).direction==="rtl"}const xt={convertOffsetParentRelativeRectToViewportRelativeRect:Mo,getDocumentElement:st,getClippingRect:Bo,getOffsetParent:Xn,getElementRects:Ho,getClientRects:Ro,getDimensions:Wo,getScale:oe,isElement:kt,isRTL:Vo};function Qn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qo(t,e){let n=null,r;const i=st(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),o();const s=t.getBoundingClientRect(),{left:u,top:h,width:f,height:k}=s;if(c||e(),!f||!k)return;const g=S(h),b=S(i.clientWidth-(u+f)),A=S(i.clientHeight-(h+k)),x=S(u),B={rootMargin:-g+"px "+-b+"px "+-A+"px "+-x+"px",threshold:m(0,p(1,a))||1};let I=!0;function z(_){const F=_[0].intersectionRatio;if(F!==a){if(!I)return l();F?l(!1,F):r=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!Qn(s,t.getBoundingClientRect())&&l(),I=!1}try{n=new IntersectionObserver(z,vt(at({},B),{root:i.ownerDocument}))}catch{n=new IntersectionObserver(z,B)}n.observe(t)}return l(!0),o}function Ze(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,s=Qe(t),u=i||o?[...s?Ct(s):[],...Ct(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=s&&c?qo(s,n):null;let f=-1,k=null;l&&(k=new ResizeObserver(x=>{let[B]=x;B&&B.target===s&&k&&(k.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var I;(I=k)==null||I.observe(e)})),n()}),s&&!a&&k.observe(s),k.observe(e));let g,b=a?Xt(t):null;a&&A();function A(){const x=Xt(t);b&&!Qn(b,x)&&n(),b=x,g=requestAnimationFrame(A)}return n(),()=>{var x;u.forEach(B=>{i&&B.removeEventListener("scroll",n),o&&B.removeEventListener("resize",n)}),h==null||h(),(x=k)==null||x.disconnect(),k=null,a&&cancelAnimationFrame(g)}}const Go=O,{hasOwnProperty:Ke}=Object.prototype,xe=function(){};function Yn(t){return typeof t=="function"?t:xe}function Jn(t,e){return function(n,r,i){n.type===e&&t.call(this,n,r,i)}}function Xo(t,e){const n=e.structure,r=[];for(const i in n){if(Ke.call(n,i)===!1)continue;let o=n[i];const l={name:i,type:!1,nullable:!1};Array.isArray(o)||(o=[o]);for(const c of o)c===null?l.nullable=!0:typeof c=="string"?l.type="node":Array.isArray(c)&&(l.type="list");l.type&&r.push(l)}return r.length?{context:e.walkContext,fields:r}:null}function Qo(t){const e={};for(const n in t.node)if(Ke.call(t.node,n)){const r=t.node[n];if(!r.structure)throw new Error("Missed `structure` field in `"+n+"` node type definition");e[n]=Xo(n,r)}return e}function Zn(t,e){const n=t.fields.slice(),r=t.context,i=typeof r=="string";return e&&n.reverse(),function(o,l,c,a){let s;i&&(s=l[r],l[r]=o);for(const u of n){const h=o[u.name];if(!u.nullable||h){if(u.type==="list"){if(e?h.reduceRight(a,!1):h.reduce(a,!1))return!0}else if(c(h))return!0}}i&&(l[r]=s)}}function Kn({StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:i}){return{Atrule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Rule:{StyleSheet:t,Atrule:e,Rule:n,Block:r},Declaration:{StyleSheet:t,Atrule:e,Rule:n,Block:r,DeclarationList:i}}}function Yo(t){const e=Qo(t),n={},r={},i=Symbol("break-walk"),o=Symbol("skip-node");for(const s in e)Ke.call(e,s)&&e[s]!==null&&(n[s]=Zn(e[s],!1),r[s]=Zn(e[s],!0));const l=Kn(n),c=Kn(r),a=function(s,u){function h(x,B,I){const z=f.call(A,x,B,I);return z===i?!0:z===o?!1:!!(g.hasOwnProperty(x.type)&&g[x.type](x,A,h,b)||k.call(A,x,B,I)===i)}let f=xe,k=xe,g=n,b=(x,B,I,z)=>x||h(B,I,z);const A={break:i,skip:o,root:s,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof u=="function")f=u;else if(u&&(f=Yn(u.enter),k=Yn(u.leave),u.reverse&&(g=r),u.visit)){if(l.hasOwnProperty(u.visit))g=u.reverse?c[u.visit]:l[u.visit];else if(!e.hasOwnProperty(u.visit))throw new Error("Bad value `"+u.visit+"` for `visit` option (should be: "+Object.keys(e).sort().join(", ")+")");f=Jn(f,u.visit),k=Jn(k,u.visit)}if(f===xe&&k===xe)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");h(s)};return a.break=i,a.skip=o,a.find=function(s,u){let h=null;return a(s,function(f,k,g){if(u.call(this,f,k,g))return h=f,i}),h},a.findLast=function(s,u){let h=null;return a(s,{reverse:!0,enter(f,k,g){if(u.call(this,f,k,g))return h=f,i}}),h},a.findAll=function(s,u){const h=[];return a(s,function(f,k,g){u.call(this,f,k,g)&&h.push(f)}),h},a}const Ut=0,y=1,j=2,ot=3,X=4,Bt=5,Jo=6,dt=7,_t=8,N=9,P=10,et=11,R=12,nt=13,_e=14,wt=15,pt=16,bt=17,Et=18,le=19,we=20,H=21,T=22,jt=23,ae=24,mt=25,Zo=0;function Lt(t){return t>=48&&t<=57}function ce(t){return Lt(t)||t>=65&&t<=70||t>=97&&t<=102}function tn(t){return t>=65&&t<=90}function Ko(t){return t>=97&&t<=122}function tl(t){return tn(t)||Ko(t)}function el(t){return t>=128}function Ee(t){return tl(t)||el(t)||t===95}function tr(t){return Ee(t)||Lt(t)||t===45}function nl(t){return t>=0&&t<=8||t===11||t>=14&&t<=31||t===127}function je(t){return t===10||t===13||t===12}function Qt(t){return je(t)||t===32||t===9}function It(t,e){return!(t!==92||je(e)||e===Zo)}function en(t,e,n){return t===45?Ee(e)||e===45||It(e,n):Ee(t)?!0:t===92?It(t,e):!1}function nn(t,e,n){return t===43||t===45?Lt(e)?2:e===46&&Lt(n)?3:0:t===46?Lt(e)?2:0:Lt(t)?1:0}function er(t){return t===65279||t===65534?1:0}const rn=new Array(128),rl=128,De=130,nr=131,sn=132,rr=133;for(let t=0;t<rn.length;t++)rn[t]=Qt(t)&&De||Lt(t)&&nr||Ee(t)&&sn||nl(t)&&rr||t||rl;function on(t){return t<128?rn[t]:sn}function ue(t,e){return e<t.length?t.charCodeAt(e):0}function ln(t,e,n){return n===13&&ue(t,e+1)===10?2:1}function ir(t,e,n){let r=t.charCodeAt(e);return tn(r)&&(r=r|32),r===n}function Ie(t,e,n,r){if(n-e!==r.length||e<0||n>t.length)return!1;for(let i=e;i<n;i++){const o=r.charCodeAt(i-e);let l=t.charCodeAt(i);if(tn(l)&&(l=l|32),l!==o)return!1}return!0}function il(t,e){for(;e>=0&&Qt(t.charCodeAt(e));e--);return e+1}function Me(t,e){for(;e<t.length&&Qt(t.charCodeAt(e));e++);return e}function an(t,e){for(;e<t.length&&Lt(t.charCodeAt(e));e++);return e}function he(t,e){if(e+=2,ce(ue(t,e-1))){for(const r=Math.min(t.length,e+5);e<r&&ce(ue(t,e));e++);const n=ue(t,e);Qt(n)&&(e+=ln(t,e,n))}return e}function Re(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(!tr(n)){if(It(n,ue(t,e+1))){e=he(t,e)-1;continue}break}}return e}function sr(t,e){let n=t.charCodeAt(e);if((n===43||n===45)&&(n=t.charCodeAt(e+=1)),Lt(n)&&(e=an(t,e+1),n=t.charCodeAt(e)),n===46&&Lt(t.charCodeAt(e+1))&&(e+=2,e=an(t,e)),ir(t,e,101)){let r=0;n=t.charCodeAt(e+1),(n===45||n===43)&&(r=1,n=t.charCodeAt(e+2)),Lt(n)&&(e=an(t,e+1+r+1))}return e}function cn(t,e){for(;e<t.length;e++){const n=t.charCodeAt(e);if(n===41){e++;break}It(n,ue(t,e+1))&&(e=he(t,e))}return e}function or(t){if(t.length===1&&!ce(t.charCodeAt(0)))return t[0];let e=parseInt(t,16);return(e===0||e>=55296&&e<=57343||e>1114111)&&(e=65533),String.fromCodePoint(e)}const lr=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token","comment-token"],sl=16*1024;function Ne(t=null,e){return t===null||t.length<e?new Uint32Array(Math.max(e+1024,sl)):t}const ar=10,ol=12,cr=13;function ur(t){const e=t.source,n=e.length,r=e.length>0?er(e.charCodeAt(0)):0,i=Ne(t.lines,n),o=Ne(t.columns,n);let l=t.startLine,c=t.startColumn;for(let a=r;a<n;a++){const s=e.charCodeAt(a);i[a]=l,o[a]=c++,(s===ar||s===cr||s===ol)&&(s===cr&&a+1<n&&e.charCodeAt(a+1)===ar&&(a++,i[a]=l,o[a]=c),l++,c=1)}i[n]=l,o[n]=c,t.lines=i,t.columns=o,t.computed=!0}class ll{constructor(e,n,r,i){this.setSource(e,n,r,i),this.lines=null,this.columns=null}setSource(e="",n=0,r=1,i=1){this.source=e,this.startOffset=n,this.startLine=r,this.startColumn=i,this.computed=!1}getLocation(e,n){return this.computed||ur(this),{source:n,offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}getLocationRange(e,n,r){return this.computed||ur(this),{source:r,start:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]},end:{offset:this.startOffset+n,line:this.lines[n],column:this.columns[n]}}}}const Mt=16777215,Rt=24,Yt=new Uint8Array(32);Yt[j]=T,Yt[H]=T,Yt[le]=we,Yt[jt]=ae;function hr(t){return Yt[t]!==0}class al{constructor(e,n){this.setSource(e,n)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(e="",n=()=>{}){e=String(e||"");const r=e.length,i=Ne(this.offsetAndType,e.length+1),o=Ne(this.balance,e.length+1);let l=0,c=-1,a=0,s=e.length;this.offsetAndType=null,this.balance=null,o.fill(0),n(e,(u,h,f)=>{const k=l++;if(i[k]=u<<Rt|f,c===-1&&(c=h),o[k]=s,u===a){const g=o[s];o[s]=k,s=g,a=Yt[i[g]>>Rt]}else hr(u)&&(s=k,a=Yt[u])}),i[l]=Ut<<Rt|r,o[l]=l;for(let u=0;u<l;u++){const h=o[u];if(h<=u){const f=o[h];f!==u&&(o[u]=f)}else h>l&&(o[u]=l)}this.source=e,this.firstCharOffset=c===-1?0:c,this.tokenCount=l,this.offsetAndType=i,this.balance=o,this.reset(),this.next()}lookupType(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e]>>Rt:Ut}lookupTypeNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>Rt;if(r!==nt&&r!==mt&&e--===0)return r}return Ut}lookupOffset(e){return e+=this.tokenIndex,e<this.tokenCount?this.offsetAndType[e-1]&Mt:this.source.length}lookupOffsetNonSC(e){for(let n=this.tokenIndex;n<this.tokenCount;n++){const r=this.offsetAndType[n]>>Rt;if(r!==nt&&r!==mt&&e--===0)return n-this.tokenIndex}return Ut}lookupValue(e,n){return e+=this.tokenIndex,e<this.tokenCount?Ie(this.source,this.offsetAndType[e-1]&Mt,this.offsetAndType[e]&Mt,n):!1}getTokenStart(e){return e===this.tokenIndex?this.tokenStart:e>0?e<this.tokenCount?this.offsetAndType[e-1]&Mt:this.offsetAndType[this.tokenCount]&Mt:this.firstCharOffset}substrToCursor(e){return this.source.substring(e,this.tokenStart)}isBalanceEdge(e){return this.balance[this.tokenIndex]<e}isDelim(e,n){return n?this.lookupType(n)===N&&this.source.charCodeAt(this.lookupOffset(n))===e:this.tokenType===N&&this.source.charCodeAt(this.tokenStart)===e}skip(e){let n=this.tokenIndex+e;n<this.tokenCount?(this.tokenIndex=n,this.tokenStart=this.offsetAndType[n-1]&Mt,n=this.offsetAndType[n],this.tokenType=n>>Rt,this.tokenEnd=n&Mt):(this.tokenIndex=this.tokenCount,this.next())}next(){let e=this.tokenIndex+1;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.tokenEnd,e=this.offsetAndType[e],this.tokenType=e>>Rt,this.tokenEnd=e&Mt):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=Ut,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===nt||this.tokenType===mt;)this.next()}skipUntilBalanced(e,n){let r=e,i=0,o=0;t:for(;r<this.tokenCount;r++){if(i=this.balance[r],i<e)break t;switch(o=r>0?this.offsetAndType[r-1]&Mt:this.firstCharOffset,n(this.source.charCodeAt(o))){case 1:break t;case 2:r++;break t;default:hr(this.offsetAndType[r]>>Rt)&&(r=i)}}this.skip(r-this.tokenIndex)}forEachToken(e){for(let n=0,r=this.firstCharOffset;n<this.tokenCount;n++){const i=r,o=this.offsetAndType[n],l=o&Mt,c=o>>Rt;r=l,e(c,i,l,n)}}dump(){const e=new Array(this.tokenCount);return this.forEachToken((n,r,i,o)=>{e[o]={idx:o,type:lr[n],chunk:this.source.substring(r,i),balance:this.balance[o]}}),e}}function fr(t,e){function n(h){return h<c?t.charCodeAt(h):0}function r(){if(s=sr(t,s),en(n(s),n(s+1),n(s+2))){u=R,s=Re(t,s);return}if(n(s)===37){u=et,s++;return}u=P}function i(){const h=s;if(s=Re(t,s),Ie(t,h,s,"url")&&n(s)===40){if(s=Me(t,s+1),n(s)===34||n(s)===39){u=j,s=h+4;return}l();return}if(n(s)===40){u=j,s++;return}u=y}function o(h){for(h||(h=n(s++)),u=Bt;s<t.length;s++){const f=t.charCodeAt(s);switch(on(f)){case h:s++;return;case De:if(je(f)){s+=ln(t,s,f),u=Jo;return}break;case 92:if(s===t.length-1)break;const k=n(s+1);je(k)?s+=ln(t,s+1,k):It(f,k)&&(s=he(t,s)-1);break}}}function l(){for(u=dt,s=Me(t,s);s<t.length;s++){const h=t.charCodeAt(s);switch(on(h)){case 41:s++;return;case De:if(s=Me(t,s),n(s)===41||s>=t.length){s<t.length&&s++;return}s=cn(t,s),u=_t;return;case 34:case 39:case 40:case rr:s=cn(t,s),u=_t;return;case 92:if(It(h,n(s+1))){s=he(t,s)-1;break}s=cn(t,s),u=_t;return}}}t=String(t||"");const c=t.length;let a=er(n(0)),s=a,u;for(;s<c;){const h=t.charCodeAt(s);switch(on(h)){case De:u=nt,s=Me(t,s+1);break;case 34:o();break;case 35:tr(n(s+1))||It(n(s+1),n(s+2))?(u=X,s=Re(t,s+1)):(u=N,s++);break;case 39:o();break;case 40:u=H,s++;break;case 41:u=T,s++;break;case 43:nn(h,n(s+1),n(s+2))?r():(u=N,s++);break;case 44:u=Et,s++;break;case 45:nn(h,n(s+1),n(s+2))?r():n(s+1)===45&&n(s+2)===62?(u=wt,s=s+3):en(h,n(s+1),n(s+2))?i():(u=N,s++);break;case 46:nn(h,n(s+1),n(s+2))?r():(u=N,s++);break;case 47:n(s+1)===42?(u=mt,s=t.indexOf("*/",s+2),s=s===-1?t.length:s+2):(u=N,s++);break;case 58:u=pt,s++;break;case 59:u=bt,s++;break;case 60:n(s+1)===33&&n(s+2)===45&&n(s+3)===45?(u=_e,s=s+4):(u=N,s++);break;case 64:en(n(s+1),n(s+2),n(s+3))?(u=ot,s=Re(t,s+1)):(u=N,s++);break;case 91:u=le,s++;break;case 92:It(h,n(s+1))?i():(u=N,s++);break;case 93:u=we,s++;break;case 123:u=jt,s++;break;case 125:u=ae,s++;break;case nr:r();break;case sn:i();break;default:u=N,s++}e(u,a,a=s)}}const Nt=43,Tt=45,Fe=110,Jt=!0,cl=!1;function $e(t,e){let n=this.tokenStart+t;const r=this.charCodeAt(n);for((r===Nt||r===Tt)&&(e&&this.error("Number sign is not allowed"),n++);n<this.tokenEnd;n++)Lt(this.charCodeAt(n))||this.error("Integer is expected",n)}function fe(t){return $e.call(this,0,t)}function Ht(t,e){if(!this.cmpChar(this.tokenStart+t,e)){let n="";switch(e){case Fe:n="N is expected";break;case Tt:n="HyphenMinus is expected";break}this.error(n,this.tokenStart+t)}}function un(){let t=0,e=0,n=this.tokenType;for(;n===nt||n===mt;)n=this.lookupType(++t);if(n!==P)if(this.isDelim(Nt,t)||this.isDelim(Tt,t)){e=this.isDelim(Nt,t)?Nt:Tt;do n=this.lookupType(++t);while(n===nt||n===mt);n!==P&&(this.skip(t),fe.call(this,Jt))}else return null;return t>0&&this.skip(t),e===0&&(n=this.charCodeAt(this.tokenStart),n!==Nt&&n!==Tt&&this.error("Number sign is expected")),fe.call(this,e!==0),e===Tt?"-"+this.consume(P):this.consume(P)}const ul="AnPlusB",hl={a:[String,null],b:[String,null]};function dr(){const t=this.tokenStart;let e=null,n=null;if(this.tokenType===P)fe.call(this,cl),n=this.consume(P);else if(this.tokenType===y&&this.cmpChar(this.tokenStart,Tt))switch(e="-1",Ht.call(this,1,Fe),this.tokenEnd-this.tokenStart){case 2:this.next(),n=un.call(this);break;case 3:Ht.call(this,2,Tt),this.next(),this.skipSC(),fe.call(this,Jt),n="-"+this.consume(P);break;default:Ht.call(this,2,Tt),$e.call(this,3,Jt),this.next(),n=this.substrToCursor(t+2)}else if(this.tokenType===y||this.isDelim(Nt)&&this.lookupType(1)===y){let r=0;switch(e="1",this.isDelim(Nt)&&(r=1,this.next()),Ht.call(this,0,Fe),this.tokenEnd-this.tokenStart){case 1:this.next(),n=un.call(this);break;case 2:Ht.call(this,1,Tt),this.next(),this.skipSC(),fe.call(this,Jt),n="-"+this.consume(P);break;default:Ht.call(this,1,Tt),$e.call(this,2,Jt),this.next(),n=this.substrToCursor(t+r+1)}}else if(this.tokenType===R){const r=this.charCodeAt(this.tokenStart),i=r===Nt||r===Tt;let o=this.tokenStart+i;for(;o<this.tokenEnd&&Lt(this.charCodeAt(o));o++);o===this.tokenStart+i&&this.error("Integer is expected",this.tokenStart+i),Ht.call(this,o-this.tokenStart,Fe),e=this.substring(t,o),o+1===this.tokenEnd?(this.next(),n=un.call(this)):(Ht.call(this,o-this.tokenStart+1,Tt),o+2===this.tokenEnd?(this.next(),this.skipSC(),fe.call(this,Jt),n="-"+this.consume(P)):($e.call(this,o-this.tokenStart+2,Jt),this.next(),n=this.substrToCursor(o+1)))}else this.error();return e!==null&&e.charCodeAt(0)===Nt&&(e=e.substr(1)),n!==null&&n.charCodeAt(0)===Nt&&(n=n.substr(1)),{type:"AnPlusB",loc:this.getLocation(t,this.tokenStart),a:e,b:n}}function pr(t){if(t.a){const e=t.a==="+1"&&"n"||t.a==="1"&&"n"||t.a==="-1"&&"-n"||t.a+"n";if(t.b){const n=t.b[0]==="-"||t.b[0]==="+"?t.b:"+"+t.b;this.tokenize(e+n)}else this.tokenize(e)}else this.tokenize(t.b)}const fl=Object.freeze(Object.defineProperty({__proto__:null,generate:pr,name:ul,parse:dr,structure:hl},Symbol.toStringTag,{value:"Module"}));function mr(){return this.Raw(this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function dl(){for(let t=1,e;e=this.lookupType(t);t++){if(e===ae)return!0;if(e===jt||e===ot)return!1}return!1}const pl="Atrule",ml="atrule",gl={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function gr(t=!1){const e=this.tokenStart;let n,r,i=null,o=null;switch(this.eat(ot),n=this.substrToCursor(e+1),r=n.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==jt&&this.tokenType!==bt&&(this.parseAtrulePrelude?i=this.parseWithFallback(this.AtrulePrelude.bind(this,n,t),mr):i=mr.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case bt:this.next();break;case jt:hasOwnProperty.call(this.atrule,r)&&typeof this.atrule[r].block=="function"?o=this.atrule[r].block.call(this,t):o=this.Block(dl.call(this));break}return{type:"Atrule",loc:this.getLocation(e,this.tokenStart),name:n,prelude:i,block:o}}function yr(t){this.token(ot,"@"+t.name),t.prelude!==null&&this.node(t.prelude),t.block?this.node(t.block):this.token(bt,";")}const yl=Object.freeze(Object.defineProperty({__proto__:null,generate:yr,name:pl,parse:gr,structure:gl,walkContext:ml},Symbol.toStringTag,{value:"Module"})),kl="AtrulePrelude",bl="atrulePrelude",Sl={children:[[]]};function kr(t){let e=null;return t!==null&&(t=t.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,t)&&typeof this.atrule[t].prelude=="function"?e=this.atrule[t].prelude.call(this):e=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==jt&&this.tokenType!==bt&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(e),children:e}}function br(t){this.children(t)}const vl=Object.freeze(Object.defineProperty({__proto__:null,generate:br,name:kl,parse:kr,structure:Sl,walkContext:bl},Symbol.toStringTag,{value:"Module"})),Cl=36,Sr=42,ze=61,xl=94,hn=124,wl=126;function Ll(){this.eof&&this.error("Unexpected end of input");const t=this.tokenStart;let e=!1;return this.isDelim(Sr)?(e=!0,this.next()):this.isDelim(hn)||this.eat(y),this.isDelim(hn)?this.charCodeAt(this.tokenStart+1)!==ze?(this.next(),this.eat(y)):e&&this.error("Identifier is expected",this.tokenEnd):e&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function Tl(){const t=this.tokenStart,e=this.charCodeAt(t);return e!==ze&&e!==wl&&e!==xl&&e!==Cl&&e!==Sr&&e!==hn&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),e!==ze&&(this.isDelim(ze)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(t)}const Ol="AttributeSelector",Al={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function vr(){const t=this.tokenStart;let e,n=null,r=null,i=null;return this.eat(le),this.skipSC(),e=Ll.call(this),this.skipSC(),this.tokenType!==we&&(this.tokenType!==y&&(n=Tl.call(this),this.skipSC(),r=this.tokenType===Bt?this.String():this.Identifier(),this.skipSC()),this.tokenType===y&&(i=this.consume(y),this.skipSC())),this.eat(we),{type:"AttributeSelector",loc:this.getLocation(t,this.tokenStart),name:e,matcher:n,value:r,flags:i}}function Cr(t){this.token(N,"["),this.node(t.name),t.matcher!==null&&(this.tokenize(t.matcher),this.node(t.value)),t.flags!==null&&this.token(y,t.flags),this.token(N,"]")}const Pl=Object.freeze(Object.defineProperty({__proto__:null,generate:Cr,name:Ol,parse:vr,structure:Al},Symbol.toStringTag,{value:"Module"})),_l=38;function xr(){return this.Raw(null,!0)}function wr(){return this.parseWithFallback(this.Rule,xr)}function Lr(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}function El(){if(this.tokenType===bt)return Lr.call(this,this.tokenIndex);const t=this.parseWithFallback(this.Declaration,Lr);return this.tokenType===bt&&this.next(),t}const jl="Block",Dl="block",Il={children:[["Atrule","Rule","Declaration"]]};function Tr(t){const e=t?El:wr,n=this.tokenStart;let r=this.createList();this.eat(jt);t:for(;!this.eof;)switch(this.tokenType){case ae:break t;case nt:case mt:this.next();break;case ot:r.push(this.parseWithFallback(this.Atrule.bind(this,t),xr));break;default:t&&this.isDelim(_l)?r.push(wr.call(this)):r.push(e.call(this))}return this.eof||this.eat(ae),{type:"Block",loc:this.getLocation(n,this.tokenStart),children:r}}function Or(t){this.token(jt,"{"),this.children(t,e=>{e.type==="Declaration"&&this.token(bt,";")}),this.token(ae,"}")}const Ml=Object.freeze(Object.defineProperty({__proto__:null,generate:Or,name:jl,parse:Tr,structure:Il,walkContext:Dl},Symbol.toStringTag,{value:"Module"})),Rl="Brackets",Nl={children:[[]]};function Ar(t,e){const n=this.tokenStart;let r=null;return this.eat(le),r=t.call(this,e),this.eof||this.eat(we),{type:"Brackets",loc:this.getLocation(n,this.tokenStart),children:r}}function Pr(t){this.token(N,"["),this.children(t),this.token(N,"]")}const Fl=Object.freeze(Object.defineProperty({__proto__:null,generate:Pr,name:Rl,parse:Ar,structure:Nl},Symbol.toStringTag,{value:"Module"})),$l="CDC",zl=[];function _r(){const t=this.tokenStart;return this.eat(wt),{type:"CDC",loc:this.getLocation(t,this.tokenStart)}}function Er(){this.token(wt,"-->")}const Bl=Object.freeze(Object.defineProperty({__proto__:null,generate:Er,name:$l,parse:_r,structure:zl},Symbol.toStringTag,{value:"Module"})),Wl="CDO",Ul=[];function jr(){const t=this.tokenStart;return this.eat(_e),{type:"CDO",loc:this.getLocation(t,this.tokenStart)}}function Dr(){this.token(_e,"<!--")}const Hl=Object.freeze(Object.defineProperty({__proto__:null,generate:Dr,name:Wl,parse:jr,structure:Ul},Symbol.toStringTag,{value:"Module"})),Vl=46,ql="ClassSelector",Gl={name:String};function Ir(){return this.eatDelim(Vl),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(y)}}function Mr(t){this.token(N,"."),this.token(y,t.name)}const Xl=Object.freeze(Object.defineProperty({__proto__:null,generate:Mr,name:ql,parse:Ir,structure:Gl},Symbol.toStringTag,{value:"Module"})),Ql=43,Rr=47,Yl=62,Jl=126,Zl="Combinator",Kl={name:String};function Nr(){const t=this.tokenStart;let e;switch(this.tokenType){case nt:e=" ";break;case N:switch(this.charCodeAt(this.tokenStart)){case Yl:case Ql:case Jl:this.next();break;case Rr:this.next(),this.eatIdent("deep"),this.eatDelim(Rr);break;default:this.error("Combinator is expected")}e=this.substrToCursor(t);break}return{type:"Combinator",loc:this.getLocation(t,this.tokenStart),name:e}}function Fr(t){this.tokenize(t.name)}const ta=Object.freeze(Object.defineProperty({__proto__:null,generate:Fr,name:Zl,parse:Nr,structure:Kl},Symbol.toStringTag,{value:"Module"})),ea=42,na=47,ra="Comment",ia={value:String};function $r(){const t=this.tokenStart;let e=this.tokenEnd;return this.eat(mt),e-t+2>=2&&this.charCodeAt(e-2)===ea&&this.charCodeAt(e-1)===na&&(e-=2),{type:"Comment",loc:this.getLocation(t,this.tokenStart),value:this.substring(t+2,e)}}function zr(t){this.token(mt,"/*"+t.value+"*/")}const sa=Object.freeze(Object.defineProperty({__proto__:null,generate:zr,name:ra,parse:$r,structure:ia},Symbol.toStringTag,{value:"Module"})),oa=new Set([pt,T,Ut]),la="Condition",aa={kind:String,children:[["Identifier","Feature","FeatureFunction","FeatureRange","SupportsDeclaration"]]};function Br(t){return this.lookupTypeNonSC(1)===y&&oa.has(this.lookupTypeNonSC(2))?this.Feature(t):this.FeatureRange(t)}const ca={media:Br,container:Br,supports(){return this.SupportsDeclaration()}};function Wr(t="media"){const e=this.createList();t:for(;!this.eof;)switch(this.tokenType){case mt:case nt:this.next();continue;case y:e.push(this.Identifier());break;case H:{let n=this.parseWithFallback(()=>ca[t].call(this,t),()=>null);n||(n=this.parseWithFallback(()=>{this.eat(H);const r=this.Condition(t);return this.eat(T),r},()=>this.GeneralEnclosed(t))),e.push(n);break}case j:{let n=this.parseWithFallback(()=>this.FeatureFunction(t),()=>null);n||(n=this.GeneralEnclosed(t)),e.push(n);break}default:break t}return e.isEmpty&&this.error("Condition is expected"),{type:"Condition",loc:this.getLocationFromList(e),kind:t,children:e}}function Ur(t){t.children.forEach(e=>{e.type==="Condition"?(this.token(H,"("),this.node(e),this.token(T,")")):this.node(e)})}const ua=Object.freeze(Object.defineProperty({__proto__:null,generate:Ur,name:la,parse:Wr,structure:aa},Symbol.toStringTag,{value:"Module"})),Hr=45;function ha(t,e){return e=e||0,t.length-e>=2&&t.charCodeAt(e)===Hr&&t.charCodeAt(e+1)===Hr}const Vr=33,fa=35,da=36,pa=38,ma=42,ga=43,qr=47;function ya(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!0)}function ka(){return this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1)}function ba(){const t=this.tokenIndex,e=this.Value();return e.type!=="Raw"&&this.eof===!1&&this.tokenType!==bt&&this.isDelim(Vr)===!1&&this.isBalanceEdge(t)===!1&&this.error(),e}const Sa="Declaration",va="declaration",Ca={important:[Boolean,String],property:String,value:["Value","Raw"]};function Gr(){const t=this.tokenStart,e=this.tokenIndex,n=xa.call(this),r=ha(n),i=r?this.parseCustomProperty:this.parseValue,o=r?ka:ya;let l=!1,c;this.skipSC(),this.eat(pt);const a=this.tokenIndex;if(r||this.skipSC(),i?c=this.parseWithFallback(ba,o):c=o.call(this,this.tokenIndex),r&&c.type==="Value"&&c.children.isEmpty){for(let s=a-this.tokenIndex;s<=0;s++)if(this.lookupType(s)===nt){c.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Vr)&&(l=wa.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==bt&&this.isBalanceEdge(e)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(t,this.tokenStart),important:l,property:n,value:c}}function Xr(t){this.token(y,t.property),this.token(pt,":"),this.node(t.value),t.important&&(this.token(N,"!"),this.token(y,t.important===!0?"important":t.important))}function xa(){const t=this.tokenStart;if(this.tokenType===N)switch(this.charCodeAt(this.tokenStart)){case ma:case da:case ga:case fa:case pa:this.next();break;case qr:this.next(),this.isDelim(qr)&&this.next();break}return this.tokenType===X?this.eat(X):this.eat(y),this.substrToCursor(t)}function wa(){this.eat(N),this.skipSC();const t=this.consume(y);return t==="important"?!0:t}const La=Object.freeze(Object.defineProperty({__proto__:null,generate:Xr,name:Sa,parse:Gr,structure:Ca,walkContext:va},Symbol.toStringTag,{value:"Module"})),Ta=38;function fn(){return this.Raw(this.consumeUntilSemicolonIncluded,!0)}const Oa="DeclarationList",Aa={children:[["Declaration","Atrule","Rule"]]};function Qr(){const t=this.createList();for(;!this.eof;)switch(this.tokenType){case nt:case mt:case bt:this.next();break;case ot:t.push(this.parseWithFallback(this.Atrule.bind(this,!0),fn));break;default:this.isDelim(Ta)?t.push(this.parseWithFallback(this.Rule,fn)):t.push(this.parseWithFallback(this.Declaration,fn))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}}function Yr(t){this.children(t,e=>{e.type==="Declaration"&&this.token(bt,";")})}const Pa=Object.freeze(Object.defineProperty({__proto__:null,generate:Yr,name:Oa,parse:Qr,structure:Aa},Symbol.toStringTag,{value:"Module"})),_a="Dimension",Ea={value:String,unit:String};function Jr(){const t=this.tokenStart,e=this.consumeNumber(R);return{type:"Dimension",loc:this.getLocation(t,this.tokenStart),value:e,unit:this.substring(t+e.length,this.tokenStart)}}function Zr(t){this.token(R,t.value+t.unit)}const ja=Object.freeze(Object.defineProperty({__proto__:null,generate:Zr,name:_a,parse:Jr,structure:Ea},Symbol.toStringTag,{value:"Module"})),Da=47,Ia="Feature",Ma={kind:String,name:String,value:["Identifier","Number","Dimension","Ratio","Function",null]};function Kr(t){const e=this.tokenStart;let n,r=null;if(this.eat(H),this.skipSC(),n=this.consume(y),this.skipSC(),this.tokenType!==T){switch(this.eat(pt),this.skipSC(),this.tokenType){case P:this.lookupNonWSType(1)===N?r=this.Ratio():r=this.Number();break;case R:r=this.Dimension();break;case y:r=this.Identifier();break;case j:r=this.parseWithFallback(()=>{const i=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(Da)&&this.error(),i},()=>this.Ratio());break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eof||this.eat(T),{type:"Feature",loc:this.getLocation(e,this.tokenStart),kind:t,name:n,value:r}}function ti(t){this.token(H,"("),this.token(y,t.name),t.value!==null&&(this.token(pt,":"),this.node(t.value)),this.token(T,")")}const Ra=Object.freeze(Object.defineProperty({__proto__:null,generate:ti,name:Ia,parse:Kr,structure:Ma},Symbol.toStringTag,{value:"Module"})),Na="FeatureFunction",Fa={kind:String,feature:String,value:["Declaration","Selector"]};function $a(t,e){const n=(this.features[t]||{})[e];return typeof n!="function"&&this.error(`Unknown feature ${e}()`),n}function ei(t="unknown"){const e=this.tokenStart,n=this.consumeFunctionName(),r=$a.call(this,t,n.toLowerCase());this.skipSC();const i=this.parseWithFallback(()=>{const o=this.tokenIndex,l=r.call(this);return this.eof===!1&&this.isBalanceEdge(o)===!1&&this.error(),l},()=>this.Raw(null,!1));return this.eof||this.eat(T),{type:"FeatureFunction",loc:this.getLocation(e,this.tokenStart),kind:t,feature:n,value:i}}function ni(t){this.token(j,t.feature+"("),this.node(t.value),this.token(T,")")}const za=Object.freeze(Object.defineProperty({__proto__:null,generate:ni,name:Na,parse:ei,structure:Fa},Symbol.toStringTag,{value:"Module"})),ri=47,Ba=60,ii=61,Wa=62,Ua="FeatureRange",Ha={kind:String,left:["Identifier","Number","Dimension","Ratio","Function"],leftComparison:String,middle:["Identifier","Number","Dimension","Ratio","Function"],rightComparison:[String,null],right:["Identifier","Number","Dimension","Ratio","Function",null]};function dn(){switch(this.skipSC(),this.tokenType){case P:return this.isDelim(ri,this.lookupOffsetNonSC(1))?this.Ratio():this.Number();case R:return this.Dimension();case y:return this.Identifier();case j:return this.parseWithFallback(()=>{const t=this.Function(this.readSequence,this.scope.Value);return this.skipSC(),this.isDelim(ri)&&this.error(),t},()=>this.Ratio());default:this.error("Number, dimension, ratio or identifier is expected")}}function si(t){if(this.skipSC(),this.isDelim(Ba)||this.isDelim(Wa)){const e=this.source[this.tokenStart];return this.next(),this.isDelim(ii)?(this.next(),e+"="):e}if(this.isDelim(ii))return"=";this.error(`Expected ${t?'":", ':""}"<", ">", "=" or ")"`)}function oi(t="unknown"){const e=this.tokenStart;this.skipSC(),this.eat(H);const n=dn.call(this),r=si.call(this,n.type==="Identifier"),i=dn.call(this);let o=null,l=null;return this.lookupNonWSType(0)!==T&&(o=si.call(this),l=dn.call(this)),this.skipSC(),this.eat(T),{type:"FeatureRange",loc:this.getLocation(e,this.tokenStart),kind:t,left:n,leftComparison:r,middle:i,rightComparison:o,right:l}}function li(t){this.token(H,"("),this.node(t.left),this.tokenize(t.leftComparison),this.node(t.middle),t.right&&(this.tokenize(t.rightComparison),this.node(t.right)),this.token(T,")")}const Va=Object.freeze(Object.defineProperty({__proto__:null,generate:li,name:Ua,parse:oi,structure:Ha},Symbol.toStringTag,{value:"Module"})),qa="Function",Ga="function",Xa={name:String,children:[[]]};function ai(t,e){const n=this.tokenStart,r=this.consumeFunctionName(),i=r.toLowerCase();let o;return o=e.hasOwnProperty(i)?e[i].call(this,e):t.call(this,e),this.eof||this.eat(T),{type:"Function",loc:this.getLocation(n,this.tokenStart),name:r,children:o}}function ci(t){this.token(j,t.name+"("),this.children(t),this.token(T,")")}const Qa=Object.freeze(Object.defineProperty({__proto__:null,generate:ci,name:qa,parse:ai,structure:Xa,walkContext:Ga},Symbol.toStringTag,{value:"Module"})),Ya="GeneralEnclosed",Ja={kind:String,function:[String,null],children:[[]]};function ui(t){const e=this.tokenStart;let n=null;this.tokenType===j?n=this.consumeFunctionName():this.eat(H);const r=this.parseWithFallback(()=>{const i=this.tokenIndex,o=this.readSequence(this.scope.Value);return this.eof===!1&&this.isBalanceEdge(i)===!1&&this.error(),o},()=>this.createSingleNodeList(this.Raw(null,!1)));return this.eof||this.eat(T),{type:"GeneralEnclosed",loc:this.getLocation(e,this.tokenStart),kind:t,function:n,children:r}}function hi(t){t.function?this.token(j,t.function+"("):this.token(H,"("),this.children(t),this.token(T,")")}const Za=Object.freeze(Object.defineProperty({__proto__:null,generate:hi,name:Ya,parse:ui,structure:Ja},Symbol.toStringTag,{value:"Module"})),Ka="XXX",tc="Hash",ec={value:String};function fi(){const t=this.tokenStart;return this.eat(X),{type:"Hash",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t+1)}}function di(t){this.token(X,"#"+t.value)}const nc=Object.freeze(Object.defineProperty({__proto__:null,generate:di,name:tc,parse:fi,structure:ec,xxx:Ka},Symbol.toStringTag,{value:"Module"})),rc="Identifier",ic={name:String};function pi(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(y)}}function mi(t){this.token(y,t.name)}const sc=Object.freeze(Object.defineProperty({__proto__:null,generate:mi,name:rc,parse:pi,structure:ic},Symbol.toStringTag,{value:"Module"})),oc="IdSelector",lc={name:String};function gi(){const t=this.tokenStart;return this.eat(X),{type:"IdSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t+1)}}function yi(t){this.token(N,"#"+t.name)}const ac=Object.freeze(Object.defineProperty({__proto__:null,generate:yi,name:oc,parse:gi,structure:lc},Symbol.toStringTag,{value:"Module"})),cc=46,uc="Layer",hc={name:String};function ki(){let t=this.tokenStart,e=this.consume(y);for(;this.isDelim(cc);)this.eat(N),e+="."+this.consume(y);return{type:"Layer",loc:this.getLocation(t,this.tokenStart),name:e}}function bi(t){this.tokenize(t.name)}const fc=Object.freeze(Object.defineProperty({__proto__:null,generate:bi,name:uc,parse:ki,structure:hc},Symbol.toStringTag,{value:"Module"})),dc="LayerList",pc={children:[["Layer"]]};function Si(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.Layer()),this.lookupTypeNonSC(0)===Et);)this.skipSC(),this.next(),this.skipSC();return{type:"LayerList",loc:this.getLocationFromList(t),children:t}}function vi(t){this.children(t,()=>this.token(Et,","))}const mc=Object.freeze(Object.defineProperty({__proto__:null,generate:vi,name:dc,parse:Si,structure:pc},Symbol.toStringTag,{value:"Module"})),gc="MediaQuery",yc={modifier:[String,null],mediaType:[String,null],condition:["Condition",null]};function Ci(){const t=this.tokenStart;let e=null,n=null,r=null;if(this.skipSC(),this.tokenType===y&&this.lookupTypeNonSC(1)!==H){const i=this.consume(y),o=i.toLowerCase();switch(o==="not"||o==="only"?(this.skipSC(),e=o,n=this.consume(y)):n=i,this.lookupTypeNonSC(0)){case y:{this.skipSC(),this.eatIdent("and"),r=this.Condition("media");break}case jt:case bt:case Et:case Ut:break;default:this.error("Identifier or parenthesis is expected")}}else switch(this.tokenType){case y:case H:case j:{r=this.Condition("media");break}case jt:case bt:case Ut:break;default:this.error("Identifier or parenthesis is expected")}return{type:"MediaQuery",loc:this.getLocation(t,this.tokenStart),modifier:e,mediaType:n,condition:r}}function xi(t){t.mediaType?(t.modifier&&this.token(y,t.modifier),this.token(y,t.mediaType),t.condition&&(this.token(y,"and"),this.node(t.condition))):t.condition&&this.node(t.condition)}const kc=Object.freeze(Object.defineProperty({__proto__:null,generate:xi,name:gc,parse:Ci,structure:yc},Symbol.toStringTag,{value:"Module"})),bc="MediaQueryList",Sc={children:[["MediaQuery"]]};function wi(){const t=this.createList();for(this.skipSC();!this.eof&&(t.push(this.MediaQuery()),this.tokenType===Et);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(t),children:t}}function Li(t){this.children(t,()=>this.token(Et,","))}const vc=Object.freeze(Object.defineProperty({__proto__:null,generate:Li,name:bc,parse:wi,structure:Sc},Symbol.toStringTag,{value:"Module"})),Cc=38,xc="NestingSelector",wc={};function Ti(){const t=this.tokenStart;return this.eatDelim(Cc),{type:"NestingSelector",loc:this.getLocation(t,this.tokenStart)}}function Oi(){this.token(N,"&")}const Lc=Object.freeze(Object.defineProperty({__proto__:null,generate:Oi,name:xc,parse:Ti,structure:wc},Symbol.toStringTag,{value:"Module"})),Tc="Nth",Oc={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function Ai(){this.skipSC();const t=this.tokenStart;let e=t,n=null,r;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?r=this.Identifier():r=this.AnPlusB(),e=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),n=this.SelectorList(),e=this.tokenStart),{type:"Nth",loc:this.getLocation(t,e),nth:r,selector:n}}function Pi(t){this.node(t.nth),t.selector!==null&&(this.token(y,"of"),this.node(t.selector))}const Ac=Object.freeze(Object.defineProperty({__proto__:null,generate:Pi,name:Tc,parse:Ai,structure:Oc},Symbol.toStringTag,{value:"Module"})),Pc="Number",_c={value:String};function _i(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(P)}}function Ei(t){this.token(P,t.value)}const Ec=Object.freeze(Object.defineProperty({__proto__:null,generate:Ei,name:Pc,parse:_i,structure:_c},Symbol.toStringTag,{value:"Module"})),jc="Operator",Dc={value:String};function ji(){const t=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function Di(t){this.tokenize(t.value)}const Ic=Object.freeze(Object.defineProperty({__proto__:null,generate:Di,name:jc,parse:ji,structure:Dc},Symbol.toStringTag,{value:"Module"})),Mc="Parentheses",Rc={children:[[]]};function Ii(t,e){const n=this.tokenStart;let r=null;return this.eat(H),r=t.call(this,e),this.eof||this.eat(T),{type:"Parentheses",loc:this.getLocation(n,this.tokenStart),children:r}}function Mi(t){this.token(H,"("),this.children(t),this.token(T,")")}const Nc=Object.freeze(Object.defineProperty({__proto__:null,generate:Mi,name:Mc,parse:Ii,structure:Rc},Symbol.toStringTag,{value:"Module"})),Fc="Percentage",$c={value:String};function Ri(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(et)}}function Ni(t){this.token(et,t.value+"%")}const zc=Object.freeze(Object.defineProperty({__proto__:null,generate:Ni,name:Fc,parse:Ri,structure:$c},Symbol.toStringTag,{value:"Module"})),Bc="PseudoClassSelector",Wc="function",Uc={name:String,children:[["Raw"],null]};function Fi(){const t=this.tokenStart;let e=null,n,r;return this.eat(pt),this.tokenType===j?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==T?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(T)):n=this.consume(y),{type:"PseudoClassSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function $i(t){this.token(pt,":"),t.children===null?this.token(y,t.name):(this.token(j,t.name+"("),this.children(t),this.token(T,")"))}const Hc=Object.freeze(Object.defineProperty({__proto__:null,generate:$i,name:Bc,parse:Fi,structure:Uc,walkContext:Wc},Symbol.toStringTag,{value:"Module"})),Vc="PseudoElementSelector",qc="function",Gc={name:String,children:[["Raw"],null]};function zi(){const t=this.tokenStart;let e=null,n,r;return this.eat(pt),this.eat(pt),this.tokenType===j?(n=this.consumeFunctionName(),r=n.toLowerCase(),this.lookupNonWSType(0)==T?e=this.createList():hasOwnProperty.call(this.pseudo,r)?(this.skipSC(),e=this.pseudo[r].call(this),this.skipSC()):(e=this.createList(),e.push(this.Raw(null,!1))),this.eat(T)):n=this.consume(y),{type:"PseudoElementSelector",loc:this.getLocation(t,this.tokenStart),name:n,children:e}}function Bi(t){this.token(pt,":"),this.token(pt,":"),t.children===null?this.token(y,t.name):(this.token(j,t.name+"("),this.children(t),this.token(T,")"))}const Xc=Object.freeze(Object.defineProperty({__proto__:null,generate:Bi,name:Vc,parse:zi,structure:Gc,walkContext:qc},Symbol.toStringTag,{value:"Module"})),Wi=47;function Ui(){switch(this.skipSC(),this.tokenType){case P:return this.Number();case j:return this.Function(this.readSequence,this.scope.Value);default:this.error("Number of function is expected")}}const Qc="Ratio",Yc={left:["Number","Function"],right:["Number","Function",null]};function Hi(){const t=this.tokenStart,e=Ui.call(this);let n=null;return this.skipSC(),this.isDelim(Wi)&&(this.eatDelim(Wi),n=Ui.call(this)),{type:"Ratio",loc:this.getLocation(t,this.tokenStart),left:e,right:n}}function Vi(t){this.node(t.left),this.token(N,"/"),t.right?this.node(t.right):this.node(P,1)}const Jc=Object.freeze(Object.defineProperty({__proto__:null,generate:Vi,name:Qc,parse:Hi,structure:Yc},Symbol.toStringTag,{value:"Module"}));function Zc(){return this.tokenIndex>0&&this.lookupType(-1)===nt?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const Kc="Raw",tu={value:String};function qi(t,e){const n=this.getTokenStart(this.tokenIndex);let r;return this.skipUntilBalanced(this.tokenIndex,t||this.consumeUntilBalanceEnd),e&&this.tokenStart>n?r=Zc.call(this):r=this.tokenStart,{type:"Raw",loc:this.getLocation(n,r),value:this.substring(n,r)}}function Gi(t){this.tokenize(t.value)}const eu=Object.freeze(Object.defineProperty({__proto__:null,generate:Gi,name:Kc,parse:qi,structure:tu},Symbol.toStringTag,{value:"Module"}));function Xi(){return this.Raw(this.consumeUntilLeftCurlyBracket,!0)}function nu(){const t=this.SelectorList();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==jt&&this.error(),t}const ru="Rule",iu="rule",su={prelude:["SelectorList","Raw"],block:["Block"]};function Qi(){const t=this.tokenIndex,e=this.tokenStart;let n,r;return this.parseRulePrelude?n=this.parseWithFallback(nu,Xi):n=Xi.call(this,t),r=this.Block(!0),{type:"Rule",loc:this.getLocation(e,this.tokenStart),prelude:n,block:r}}function Yi(t){this.node(t.prelude),this.node(t.block)}const ou=Object.freeze(Object.defineProperty({__proto__:null,generate:Yi,name:ru,parse:Qi,structure:su,walkContext:iu},Symbol.toStringTag,{value:"Module"})),lu="Scope",au={root:["SelectorList","Raw",null],limit:["SelectorList","Raw",null]};function Ji(){let t=null,e=null;this.skipSC();const n=this.tokenStart;return this.tokenType===H&&(this.next(),this.skipSC(),t=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(T)),this.lookupNonWSType(0)===y&&(this.skipSC(),this.eatIdent("to"),this.skipSC(),this.eat(H),this.skipSC(),e=this.parseWithFallback(this.SelectorList,()=>this.Raw(!1,!0)),this.skipSC(),this.eat(T)),{type:"Scope",loc:this.getLocation(n,this.tokenStart),root:t,limit:e}}function Zi(t){t.root&&(this.token(H,"("),this.node(t.root),this.token(T,")")),t.limit&&(this.token(y,"to"),this.token(H,"("),this.node(t.limit),this.token(T,")"))}const cu=Object.freeze(Object.defineProperty({__proto__:null,generate:Zi,name:lu,parse:Ji,structure:au},Symbol.toStringTag,{value:"Module"})),uu="Selector",hu={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator"]]};function Ki(){const t=this.readSequence(this.scope.Selector);return this.getFirstListNode(t)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}}function ts(t){this.children(t)}const fu=Object.freeze(Object.defineProperty({__proto__:null,generate:ts,name:uu,parse:Ki,structure:hu},Symbol.toStringTag,{value:"Module"})),du="SelectorList",pu="selector",mu={children:[["Selector","Raw"]]};function es(){const t=this.createList();for(;!this.eof;){if(t.push(this.Selector()),this.tokenType===Et){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}}function ns(t){this.children(t,()=>this.token(Et,","))}const gu=Object.freeze(Object.defineProperty({__proto__:null,generate:ns,name:du,parse:es,structure:mu,walkContext:pu},Symbol.toStringTag,{value:"Module"})),pn=92,rs=34,yu=39;function is(t){const e=t.length,n=t.charCodeAt(0),r=n===rs||n===yu?1:0,i=r===1&&e>1&&t.charCodeAt(e-1)===n?e-2:e-1;let o="";for(let l=r;l<=i;l++){let c=t.charCodeAt(l);if(c===pn){if(l===i){l!==e-1&&(o=t.substr(l+1));break}if(c=t.charCodeAt(++l),It(pn,c)){const a=l-1,s=he(t,a);l=s-1,o+=or(t.substring(a+1,s))}else c===13&&t.charCodeAt(l+1)===10&&l++}else o+=t[l]}return o}function ku(t,e){const n='"',r=rs;let i="",o=!1;for(let l=0;l<t.length;l++){const c=t.charCodeAt(l);if(c===0){i+="�";continue}if(c<=31||c===127){i+="\\"+c.toString(16),o=!0;continue}c===r||c===pn?(i+="\\"+t.charAt(l),o=!1):(o&&(ce(c)||Qt(c))&&(i+=" "),i+=t.charAt(l),o=!1)}return n+i+n}const bu="String",Su={value:String};function ss(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:is(this.consume(Bt))}}function os(t){this.token(Bt,ku(t.value))}const vu=Object.freeze(Object.defineProperty({__proto__:null,generate:os,name:bu,parse:ss,structure:Su},Symbol.toStringTag,{value:"Module"})),Cu=33;function ls(){return this.Raw(null,!1)}const xu="StyleSheet",wu="stylesheet",Lu={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function as(){const t=this.tokenStart,e=this.createList();let n;for(;!this.eof;){switch(this.tokenType){case nt:this.next();continue;case mt:if(this.charCodeAt(this.tokenStart+2)!==Cu){this.next();continue}n=this.Comment();break;case _e:n=this.CDO();break;case wt:n=this.CDC();break;case ot:n=this.parseWithFallback(this.Atrule,ls);break;default:n=this.parseWithFallback(this.Rule,ls)}e.push(n)}return{type:"StyleSheet",loc:this.getLocation(t,this.tokenStart),children:e}}function cs(t){this.children(t)}const Tu=Object.freeze(Object.defineProperty({__proto__:null,generate:cs,name:xu,parse:as,structure:Lu,walkContext:wu},Symbol.toStringTag,{value:"Module"})),Ou="SupportsDeclaration",Au={declaration:"Declaration"};function us(){const t=this.tokenStart;this.eat(H),this.skipSC();const e=this.Declaration();return this.eof||this.eat(T),{type:"SupportsDeclaration",loc:this.getLocation(t,this.tokenStart),declaration:e}}function hs(t){this.token(H,"("),this.node(t.declaration),this.token(T,")")}const Pu=Object.freeze(Object.defineProperty({__proto__:null,generate:hs,name:Ou,parse:us,structure:Au},Symbol.toStringTag,{value:"Module"})),_u=42,fs=124;function mn(){this.tokenType!==y&&this.isDelim(_u)===!1&&this.error("Identifier or asterisk is expected"),this.next()}const Eu="TypeSelector",ju={name:String};function ds(){const t=this.tokenStart;return this.isDelim(fs)?(this.next(),mn.call(this)):(mn.call(this),this.isDelim(fs)&&(this.next(),mn.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.tokenStart),name:this.substrToCursor(t)}}function ps(t){this.tokenize(t.name)}const Du=Object.freeze(Object.defineProperty({__proto__:null,generate:ps,name:Eu,parse:ds,structure:ju},Symbol.toStringTag,{value:"Module"})),ms=43,gs=45,gn=63;function Le(t,e){let n=0;for(let r=this.tokenStart+t;r<this.tokenEnd;r++){const i=this.charCodeAt(r);if(i===gs&&e&&n!==0)return Le.call(this,t+n+1,!1),-1;ce(i)||this.error(e&&n!==0?"Hyphen minus"+(n<6?" or hex digit":"")+" is expected":n<6?"Hex digit is expected":"Unexpected input",r),++n>6&&this.error("Too many hex digits",r)}return this.next(),n}function Be(t){let e=0;for(;this.isDelim(gn);)++e>t&&this.error("Too many question marks"),this.next()}function Iu(t){this.charCodeAt(this.tokenStart)!==t&&this.error((t===ms?"Plus sign":"Hyphen minus")+" is expected")}function Mu(){let t=0;switch(this.tokenType){case P:if(t=Le.call(this,1,!0),this.isDelim(gn)){Be.call(this,6-t);break}if(this.tokenType===R||this.tokenType===P){Iu.call(this,gs),Le.call(this,1,!1);break}break;case R:t=Le.call(this,1,!0),t>0&&Be.call(this,6-t);break;default:if(this.eatDelim(ms),this.tokenType===y){t=Le.call(this,0,!0),t>0&&Be.call(this,6-t);break}if(this.isDelim(gn)){this.next(),Be.call(this,5);break}this.error("Hex digit or question mark is expected")}}const Ru="UnicodeRange",Nu={value:String};function ys(){const t=this.tokenStart;return this.eatIdent("u"),Mu.call(this),{type:"UnicodeRange",loc:this.getLocation(t,this.tokenStart),value:this.substrToCursor(t)}}function ks(t){this.tokenize(t.value)}const Fu=Object.freeze(Object.defineProperty({__proto__:null,generate:ks,name:Ru,parse:ys,structure:Nu},Symbol.toStringTag,{value:"Module"})),$u=32,yn=92,zu=34,Bu=39,Wu=40,bs=41;function Uu(t){const e=t.length;let n=4,r=t.charCodeAt(e-1)===bs?e-2:e-1,i="";for(;n<r&&Qt(t.charCodeAt(n));)n++;for(;n<r&&Qt(t.charCodeAt(r));)r--;for(let o=n;o<=r;o++){let l=t.charCodeAt(o);if(l===yn){if(o===r){o!==e-1&&(i=t.substr(o+1));break}if(l=t.charCodeAt(++o),It(yn,l)){const c=o-1,a=he(t,c);o=a-1,i+=or(t.substring(c+1,a))}else l===13&&t.charCodeAt(o+1)===10&&o++}else i+=t[o]}return i}function Hu(t){let e="",n=!1;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i===0){e+="�";continue}if(i<=31||i===127){e+="\\"+i.toString(16),n=!0;continue}i===$u||i===yn||i===zu||i===Bu||i===Wu||i===bs?(e+="\\"+t.charAt(r),n=!1):(n&&ce(i)&&(e+=" "),e+=t.charAt(r),n=!1)}return"url("+e+")"}const Vu="Url",qu={value:String};function Ss(){const t=this.tokenStart;let e;switch(this.tokenType){case dt:e=Uu(this.consume(dt));break;case j:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(j),this.skipSC(),e=is(this.consume(Bt)),this.skipSC(),this.eof||this.eat(T);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(t,this.tokenStart),value:e}}function vs(t){this.token(dt,Hu(t.value))}const Gu=Object.freeze(Object.defineProperty({__proto__:null,generate:vs,name:Vu,parse:Ss,structure:qu},Symbol.toStringTag,{value:"Module"})),Xu="Value",Qu={children:[[]]};function Cs(){const t=this.tokenStart,e=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(t,this.tokenStart),children:e}}function xs(t){this.children(t)}const Yu=Object.freeze(Object.defineProperty({__proto__:null,generate:xs,name:Xu,parse:Cs,structure:Qu},Symbol.toStringTag,{value:"Module"})),Ju=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),Zu="WhiteSpace",Ku={value:String};function ws(){return this.eat(nt),Ju}function Ls(t){this.token(nt,t.value)}const th=Object.freeze(Object.defineProperty({__proto__:null,generate:Ls,name:Zu,parse:ws,structure:Ku},Symbol.toStringTag,{value:"Module"})),eh=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:fl,Atrule:yl,AtrulePrelude:vl,AttributeSelector:Pl,Block:Ml,Brackets:Fl,CDC:Bl,CDO:Hl,ClassSelector:Xl,Combinator:ta,Comment:sa,Condition:ua,Declaration:La,DeclarationList:Pa,Dimension:ja,Feature:Ra,FeatureFunction:za,FeatureRange:Va,Function:Qa,GeneralEnclosed:Za,Hash:nc,IdSelector:ac,Identifier:sc,Layer:fc,LayerList:mc,MediaQuery:kc,MediaQueryList:vc,NestingSelector:Lc,Nth:Ac,Number:Ec,Operator:Ic,Parentheses:Nc,Percentage:zc,PseudoClassSelector:Hc,PseudoElementSelector:Xc,Ratio:Jc,Raw:eu,Rule:ou,Scope:cu,Selector:fu,SelectorList:gu,String:vu,StyleSheet:Tu,SupportsDeclaration:Pu,TypeSelector:Du,UnicodeRange:Fu,Url:Gu,Value:Yu,WhiteSpace:th},Symbol.toStringTag,{value:"Module"})),nh={node:eh},Vt=Yo(nh),kn=["left","right","top","bottom","inset-block-start","inset-block-end","inset-inline-start","inset-inline-end","inset-block","inset-inline","inset"];function Te(t){return kn.includes(t)}const bn=["margin-block-start","margin-block-end","margin-block","margin-inline-start","margin-inline-end","margin-inline","margin-bottom","margin-left","margin-right","margin-top","margin"];function rh(t){return bn.includes(t)}const Sn=["width","height","min-width","min-height","max-width","max-height","block-size","inline-size","min-block-size","min-inline-size","max-block-size","max-inline-size"];function Ts(t){return Sn.includes(t)}const Os=["justify-self","align-self","place-self"];function ih(t){return Os.includes(t)}const As=[...kn,...bn,...Sn,...Os,"position-anchor","position-area"],sh=[...Sn,...kn,...bn];function Ps(t){return sh.includes(t)}const oh=["top","left","right","bottom","start","end","self-start","self-end","center","inside","outside"];function _s(t){return oh.includes(t)}const lh=["width","height","block","inline","self-block","self-inline"];function ah(t){return lh.includes(t)}const Es=new Set(["Atrule","Selector","Declaration"]);function ch(t){const e=new SourceMapGenerator,n={line:1,column:0},r={line:0,column:0},i={line:1,column:0},o={generated:i};let l=1,c=0,a=!1;const s=t.node;t.node=function(f){if(f.loc&&f.loc.start&&Es.has(f.type)){const k=f.loc.start.line,g=f.loc.start.column-1;(r.line!==k||r.column!==g)&&(r.line=k,r.column=g,n.line=l,n.column=c,a&&(a=!1,(n.line!==i.line||n.column!==i.column)&&e.addMapping(o)),a=!0,e.addMapping({source:f.loc.source,original:r,generated:n}))}s.call(this,f),a&&Es.has(f.type)&&(i.line=l,i.column=c)};const u=t.emit;t.emit=function(f,k,g){for(let b=0;b<f.length;b++)f.charCodeAt(b)===10?(l++,c=0):c++;u(f,k,g)};const h=t.result;return t.result=function(){return a&&e.addMapping(o),{css:h(),map:e}},t}const uh=43,hh=45,vn=(t,e)=>{if(t===N&&(t=e),typeof t=="string"){const n=t.charCodeAt(0);return n>127?32768:n<<8}return t},js=[[y,y],[y,j],[y,dt],[y,_t],[y,"-"],[y,P],[y,et],[y,R],[y,wt],[y,H],[ot,y],[ot,j],[ot,dt],[ot,_t],[ot,"-"],[ot,P],[ot,et],[ot,R],[ot,wt],[X,y],[X,j],[X,dt],[X,_t],[X,"-"],[X,P],[X,et],[X,R],[X,wt],[R,y],[R,j],[R,dt],[R,_t],[R,"-"],[R,P],[R,et],[R,R],[R,wt],["#",y],["#",j],["#",dt],["#",_t],["#","-"],["#",P],["#",et],["#",R],["#",wt],["-",y],["-",j],["-",dt],["-",_t],["-","-"],["-",P],["-",et],["-",R],["-",wt],[P,y],[P,j],[P,dt],[P,_t],[P,P],[P,et],[P,R],[P,"%"],[P,wt],["@",y],["@",j],["@",dt],["@",_t],["@","-"],["@",wt],[".",P],[".",et],[".",R],["+",P],["+",et],["+",R],["/","*"]],fh=js.concat([[y,X],[R,X],[X,X],[ot,H],[ot,Bt],[ot,pt],[et,et],[et,R],[et,j],[et,"-"],[T,y],[T,j],[T,et],[T,R],[T,X],[T,"-"]]);function Ds(t){const e=new Set(t.map(([n,r])=>vn(n)<<16|vn(r)));return function(n,r,i){const o=vn(r,i),l=i.charCodeAt(0);return(l===hh&&r!==y&&r!==j&&r!==wt||l===uh?e.has(n<<16|l<<8):e.has(n<<16|o))&&this.emit(" ",nt,!0),o}}const dh=Ds(js),Is=Ds(fh),Ms=Object.freeze(Object.defineProperty({__proto__:null,safe:Is,spec:dh},Symbol.toStringTag,{value:"Module"})),ph=92;function mh(t,e){if(typeof e=="function"){let n=null;t.children.forEach(r=>{n!==null&&e.call(this,n),this.node(r),n=r});return}t.children.forEach(this.node,this)}function gh(t){fr(t,(e,n,r)=>{this.token(e,t.slice(n,r))})}function yh(t){const e=new Map;for(let[n,r]of Object.entries(t.node))typeof(r.generate||r)=="function"&&e.set(n,r.generate||r);return function(n,r){let i="",o=0,l={node(a){if(e.has(a.type))e.get(a.type).call(c,a);else throw new Error("Unknown node type: "+a.type)},tokenBefore:Is,token(a,s){o=this.tokenBefore(o,a,s),this.emit(s,a,!1),a===N&&s.charCodeAt(0)===ph&&this.emit(`
`,nt,!0)},emit(a){i+=a},result(){return i}};r&&(typeof r.decorator=="function"&&(l=r.decorator(l)),r.sourceMap&&(l=ch(l)),r.mode in Ms&&(l.tokenBefore=Ms[r.mode]));const c={node:a=>l.node(a),children:mh,token:(a,s)=>l.token(a,s),tokenize:gh};return l.node(n),l.result()}}const kh=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:pr,Atrule:yr,AtrulePrelude:br,AttributeSelector:Cr,Block:Or,Brackets:Pr,CDC:Er,CDO:Dr,ClassSelector:Mr,Combinator:Fr,Comment:zr,Condition:Ur,Declaration:Xr,DeclarationList:Yr,Dimension:Zr,Feature:ti,FeatureFunction:ni,FeatureRange:li,Function:ci,GeneralEnclosed:hi,Hash:di,IdSelector:yi,Identifier:mi,Layer:bi,LayerList:vi,MediaQuery:xi,MediaQueryList:Li,NestingSelector:Oi,Nth:Pi,Number:Ei,Operator:Di,Parentheses:Mi,Percentage:Ni,PseudoClassSelector:$i,PseudoElementSelector:Bi,Ratio:Vi,Raw:Gi,Rule:Yi,Scope:Zi,Selector:ts,SelectorList:ns,String:os,StyleSheet:cs,SupportsDeclaration:hs,TypeSelector:ps,UnicodeRange:ks,Url:vs,Value:xs,WhiteSpace:Ls},Symbol.toStringTag,{value:"Module"})),bh={node:kh},Sh=yh(bh);let de=null;class gt{static createItem(e){return{prev:null,next:null,data:e}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(e){return gt.createItem(e)}allocateCursor(e,n){let r;return de!==null?(r=de,de=de.cursor,r.prev=e,r.next=n,r.cursor=this.cursor):r={prev:e,next:n,cursor:this.cursor},this.cursor=r,r}releaseCursor(){const{cursor:e}=this;this.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=de,de=e}updateCursors(e,n,r,i){let{cursor:o}=this;for(;o!==null;)o.prev===e&&(o.prev=n),o.next===r&&(o.next=i),o=o.cursor}*[Symbol.iterator](){for(let e=this.head;e!==null;e=e.next)yield e.data}get size(){let e=0;for(let n=this.head;n!==null;n=n.next)e++;return e}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(e){let n=null;this.head=null;for(let r of e){const i=gt.createItem(r);n!==null?n.next=i:this.head=i,i.prev=n,n=i}return this.tail=n,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(e,n=this){const r=this.allocateCursor(null,this.head);for(;r.next!==null;){const i=r.next;r.next=i.next,e.call(n,i.data,i,this)}this.releaseCursor()}forEachRight(e,n=this){const r=this.allocateCursor(this.tail,null);for(;r.prev!==null;){const i=r.prev;r.prev=i.prev,e.call(n,i.data,i,this)}this.releaseCursor()}reduce(e,n,r=this){let i=this.allocateCursor(null,this.head),o=n,l;for(;i.next!==null;)l=i.next,i.next=l.next,o=e.call(r,o,l.data,l,this);return this.releaseCursor(),o}reduceRight(e,n,r=this){let i=this.allocateCursor(this.tail,null),o=n,l;for(;i.prev!==null;)l=i.prev,i.prev=l.prev,o=e.call(r,o,l.data,l,this);return this.releaseCursor(),o}some(e,n=this){for(let r=this.head;r!==null;r=r.next)if(e.call(n,r.data,r,this))return!0;return!1}map(e,n=this){const r=new gt;for(let i=this.head;i!==null;i=i.next)r.appendData(e.call(n,i.data,i,this));return r}filter(e,n=this){const r=new gt;for(let i=this.head;i!==null;i=i.next)e.call(n,i.data,i,this)&&r.appendData(i.data);return r}nextUntil(e,n,r=this){if(e===null)return;const i=this.allocateCursor(null,e);for(;i.next!==null;){const o=i.next;if(i.next=o.next,n.call(r,o.data,o,this))break}this.releaseCursor()}prevUntil(e,n,r=this){if(e===null)return;const i=this.allocateCursor(e,null);for(;i.prev!==null;){const o=i.prev;if(i.prev=o.prev,n.call(r,o.data,o,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){const e=new gt;for(let n of this)e.appendData(n);return e}prepend(e){return this.updateCursors(null,e,this.head,e),this.head!==null?(this.head.prev=e,e.next=this.head):this.tail=e,this.head=e,this}prependData(e){return this.prepend(gt.createItem(e))}append(e){return this.insert(e)}appendData(e){return this.insert(gt.createItem(e))}insert(e,n=null){if(n!==null)if(this.updateCursors(n.prev,e,n,e),n.prev===null){if(this.head!==n)throw new Error("before doesn't belong to list");this.head=e,n.prev=e,e.next=n,this.updateCursors(null,e)}else n.prev.next=e,e.prev=n.prev,n.prev=e,e.next=n;else this.updateCursors(this.tail,e,null,e),this.tail!==null?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e;return this}insertData(e,n){return this.insert(gt.createItem(e),n)}remove(e){if(this.updateCursors(e,e.prev,e,e.next),e.prev!==null)e.prev.next=e.next;else{if(this.head!==e)throw new Error("item doesn't belong to list");this.head=e.next}if(e.next!==null)e.next.prev=e.prev;else{if(this.tail!==e)throw new Error("item doesn't belong to list");this.tail=e.prev}return e.prev=null,e.next=null,e}push(e){this.insert(gt.createItem(e))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(e){this.prepend(gt.createItem(e))}shift(){return this.head!==null?this.remove(this.head):null}prependList(e){return this.insertList(e,this.head)}appendList(e){return this.insertList(e)}insertList(e,n){return e.head===null?this:(n!=null?(this.updateCursors(n.prev,e.tail,n,e.head),n.prev!==null?(n.prev.next=e.head,e.head.prev=n.prev):this.head=e.head,n.prev=e.tail,e.tail.next=n):(this.updateCursors(this.tail,e.tail,null,e.head),this.tail!==null?(this.tail.next=e.head,e.head.prev=this.tail):this.head=e.head,this.tail=e.tail),e.head=null,e.tail=null,this)}replace(e,n){"head"in n?this.insertList(n,e):this.insert(n,e),this.remove(e)}}function vh(t,e){const n=Object.create(SyntaxError.prototype),r=new Error;return Object.assign(n,{name:t,message:e,get stack(){return(r.stack||"").replace(/^(.+\n){1,3}/,`${t}: ${e}
`)}})}const Cn=100,Rs=60,Ns="    ";function Fs({source:t,line:e,column:n,baseLine:r,baseColumn:i},o){function l(g,b){return s.slice(g,b).map((A,x)=>String(g+x+1).padStart(f)+" |"+A).join(`
`)}const c=`
`.repeat(Math.max(r-1,0)),a=" ".repeat(Math.max(i-1,0)),s=(c+a+t).split(/\r\n?|\n|\f/),u=Math.max(1,e-o)-1,h=Math.min(e+o,s.length+1),f=Math.max(4,String(h).length)+1;let k=0;n+=(Ns.length-1)*(s[e-1].substr(0,n-1).match(/\t/g)||[]).length,n>Cn&&(k=n-Rs+3,n=Rs-2);for(let g=u;g<=h;g++)g>=0&&g<s.length&&(s[g]=s[g].replace(/\t/g,Ns),s[g]=(k>0&&s[g].length>k?"…":"")+s[g].substr(k,Cn-2)+(s[g].length>k+Cn-1?"…":""));return[l(u,e),new Array(n+f+2).join("-")+"^",l(e,h)].filter(Boolean).join(`
`).replace(/^(\s+\d+\s+\|\n)+/,"").replace(/\n(\s+\d+\s+\|)+$/,"")}function $s(t,e,n,r,i,o=1,l=1){return Object.assign(vh("SyntaxError",t),{source:e,offset:n,line:r,column:i,sourceFragment(c){return Fs({source:e,line:r,column:i,baseLine:o,baseColumn:l},isNaN(c)?0:c)},get formattedMessage(){return`Parse error: ${t}
`+Fs({source:e,line:r,column:i,baseLine:o,baseColumn:l},2)}})}function Ch(t){const e=this.createList();let n=!1;const r={recognizer:t};for(;!this.eof;){switch(this.tokenType){case mt:this.next();continue;case nt:n=!0,this.next();continue}let i=t.getNode.call(this,r);if(i===void 0)break;n&&(t.onWhiteSpace&&t.onWhiteSpace.call(this,i,e,r),n=!1),e.push(i)}return n&&t.onWhiteSpace&&t.onWhiteSpace.call(this,null,e,r),e}const zs=()=>{},xh=33,wh=35,xn=59,Bs=123,Ws=0;function Lh(t){return function(){return this[t]()}}function wn(t){const e=Object.create(null);for(const n of Object.keys(t)){const r=t[n],i=r.parse||r;i&&(e[n]=i)}return e}function Th(t){const e={context:Object.create(null),features:Object.assign(Object.create(null),t.features),scope:Object.assign(Object.create(null),t.scope),atrule:wn(t.atrule),pseudo:wn(t.pseudo),node:wn(t.node)};for(const[n,r]of Object.entries(t.parseContext))switch(typeof r){case"function":e.context[n]=r;break;case"string":e.context[n]=Lh(r);break}return at(at({config:e},e),e.node)}function Oh(t){let e="",n="<unknown>",r=!1,i=zs,o=!1;const l=new ll,c=Object.assign(new al,Th(t||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:Ch,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(a){return a===Bs?1:0},consumeUntilLeftCurlyBracketOrSemicolon(a){return a===Bs||a===xn?1:0},consumeUntilExclamationMarkOrSemicolon(a){return a===xh||a===xn?1:0},consumeUntilSemicolonIncluded(a){return a===xn?2:0},createList(){return new gt},createSingleNodeList(a){return new gt().appendData(a)},getFirstListNode(a){return a&&a.first},getLastListNode(a){return a&&a.last},parseWithFallback(a,s){const u=this.tokenIndex;try{return a.call(this)}catch(h){if(o)throw h;this.skip(u-this.tokenIndex);const f=s.call(this);return o=!0,i(h,f),o=!1,f}},lookupNonWSType(a){let s;do if(s=this.lookupType(a++),s!==nt&&s!==mt)return s;while(s!==Ws);return Ws},charCodeAt(a){return a>=0&&a<e.length?e.charCodeAt(a):0},substring(a,s){return e.substring(a,s)},substrToCursor(a){return this.source.substring(a,this.tokenStart)},cmpChar(a,s){return ir(e,a,s)},cmpStr(a,s,u){return Ie(e,a,s,u)},consume(a){const s=this.tokenStart;return this.eat(a),this.substrToCursor(s)},consumeFunctionName(){const a=e.substring(this.tokenStart,this.tokenEnd-1);return this.eat(j),a},consumeNumber(a){const s=e.substring(this.tokenStart,sr(e,this.tokenStart));return this.eat(a),s},eat(a){if(this.tokenType!==a){const s=lr[a].slice(0,-6).replace(/-/g," ").replace(/^./,f=>f.toUpperCase());let u=`${/[[\](){}]/.test(s)?`"${s}"`:s} is expected`,h=this.tokenStart;switch(a){case y:this.tokenType===j||this.tokenType===dt?(h=this.tokenEnd-1,u="Identifier is expected but function found"):u="Identifier is expected";break;case X:this.isDelim(wh)&&(this.next(),h++,u="Name is expected");break;case et:this.tokenType===P&&(h=this.tokenEnd,u="Percent sign is expected");break}this.error(u,h)}this.next()},eatIdent(a){(this.tokenType!==y||this.lookupValue(0,a)===!1)&&this.error(`Identifier "${a}" is expected`),this.next()},eatDelim(a){this.isDelim(a)||this.error(`Delim "${String.fromCharCode(a)}" is expected`),this.next()},getLocation(a,s){return r?l.getLocationRange(a,s,n):null},getLocationFromList(a){if(r){const s=this.getFirstListNode(a),u=this.getLastListNode(a);return l.getLocationRange(s!==null?s.loc.start.offset-l.startOffset:this.tokenStart,u!==null?u.loc.end.offset-l.startOffset:this.tokenStart,n)}return null},error(a,s){const u=typeof s<"u"&&s<e.length?l.getLocation(s):this.eof?l.getLocation(il(e,e.length-1)):l.getLocation(this.tokenStart);throw new $s(a||"Unexpected input",e,u.offset,u.line,u.column,l.startLine,l.startColumn)}});return Object.assign(function(a,s){e=a,s=s||{},c.setSource(e,fr),l.setSource(e,s.offset,s.line,s.column),n=s.filename||"<unknown>",r=!!s.positions,i=typeof s.onParseError=="function"?s.onParseError:zs,o=!1,c.parseAtrulePrelude="parseAtrulePrelude"in s?!!s.parseAtrulePrelude:!0,c.parseRulePrelude="parseRulePrelude"in s?!!s.parseRulePrelude:!0,c.parseValue="parseValue"in s?!!s.parseValue:!0,c.parseCustomProperty="parseCustomProperty"in s?!!s.parseCustomProperty:!1;const{context:u="default",onComment:h}=s;if(!(u in c.context))throw new Error("Unknown context `"+u+"`");typeof h=="function"&&c.forEachToken((k,g,b)=>{if(k===mt){const A=c.getLocation(g,b),x=Ie(e,b-2,b,"*/")?e.slice(g+2,b-2):e.slice(g+2,b);h(x,A)}});const f=c.context[u].call(c,s);return c.eof||c.error(),f},{SyntaxError:$s,config:c.config})}const Ah=35,Ph=42,Us=43,_h=45,Eh=47,jh=117;function Hs(t){switch(this.tokenType){case X:return this.Hash();case Et:return this.Operator();case H:return this.Parentheses(this.readSequence,t.recognizer);case le:return this.Brackets(this.readSequence,t.recognizer);case Bt:return this.String();case R:return this.Dimension();case et:return this.Percentage();case P:return this.Number();case j:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,t.recognizer);case dt:return this.Url();case y:return this.cmpChar(this.tokenStart,jh)&&this.cmpChar(this.tokenStart+1,Us)?this.UnicodeRange():this.Identifier();case N:{const e=this.charCodeAt(this.tokenStart);if(e===Eh||e===Ph||e===Us||e===_h)return this.Operator();e===Ah&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}const Dh={getNode:Hs},Ih=35,Mh=38,Rh=42,Nh=43,Fh=47,Vs=46,$h=62,zh=124,Bh=126;function Wh(t,e){e.last!==null&&e.last.type!=="Combinator"&&t!==null&&t.type!=="Combinator"&&e.push({type:"Combinator",loc:null,name:" "})}function Uh(){switch(this.tokenType){case le:return this.AttributeSelector();case X:return this.IdSelector();case pt:return this.lookupType(1)===pt?this.PseudoElementSelector():this.PseudoClassSelector();case y:return this.TypeSelector();case P:case et:return this.Percentage();case R:this.charCodeAt(this.tokenStart)===Vs&&this.error("Identifier is expected",this.tokenStart+1);break;case N:{switch(this.charCodeAt(this.tokenStart)){case Nh:case $h:case Bh:case Fh:return this.Combinator();case Vs:return this.ClassSelector();case Rh:case zh:return this.TypeSelector();case Ih:return this.IdSelector();case Mh:return this.NestingSelector()}break}}}const Hh={onWhiteSpace:Wh,getNode:Uh};function Vh(){return this.createSingleNodeList(this.Raw(null,!1))}function qh(){const t=this.createList();if(this.skipSC(),t.push(this.Identifier()),this.skipSC(),this.tokenType===Et){t.push(this.Operator());const e=this.tokenIndex,n=this.parseCustomProperty?this.Value(null):this.Raw(this.consumeUntilExclamationMarkOrSemicolon,!1);if(n.type==="Value"&&n.children.isEmpty){for(let r=e-this.tokenIndex;r<=0;r++)if(this.lookupType(r)===nt){n.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}t.push(n)}return t}function qs(t){return t!==null&&t.type==="Operator"&&(t.value[t.value.length-1]==="-"||t.value[t.value.length-1]==="+")}const Gh={getNode:Hs,onWhiteSpace(t,e){qs(t)&&(t.value=" "+t.value),qs(e.last)&&(e.last.value+=" ")},expression:Vh,var:qh},Xh=Object.freeze(Object.defineProperty({__proto__:null,AtrulePrelude:Dh,Selector:Hh,Value:Gh},Symbol.toStringTag,{value:"Module"})),Qh=new Set(["none","and","not","or"]),Yh={parse:{prelude(){const t=this.createList();if(this.tokenType===y){const e=this.substring(this.tokenStart,this.tokenEnd);Qh.has(e.toLowerCase())||t.push(this.Identifier())}return t.push(this.Condition("container")),t},block(t=!1){return this.Block(t)}}},Jh={parse:{prelude:null,block(){return this.Block(!0)}}};function Ln(t,e){return this.parseWithFallback(()=>{try{return t.call(this)}finally{this.skipSC(),this.lookupNonWSType(0)!==T&&this.error()}},e||(()=>this.Raw(null,!0)))}const Gs={layer(){this.skipSC();const t=this.createList(),e=Ln.call(this,this.Layer);return(e.type!=="Raw"||e.value!=="")&&t.push(e),t},supports(){this.skipSC();const t=this.createList(),e=Ln.call(this,this.Declaration,()=>Ln.call(this,()=>this.Condition("supports")));return(e.type!=="Raw"||e.value!=="")&&t.push(e),t}},Zh={parse:{prelude(){const t=this.createList();switch(this.tokenType){case Bt:t.push(this.String());break;case dt:case j:t.push(this.Url());break;default:this.error("String or url() is expected")}return this.skipSC(),this.tokenType===y&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer")?t.push(this.Identifier()):this.tokenType===j&&this.cmpStr(this.tokenStart,this.tokenEnd,"layer(")&&t.push(this.Function(null,Gs)),this.skipSC(),this.tokenType===j&&this.cmpStr(this.tokenStart,this.tokenEnd,"supports(")&&t.push(this.Function(null,Gs)),(this.lookupNonWSType(0)===y||this.lookupNonWSType(0)===H)&&t.push(this.MediaQueryList()),t},block:null}},Kh={parse:{prelude(){return this.createSingleNodeList(this.LayerList())},block(){return this.Block(!1)}}},tf={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(t=!1){return this.Block(t)}}},ef={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},nf={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},rf={parse:{prelude(){return this.createSingleNodeList(this.Scope())},block(t=!1){return this.Block(t)}}},sf={parse:{prelude:null,block(t=!1){return this.Block(t)}}},of={parse:{prelude(){return this.createSingleNodeList(this.Condition("supports"))},block(t=!1){return this.Block(t)}}},lf={container:Yh,"font-face":Jh,import:Zh,layer:Kh,media:tf,nest:ef,page:nf,scope:rf,"starting-style":sf,supports:of};function af(){const t=this.createList();this.skipSC();t:for(;!this.eof;){switch(this.tokenType){case y:t.push(this.Identifier());break;case Bt:t.push(this.String());break;case Et:t.push(this.Operator());break;case T:break t;default:this.error("Identifier, string or comma is expected")}this.skipSC()}return t}const Zt={parse(){return this.createSingleNodeList(this.SelectorList())}},Tn={parse(){return this.createSingleNodeList(this.Selector())}},cf={parse(){return this.createSingleNodeList(this.Identifier())}},uf={parse:af},We={parse(){return this.createSingleNodeList(this.Nth())}},hf={dir:cf,has:Zt,lang:uf,matches:Zt,is:Zt,"-moz-any":Zt,"-webkit-any":Zt,where:Zt,not:Zt,"nth-child":We,"nth-last-child":We,"nth-last-of-type":We,"nth-of-type":We,slotted:Tn,host:Tn,"host-context":Tn},ff=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:dr,Atrule:gr,AtrulePrelude:kr,AttributeSelector:vr,Block:Tr,Brackets:Ar,CDC:_r,CDO:jr,ClassSelector:Ir,Combinator:Nr,Comment:$r,Condition:Wr,Declaration:Gr,DeclarationList:Qr,Dimension:Jr,Feature:Kr,FeatureFunction:ei,FeatureRange:oi,Function:ai,GeneralEnclosed:ui,Hash:fi,IdSelector:gi,Identifier:pi,Layer:ki,LayerList:Si,MediaQuery:Ci,MediaQueryList:wi,NestingSelector:Ti,Nth:Ai,Number:_i,Operator:ji,Parentheses:Ii,Percentage:Ri,PseudoClassSelector:Fi,PseudoElementSelector:zi,Ratio:Hi,Raw:qi,Rule:Qi,Scope:Ji,Selector:Ki,SelectorList:es,String:ss,StyleSheet:as,SupportsDeclaration:us,TypeSelector:ds,UnicodeRange:ys,Url:Ss,Value:Cs,WhiteSpace:ws},Symbol.toStringTag,{value:"Module"})),df={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(t){return this.AtrulePrelude(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",condition(t){return this.Condition(t.kind)},rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},features:{supports:{selector(){return this.Selector()}},container:{style(){return this.Declaration()}}},scope:Xh,atrule:lf,pseudo:hf,node:ff},pf=Oh(df);function Ue(t){const e={};for(const n of Object.keys(t)){let r=t[n];r&&(Array.isArray(r)||r instanceof gt?r=r.map(Ue):r.constructor===Object&&(r=Ue(r))),e[n]=r}return e}let mf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Dt=(t=21)=>{let e="",n=t|0;for(;n--;)e+=mf[Math.random()*64|0];return e};const Xs=Dt();function He(t){return!!(t&&t.type==="Function"&&t.name==="anchor")}function qt(t){return pf(t,{parseAtrulePrelude:!1,parseCustomProperty:!0})}function St(t){return Sh(t,{mode:"spec"})}function gf(t){return t.type==="Declaration"}function yf(t){return t.toArray().reduce((e,n)=>n.type==="Operator"&&n.value===","?(e.push([]),e):(n.type==="Identifier"&&e[e.length-1].push(n),e),[[]])}function On(t){return t?t.children.map(e=>{var n;let r;((n=e.children.last)==null?void 0:n.type)==="PseudoElementSelector"&&(e=Ue(e),r=St(e.children.last),e.children.pop());const i=St(e);return{selector:i+(r??""),elementPart:i,pseudoElementPart:r}}).toArray():[]}const An=[...As,"anchor-scope","anchor-name"].reduce((t,e)=>(t[e]=`--${e}-${Xs}`,t),{});function kf(t,e){return gf(t)&&An[t.property]&&e?(e.children.appendData(vt(at({},t),{property:An[t.property]})),{updated:!0}):{}}function bf(t){for(const e of t){let n=!1;const r=qt(e.css);Vt(r,{visit:"Declaration",enter(i){var o;const l=(o=this.rule)==null?void 0:o.block,{updated:c}=kf(i,l);c&&(n=!0)}}),n&&(e.css=St(r),e.changed=!0)}return t.some(e=>e.changed===!0)}var Qs=(t=>(t.All="all",t.None="none",t))(Qs||{});function At(t,e){var n;return e=(n=An[e])!=null?n:e,(t instanceof HTMLElement?getComputedStyle(t):t.computedStyle).getPropertyValue(e).trim()}function pe(t,e,n){return At(t,e)===n}function Sf(t,{selector:e,pseudoElementPart:n}){const r=getComputedStyle(t,n),i=document.createElement("div"),o=document.createElement("style");i.id=`fake-pseudo-element-${Dt()}`;for(const c of Array.from(r)){const a=r.getPropertyValue(c);i.style.setProperty(c,a)}o.textContent+=`#${i.id}${n} { content: ${r.content}; }`,o.textContent+=`${e} { display: none !important; }`,document.head.append(o);const l=n==="::before"?"afterbegin":"beforeend";return t.insertAdjacentElement(l,i),{fakePseudoElement:i,sheet:o,computedStyle:r}}function vf(t){let e=t;for(;e;){if(pe(e,"overflow","scroll"))return e;e=e.parentElement}return e}function Cf(t){let e=vf(t);return e===document.documentElement&&(e=null),e??{scrollTop:0,scrollLeft:0}}function xf(t){const{elementPart:e,pseudoElementPart:n}=t,r=[];if(n&&!(n==="::before"||n==="::after"))return r;const i=Array.from(document.querySelectorAll(e));if(!n)return r.push(...i),r;for(const o of i){const{fakePseudoElement:l,sheet:c,computedStyle:a}=Sf(o,t),s=l.getBoundingClientRect(),{scrollY:u,scrollX:h}=globalThis,f=Cf(o);r.push({fakePseudoElement:l,computedStyle:a,removeFakePseudoElement(){l.remove(),c.remove()},contextElement:o,getBoundingClientRect(){const{scrollY:k,scrollX:g}=globalThis,{scrollTop:b,scrollLeft:A}=f;return DOMRect.fromRect({y:s.y+(u-k)+(f.scrollTop-b),x:s.x+(h-g)+(f.scrollLeft-A),width:s.width,height:s.height})}})}return r}function wf(t,e){const n=At(t,"anchor-name");return e?n.split(",").map(r=>r.trim()).includes(e):!n}function Lf(t,e){const n=At(t,"anchor-scope");return n===e||n==="all"}const Pn=t=>V(C,null,function*(){var e,n,r;let i=yield(e=xt.getOffsetParent)==null?void 0:e.call(xt,t);return(yield(n=xt.isElement)==null?void 0:n.call(xt,i))||(i=(yield(r=xt.getDocumentElement)==null?void 0:r.call(xt,t))||window.document.documentElement),i}),Ys="InvalidMimeType";function Tf(t){return!!((t.type==="text/css"||t.rel==="stylesheet")&&t.href)}function Of(t){const e=new URL(t.href,document.baseURI);if(Tf(t)&&e.origin===location.origin)return e}function Af(t){return V(this,null,function*(){return(yield Promise.all(t.map(e=>V(this,null,function*(){var n;if(!e.url)return e;if((n=e.el)!=null&&n.disabled)return null;try{const r=yield fetch(e.url.toString()),i=r.headers.get("content-type");if(!(i!=null&&i.startsWith("text/css"))){const l=new Error(`Error loading ${e.url}: expected content-type "text/css", got "${i}".`);throw l.name=Ys,l}const o=yield r.text();return vt(at({},e),{css:o})}catch(r){if(r instanceof Error&&r.name===Ys)return console.warn(r),null;throw r}})))).filter(e=>e!==null)})}const Js='[style*="anchor"]',Zs='[style*="position-area"]';function Pf(t){const e=t?t.filter(r=>r instanceof HTMLElement&&(r.matches(Js)||r.matches(Zs))):Array.from(document.querySelectorAll([Js,Zs].join(","))),n=[];return e.filter(r=>r instanceof HTMLElement).forEach(r=>{const i=Dt(12),o="data-has-inline-styles";r.setAttribute(o,i);const l=r.getAttribute("style"),c=`[${o}="${i}"] { ${l} }`;n.push({el:r,css:c})}),n}function _f(t,e){return V(this,null,function*(){const n=t??Array.from(document.querySelectorAll("link, style")),r=[];n.filter(l=>l instanceof HTMLElement).forEach(l=>{if(l.tagName.toLowerCase()==="link"){const c=Of(l);c&&r.push({el:l,url:c})}l.tagName.toLowerCase()==="style"&&r.push({el:l,css:l.innerHTML})});const i=e?t??[]:void 0,o=Pf(i);return yield Af([...r,...o])})}const Ef="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ks=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Ef[n[t]&63];return e};const to="--pa-cascade-property",eo="data-anchor-position-wrapper",no="data-pa-wrapper-for-",ro="POLYFILL-POSITION-AREA",jf=["left","center","right","span-left","span-right","x-start","x-end","span-x-start","span-x-end","x-self-start","x-self-end","span-x-self-start","span-x-self-end","span-all","top","bottom","span-top","span-bottom","y-start","y-end","span-y-start","span-y-end","y-self-start","y-self-end","span-y-self-start","span-y-self-end","block-start","block-end","span-block-start","span-block-end","inline-start","inline-end","span-inline-start","span-inline-end","self-block-start","self-block-end","span-self-block-start","span-self-block-end","self-inline-start","self-inline-end","span-self-inline-start","span-self-inline-end","start","end","span-start","span-end","self-start","self-end","span-self-start","span-self-end"];function io(t){return jf.includes(t)}const so={left:[0,1,"Irrelevant"],center:[1,2,"Irrelevant"],right:[2,3,"Irrelevant"],"span-left":[0,2,"Irrelevant"],"span-right":[1,3,"Irrelevant"],"x-start":[0,1,"Physical"],"x-end":[2,3,"Physical"],"span-x-start":[0,2,"Physical"],"span-x-end":[1,3,"Physical"],"x-self-start":[0,1,"PhysicalSelf"],"x-self-end":[2,3,"PhysicalSelf"],"span-x-self-start":[0,2,"PhysicalSelf"],"span-x-self-end":[1,3,"PhysicalSelf"],"span-all":[0,3,"Irrelevant"],top:[0,1,"Irrelevant"],bottom:[2,3,"Irrelevant"],"span-top":[0,2,"Irrelevant"],"span-bottom":[1,3,"Irrelevant"],"y-start":[0,1,"Physical"],"y-end":[2,3,"Physical"],"span-y-start":[0,2,"Physical"],"span-y-end":[1,3,"Physical"],"y-self-start":[0,1,"PhysicalSelf"],"y-self-end":[2,3,"PhysicalSelf"],"span-y-self-start":[0,2,"PhysicalSelf"],"span-y-self-end":[1,3,"PhysicalSelf"],"block-start":[0,1,"Logical"],"block-end":[2,3,"Logical"],"span-block-start":[0,2,"Logical"],"span-block-end":[1,3,"Logical"],"inline-start":[0,1,"Logical"],"inline-end":[2,3,"Logical"],"span-inline-start":[0,2,"Logical"],"span-inline-end":[1,3,"Logical"],"self-block-start":[0,1,"LogicalSelf"],"self-block-end":[2,3,"LogicalSelf"],"span-self-block-start":[0,2,"LogicalSelf"],"span-self-block-end":[1,3,"LogicalSelf"],"self-inline-start":[0,1,"LogicalSelf"],"self-inline-end":[2,3,"LogicalSelf"],"span-self-inline-start":[0,2,"LogicalSelf"],"span-self-inline-end":[1,3,"LogicalSelf"],start:[0,1,"Logical"],end:[2,3,"Logical"],"span-start":[0,2,"Logical"],"span-end":[1,3,"Logical"],"self-start":[0,1,"LogicalSelf"],"self-end":[2,3,"LogicalSelf"],"span-self-start":[0,2,"LogicalSelf"],"span-self-end":[1,3,"LogicalSelf"]},Df=["left","center","right","span-left","span-right","x-start","x-end","span-x-start","span-x-end","x-self-start","x-self-end","span-x-self-start","span-x-self-end","span-all"],If=["top","center","bottom","span-top","span-bottom","y-start","y-end","span-y-start","span-y-end","y-self-start","y-self-end","span-y-self-start","span-y-self-end","span-all"],Mf=["block-start","center","block-end","span-block-start","span-block-end","span-all"],Rf=["inline-start","center","inline-end","span-inline-start","span-inline-end","span-all"],Nf=["self-block-start","center","self-block-end","span-self-block-start","span-self-block-end","span-all"],Ff=["self-inline-start","center","self-inline-end","span-self-inline-start","span-self-inline-end","span-all"],oo=["start","center","end","span-start","span-end","span-all"],lo=["self-start","center","self-end","span-self-start","span-self-end","span-all"],$f=["block","top","bottom","y"],zf=["inline","left","right","x"];function _n(t){const e=t.split("-");for(const n of e){if($f.includes(n))return"block";if(zf.includes(n))return"inline"}return"ambiguous"}function Bf(t,e){return e[0].includes(t[0])&&e[1].includes(t[1])||e[0].includes(t[1])&&e[1].includes(t[0])}const Wf=[[Df,If],[Mf,Rf],[Nf,Ff],[oo,oo],[lo,lo]];function Uf(t){for(const e of Wf)if(Bf(t,e))return!0;return!1}const ao=t=>{const e=getComputedStyle(t);return{writingMode:e.writingMode,direction:e.direction}},Hf=(t,e)=>V(C,null,function*(){const n=yield Pn(t);switch(e){case"Logical":case"Physical":return ao(n);case"LogicalSelf":case"PhysicalSelf":return ao(t);default:return null}}),En=t=>t.reverse().map(e=>3-e),co=(t,e)=>t==="Irrelevant"?e:t,Vf=(t,e)=>V(C,[t,e],function*({block:n,inline:r},i){const o=co(n[2],r[2]),l=yield Hf(i,o),c={block:[n[0],n[1]],inline:[r[0],r[1]]};if(l){if(l.direction==="rtl"&&(c.inline=En(c.inline)),l.writingMode.startsWith("vertical")){const a=c.block;c.block=c.inline,c.inline=a}if(l.writingMode.startsWith("sideways")){const a=c.block;c.block=c.inline,c.inline=a,l.writingMode.endsWith("lr")&&(c.block=En(c.block))}l.writingMode.endsWith("rl")&&(c.inline=En(c.inline))}return c}),qf=({block:t,inline:e})=>{const n=[0,"top","bottom",0],r=[0,"left","right",0];return{block:[n[t[0]],n[t[1]]],inline:[r[e[0]],r[e[1]]]}};function uo([t,e]){return t===0&&e===3?"center":t===0?"end":e===3?"start":"center"}function Gf(t){return t.type==="Declaration"&&t.property==="position-area"}function Xf(t){const e=t.value.children.toArray().map(({name:n})=>n);return e.length===1&&(_n(e[0])==="ambiguous"?e.push(e[0]):e.push("span-all")),e}function Qf(t){if(!Gf(t))return;const e=Xf(t);if(!Uf(e))return;const n={};switch(_n(e[0])){case"block":n.block=e[0],n.inline=e[1];break;case"inline":n.inline=e[0],n.block=e[1];break;case"ambiguous":_n(e[1])=="block"?(n.block=e[1],n.inline=e[0]):(n.inline=e[1],n.block=e[0]);break}const r={block:so[n.block],inline:so[n.inline]},i=`--pa-declaration-${Ks(12)}`;return{values:n,grid:r,selectorUUID:i}}function Yf(t,e){["justify-self","align-self"].forEach(n=>{e.children.appendData({type:"Declaration",property:n,value:{type:"Raw",value:`var(--pa-value-${n})`},important:!1})}),e.children.appendData({type:"Declaration",property:to,value:{type:"Raw",value:t.selectorUUID},important:!1})}function Jf(t,e){var n,r;let i;if(((n=t.parentElement)==null?void 0:n.tagName)===ro)i=t.parentElement;else{i=document.createElement(ro),i.style.display="grid",i.style.position="absolute";const o=getComputedStyle(t).pointerEvents;i.style.pointerEvents="none",t.style.pointerEvents=o,["top","left","right","bottom"].forEach(l=>{i.style.setProperty(l,`var(--pa-value-${l})`)}),(r=t.parentElement)==null||r.insertBefore(i,t),i.appendChild(t)}return i.setAttribute(`${no}${e}`,""),i}function Zf(t,e,n){return V(this,null,function*(){const r=`--pa-target-${Ks(12)}`,i=yield Vf(e.grid,t),o=qf(i),l=co(e.grid.block[2],e.grid.inline[2]),c=["LogicalSelf","PhysicalSelf"].includes(l)?i:e.grid,a={block:uo([c.block[0],c.block[1]]),inline:uo([c.inline[0],c.inline[1]])};return{insets:o,alignments:a,targetUUID:r,targetEl:t,anchorEl:n,wrapperEl:Jf(t,r),values:e.values,grid:e.grid,selectorUUID:e.selectorUUID}})}function Kf(t,e){return`
    [${eo}="${e}"][${no}${t}] {
      --pa-value-top: var(${t}-top);
      --pa-value-left: var(${t}-left);
      --pa-value-right: var(${t}-right);
      --pa-value-bottom: var(${t}-bottom);
      --pa-value-justify-self: var(${t}-justify-self);
      --pa-value-align-self: var(${t}-align-self);
    }
  `.replaceAll(`
`,"")}const td=["normal","most-width","most-height","most-block-size","most-inline-size"],ed=["flip-block","flip-inline","flip-start"];function nd(t){return t.type==="Declaration"}function rd(t){return t.type==="Declaration"&&t.property==="position-try-fallbacks"}function id(t){return t.type==="Declaration"&&t.property==="position-try-order"}function sd(t){return t.type==="Declaration"&&t.property==="position-try"}function od(t){return t.type==="Atrule"&&t.name==="position-try"}function ld(t){return ed.includes(t)}function ad(t){return td.includes(t)}function cd(t,e){const n=document.querySelector(t);if(n){let r=hd(n);return e.forEach(i=>{r=ho(r,i)}),r}}function ud(t,e){let n=t.declarations;return e.forEach(r=>{n=ho(n,r)}),n}function hd(t){const e={};return As.forEach(n=>{const r=At(t,`--${n}-${Xs}`);r&&(e[n]=r)}),e}const fd={"flip-block":{top:"bottom",bottom:"top","inset-block-start":"inset-block-end","inset-block-end":"inset-block-start","margin-top":"margin-bottom","margin-bottom":"margin-top"},"flip-inline":{left:"right",right:"left","inset-inline-start":"inset-inline-end","inset-inline-end":"inset-inline-start","margin-left":"margin-right","margin-right":"margin-left"},"flip-start":{left:"top",right:"bottom",top:"left",bottom:"right","inset-block-start":"inset-block-end","inset-block-end":"inset-block-start","inset-inline-start":"inset-inline-end","inset-inline-end":"inset-inline-start","inset-block":"inset-inline","inset-inline":"inset-block"}},dd={"flip-block":{top:"bottom",bottom:"top",start:"end",end:"start","self-end":"self-start","self-start":"self-end"},"flip-inline":{left:"right",right:"left",start:"end",end:"start","self-end":"self-start","self-start":"self-end"},"flip-start":{top:"left",left:"top",right:"bottom",bottom:"right"}},pd={"flip-block":{top:"bottom",bottom:"top",start:"end",end:"start"},"flip-inline":{left:"right",right:"left",start:"end",end:"start"},"flip-start":{}};function md(t,e){return fd[e][t]||t}function gd(t,e){return dd[e][t]||t}function yd(t,e){if(e==="flip-start")return t;{const n=pd[e];return t.split("-").map(r=>n[r]||r).join("-")}}function kd(t,e,n){if(t==="margin"){const[r,i,o,l]=e.children.toArray();n==="flip-block"?l?e.children.fromArray([o,i,r,l]):o&&e.children.fromArray([o,i,r]):n==="flip-inline"&&l&&e.children.fromArray([r,l,o,i])}else if(t==="margin-block"){const[r,i]=e.children.toArray();n==="flip-block"&&i&&e.children.fromArray([i,r])}else if(t==="margin-inline"){const[r,i]=e.children.toArray();n==="flip-inline"&&i&&e.children.fromArray([i,r])}}const bd=(t,e)=>{var n;return((n=qt(`#id{${t}: ${e};}`).children.first)==null?void 0:n.block.children.first).value};function ho(t,e){const n={};return Object.entries(t).forEach(([r,i])=>{const o=r,l=bd(o,i),c=md(o,e);c!==o&&(n[o]!=null||(n[o]="revert")),Vt(l,{visit:"Function",enter(a){He(a)&&a.children.forEach(s=>{Oe(s)&&_s(s.name)&&(s.name=gd(s.name,e))})}}),o==="position-area"&&l.children.forEach(a=>{Oe(a)&&io(a.name)&&(a.name=yd(a.name,e))}),o.startsWith("margin")&&kd(o,l,e),n[c]=St(l)}),n}function fo(t){const e=yf(t),n=[];return e.forEach(r=>{const i={atRules:[],tactics:[],positionAreas:[]};r.forEach(o=>{ld(o.name)?i.tactics.push(o.name):o.name.startsWith("--")?i.atRules.push(o.name):io(o.name)&&i.positionAreas.push(o.name)}),i.positionAreas.length?n.push({positionArea:i.positionAreas[0],type:"position-area"}):i.atRules.length&&i.tactics.length?n.push({tactics:i.tactics,atRule:i.atRules[0],type:"at-rule-with-try-tactic"}):i.atRules.length?n.push({atRule:i.atRules[0],type:"at-rule"}):i.tactics.length&&n.push({tactics:i.tactics,type:"try-tactic"})}),n}function Sd(t){return rd(t)&&t.value.children.first?fo(t.value.children):[]}function vd(t){if(sd(t)&&t.value.children.first){const e=Ue(t);let n;const r=e.value.children.first.name;r&&ad(r)&&(n=r,e.value.children.shift());const i=fo(e.value.children);return{order:n,options:i}}return{}}function Cd(t){return id(t)&&t.value.children.first?{order:t.value.children.first.name}:{}}function xd(t){const{order:e,options:n}=vd(t);if(e||n)return{order:e,options:n};const{order:r}=Cd(t),i=Sd(t);return r||i?{order:r,options:i}:{}}function wd(t){return Te(t.property)||rh(t.property)||Ts(t.property)||ih(t.property)||["position-anchor","position-area"].includes(t.property)}function Ld(t){var e,n;if(od(t)&&(e=t.prelude)!=null&&e.value&&(n=t.block)!=null&&n.children){const r=t.prelude.value,i=t.block.children.filter(l=>nd(l)&&wd(l)),o={uuid:`${r}-try-${Dt(12)}`,declarations:Object.fromEntries(i.map(l=>[l.property,St(l.value)]))};return{name:r,tryBlock:o}}return{}}function Td(t){const e={},n={},r={};for(const i of t){const o=qt(i.css);Vt(o,{visit:"Atrule",enter(l){const{name:c,tryBlock:a}=Ld(l);c&&a&&(e[c]=a)}})}for(const i of t){let o=!1;const l=new Set,c=qt(i.css);Vt(c,{visit:"Declaration",enter(a){var s;const u=(s=this.rule)==null?void 0:s.prelude,h=On(u);if(!h.length)return;const{order:f,options:k}=xd(a),g={};f&&(g.order=f),h.forEach(({selector:b})=>{var A;k==null||k.forEach(x=>{var B;let I;if(x.type==="at-rule")I=x.atRule;else if(x.type==="try-tactic"){I=`${b}-${x.tactics.join("-")}`;const z=cd(b,x.tactics);z&&(e[I]={uuid:`${b}-${x.tactics.join("-")}-try-${Dt(12)}`,declarations:z})}else if(x.type==="at-rule-with-try-tactic"){I=`${b}-${x.atRule}-${x.tactics.join("-")}`;const z=e[x.atRule],_=ud(z,x.tactics);_&&(e[I]={uuid:`${b}-${x.atRule}-${x.tactics.join("-")}-try-${Dt(12)}`,declarations:_})}if(I&&e[I]){const z=`[data-anchor-polyfill="${e[I].uuid}"]`;n[z]!=null||(n[z]=[]),n[z].push(b),l.has(I)||(g.fallbacks!=null||(g.fallbacks=[]),g.fallbacks.push(e[I]),l.add(I),(B=this.stylesheet)==null||B.children.prependData({type:"Rule",prelude:{type:"Raw",value:z},block:{type:"Block",children:new gt().fromArray(Object.entries(e[I].declarations).map(([_,F])=>({type:"Declaration",important:!0,property:_,value:{type:"Raw",value:F}})))}}),o=!0)}}),Object.keys(g).length>0&&(r[b]?(g.order&&(r[b].order=g.order),g.fallbacks&&((A=r[b]).fallbacks!=null||(A.fallbacks=[]),r[b].fallbacks.push(...g.fallbacks))):r[b]=g)})}}),o&&(i.css=St(c),i.changed=!0)}return{fallbackTargets:n,validPositions:r}}function Od(t,e){return!t||t===e?!1:po(t)?t.document.contains(e):t.contains(e)}function po(t){return!!(t&&t===t.window)}function Ad(t){return pe(t,"position","fixed")}function jn(t){return!!(t&&(Ad(t)||pe(t,"position","absolute")))}function mo(t,e){return t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING}function Pd(t){return V(this,null,function*(){return yield xt.getOffsetParent(t)})}function Dn(t){return V(this,null,function*(){if(!["absolute","fixed"].includes(At(t,"position")))return yield Pd(t);let e=t.parentElement;for(;e;){if(!pe(e,"position","static")&&pe(e,"display","block"))return e;e=e.parentElement}return window})}function _d(t,e,n,r){return V(this,null,function*(){const i=yield Dn(t),o=yield Dn(n);if(!(Od(o,t)||po(o))||i===o&&!(!jn(t)||mo(t,n)))return!1;if(i!==o){let l;const c=[];for(l=i;l&&l!==o&&l!==window;)c.push(l),l=yield Dn(l);const a=c[c.length-1];if(a instanceof HTMLElement&&!(!jn(a)||mo(a,n)))return!1}{let l=t.parentElement;for(;l;){if(pe(l,"content-visibility","hidden"))return!1;l=l.parentElement}}return!(e&&r&&go(t,e,r)!==go(n,e,r))})}function go(t,e,n){for(;!(t.matches(n)&&Lf(t,e));){if(!t.parentElement)return null;t=t.parentElement}return t}function Ed(t,e,n,r){return V(this,null,function*(){if(!(t instanceof HTMLElement&&n.length&&jn(t)))return null;const i=n.flatMap(xf).filter(l=>wf(l,e)),o=r.map(l=>l.selector).join(",")||null;for(let l=i.length-1;l>=0;l--){const c=i[l],a="fakePseudoElement"in c;if(yield _d(a?c.fakePseudoElement:c,e,t,o))return a&&c.removeFakePseudoElement(),c}return null})}function jd(t){return t.type==="Declaration"&&t.property==="anchor-name"}function Dd(t){return t.type==="Declaration"&&t.property==="anchor-scope"}function In(t){return!!(t&&t.type==="Function"&&t.name==="anchor-size")}function Ve(t){return!!(t&&t.type==="Function"&&t.name==="var")}function Oe(t){return!!(t.type==="Identifier"&&t.name)}function Id(t){return!!(t.type==="Percentage"&&t.value)}function yo(t,e){let n,r,i,o="",l=!1,c;const a=[];t.children.toArray().forEach(f=>{if(l){o=`${o}${St(f)}`;return}if(f.type==="Operator"&&f.value===","){l=!0;return}a.push(f)});let[s,u]=a;if(u||(u=s,s=void 0),s&&(Oe(s)&&s.name.startsWith("--")?n=s.name:Ve(s)&&s.children.first&&(c=s.children.first.name)),u)if(He(t)){if(Oe(u)&&_s(u.name))r=u.name;else if(Id(u)){const f=Number(u.value);r=Number.isNaN(f)?void 0:f}}else In(t)&&Oe(u)&&ah(u.name)&&(i=u.name);const h=`--anchor-${Dt(12)}`;return Object.assign(t,{type:"Raw",value:`var(${h})`,children:null}),Reflect.deleteProperty(t,"name"),{anchorName:n,anchorSide:r,anchorSize:i,fallbackValue:o||"0px",customPropName:c,uuid:h}}function ko(t){return t.value.children.map(({name:e})=>e)}let Ae={},Kt={},te={},Pe={},ee={};function Md(){Ae={},Kt={},te={},Pe={},ee={}}function Rd(t,e){var n;if((He(t)||In(t))&&e){if(e.property.startsWith("--")){const r=St(e.value),i=yo(t);return Pe[i.uuid]=r,te[e.property]=[...(n=te[e.property])!=null?n:[],i],{changed:!0}}if(He(t)&&Te(e.property)||In(t)&&Ps(e.property)){const r=yo(t);return{prop:e.property,data:r,changed:!0}}}return{}}function bo(t,e){return V(this,null,function*(){let n=e==null?void 0:e.anchorName;const r=e==null?void 0:e.customPropName;if(t&&!n){const c=At(t,"position-anchor");c?n=c:r&&(n=At(t,r))}const i=n?Ae[n]||[]:[],o=n?Kt[Qs.All]||[]:[],l=n?Kt[n]||[]:[];return yield Ed(t,n||null,i,[...o,...l])})}function Nd(t){return V(this,null,function*(){var e,n,r,i,o,l,c,a,s,u,h;const f={},k={};Md();const{fallbackTargets:g,validPositions:b}=Td(t);for(const _ of t){let F=!1;const rt=qt(_.css);Vt(rt,function(W){var it,Y,q,lt;const Q=(it=this.rule)==null?void 0:it.prelude,J=On(Q);if(jd(W)&&J.length)for(const Z of ko(W))Ae[Z]!=null||(Ae[Z]=[]),Ae[Z].push(...J);if(Dd(W)&&J.length)for(const Z of ko(W))Kt[Z]!=null||(Kt[Z]=[]),Kt[Z].push(...J);const{prop:yt,data:Ft,changed:ne}=Rd(W,this.declaration);if(yt&&Ft&&J.length)for(const{selector:Z}of J)f[Z]=vt(at({},f[Z]),{[yt]:[...(q=(Y=f[Z])==null?void 0:Y[yt])!=null?q:[],Ft]});let ht;if(this.block&&(ht=Qf(W),ht)){Yf(ht,this.block);for(const{selector:Z}of J)k[Z]=[...(lt=k[Z])!=null?lt:[],ht]}(ne||ht)&&(F=!0)}),F&&(_.css=St(rt),_.changed=!0)}const A=new Set(Object.keys(te)),x={},B=_=>{var F,rt,W,it,Y;const q=[],lt=new Set((rt=(F=x[_])==null?void 0:F.names)!=null?rt:[]);for(;lt.size>0;)for(const Q of lt)q.push(...(W=te[Q])!=null?W:[]),lt.delete(Q),(Y=(it=x[Q])==null?void 0:it.names)!=null&&Y.length&&x[Q].names.forEach(J=>lt.add(J));return q};for(;A.size>0;){const _=[];for(const F of t){let rt=!1;const W=qt(F.css);Vt(W,{visit:"Function",enter(it){var Y,q;const lt=(Y=this.rule)==null?void 0:Y.prelude,Q=this.declaration,J=Q==null?void 0:Q.property;if((lt==null?void 0:lt.children.isEmpty)===!1&&Ve(it)&&Q&&J&&it.children.first&&A.has(it.children.first.name)&&J.startsWith("--")){const yt=it.children.first,Ft=(q=te[yt.name])!=null?q:[],ne=B(yt.name);if(!(Ft.length||ne.length))return;const ht=`${yt.name}-anchor-${Dt(12)}`,Z=St(Q.value);Pe[ht]=Z,x[J]||(x[J]={names:[],uuids:[]});const me=x[J];me.names.includes(yt.name)||me.names.push(yt.name),me.uuids.push(ht),_.push(J),yt.name=ht,rt=!0}}}),rt&&(F.css=St(W),F.changed=!0)}A.clear(),_.forEach(F=>A.add(F))}for(const _ of t){let F=!1;const rt=qt(_.css);Vt(rt,{visit:"Function",enter(W){var it,Y,q,lt,Q,J,yt;const Ft=(it=this.rule)==null?void 0:it.prelude,ne=this.declaration,ht=ne==null?void 0:ne.property;if((Ft==null?void 0:Ft.children.isEmpty)===!1&&Ve(W)&&ne&&ht&&W.children.first&&(Te(ht)||Ts(ht))){const Z=W.children.first,me=(Y=te[Z.name])!=null?Y:[],Rn=B(Z.name);if(!(me.length||Rn.length))return;const Ge=`${ht}-${Dt(12)}`;if(Rn.length){const ge=new Set([Z.name]);for(;ge.size>0;)for(const ye of ge){const Pt=x[ye];if((q=Pt==null?void 0:Pt.names)!=null&&q.length&&(lt=Pt==null?void 0:Pt.uuids)!=null&&lt.length)for(const ke of Pt.names)for(const be of Pt.uuids)ee[be]=vt(at({},ee[be]),{[Ge]:`${ke}-${Ge}`});ge.delete(ye),(Q=Pt==null?void 0:Pt.names)!=null&&Q.length&&Pt.names.forEach(ke=>ge.add(ke))}}const Yd=On(Ft);for(const ge of[...me,...Rn]){const ye=at({},ge),Pt=`--anchor-${Dt(12)}-${ht}`,ke=ye.uuid;ye.uuid=Pt;for(const{selector:be}of Yd)f[be]=vt(at({},f[be]),{[ht]:[...(yt=(J=f[be])==null?void 0:J[ht])!=null?yt:[],ye]});ee[ke]=vt(at({},ee[ke]),{[Ge]:Pt})}Z.name=`${Z.name}-${Ge}`,F=!0}}}),F&&(_.css=St(rt),_.changed=!0)}if(Object.keys(ee).length>0)for(const _ of t){let F=!1;const rt=qt(_.css);Vt(rt,{visit:"Function",enter(W){var it,Y,q,lt;if(Ve(W)&&(Y=(it=W.children.first)==null?void 0:it.name)!=null&&Y.startsWith("--")&&(lt=(q=this.declaration)==null?void 0:q.property)!=null&&lt.startsWith("--")&&this.block){const Q=W.children.first,J=ee[Q.name];if(J)for(const[yt,Ft]of Object.entries(J))this.block.children.appendData({type:"Declaration",important:!1,property:`${this.declaration.property}-${yt}`,value:{type:"Raw",value:St(this.declaration.value).replace(`var(${Q.name})`,`var(${Ft})`)}}),F=!0;Pe[Q.name]&&(this.declaration.value={type:"Raw",value:Pe[Q.name]},F=!0)}}}),F&&(_.css=St(rt),_.changed=!0)}const I=new Map;for(const[_,F]of Object.entries(f)){let rt;_.startsWith("[data-anchor-polyfill=")&&(e=g[_])!=null&&e.length?rt=document.querySelectorAll(g[_].join(",")):rt=document.querySelectorAll(_);for(const[W,it]of Object.entries(F))for(const Y of it)for(const q of rt){const lt=yield bo(q,Y),Q=`--anchor-${Dt(12)}`;I.set(q,vt(at({},(n=I.get(q))!=null?n:{}),{[Y.uuid]:Q})),q.setAttribute("style",`${Y.uuid}: var(${Q}); ${(r=q.getAttribute("style"))!=null?r:""}`),b[_]=vt(at({},b[_]),{declarations:vt(at({},(i=b[_])==null?void 0:i.declarations),{[W]:[...(c=(l=(o=b[_])==null?void 0:o.declarations)==null?void 0:l[W])!=null?c:[],vt(at({},Y),{anchorEl:lt,targetEl:q,uuid:Q})]})})}}const z={el:document.createElement("link"),changed:!1,created:!0,css:""};t.push(z);for(const[_,F]of Object.entries(k)){const rt=document.querySelectorAll(_);for(const W of rt){const it=yield bo(W);for(const Y of F){const q=yield Zf(W,Y,it);z.css+=Kf(q.targetUUID,Y.selectorUUID),z.changed=!0,b[_]=vt(at({},b[_]),{declarations:vt(at({},(a=b[_])==null?void 0:a.declarations),{"position-area":[...(h=(u=(s=b[_])==null?void 0:s.declarations)==null?void 0:u["position-area"])!=null?h:[],q]})})}}}return{rules:b,inlineStyles:I,anchorScopes:Kt}})}const Fd=["as","blocking","crossorigin","disabled","fetchpriority","href","hreflang","integrity","referrerpolicy","rel","type"];function So(t,e,n=!1){const r=[];for(const{el:i,css:o,changed:l,created:c=!1}of t){const a={el:i,css:o,changed:!1};if(l){if(i.tagName.toLowerCase()==="style")i.innerHTML=o;else if(i instanceof HTMLLinkElement){const s=document.createElement("style");s.textContent=o;for(const u of i.getAttributeNames())if(!u.startsWith("on")&&!Fd.includes(u)){const h=i.getAttribute(u);h!==null&&s.setAttribute(u,h)}i.hasAttribute("href")&&s.setAttribute("data-original-href",i.getAttribute("href")),c?(s.setAttribute("data-generated-by-polyfill","true"),document.head.insertAdjacentElement("beforeend",s)):(i.insertAdjacentElement("beforebegin",s),i.remove()),a.el=s}else if(i.hasAttribute("data-has-inline-styles")){const s=i.getAttribute("data-has-inline-styles");if(s){const u=`[data-has-inline-styles="${s}"]{`;let h=o.slice(u.length,-1);const f=e==null?void 0:e.get(i);if(f)for(const[k,g]of Object.entries(f))h=`${k}: var(${g}); ${h}`;i.setAttribute("style",h)}}}n&&i.hasAttribute("data-has-inline-styles")&&i.removeAttribute("data-has-inline-styles"),r.push(a)}return r}const $d=vt(at({},xt),{_c:new Map}),zd=(t,e)=>{let n;switch(t){case"start":case"self-start":n=0;break;case"end":case"self-end":n=100;break;default:typeof t=="number"&&!Number.isNaN(t)&&(n=t)}if(n!==void 0)return e?100-n:n},Bd=(t,e)=>{let n;switch(t){case"block":case"self-block":n=e?"width":"height";break;case"inline":case"self-inline":n=e?"height":"width";break}return n},vo=t=>{switch(t){case"top":case"bottom":return"y";case"left":case"right":return"x"}return null},Wd=t=>{switch(t){case"x":return"width";case"y":return"height"}return null},Co=t=>At(t,"display")==="inline",xo=(t,e)=>(e==="x"?["border-left-width","border-right-width"]:["border-top-width","border-bottom-width"]).reduce((n,r)=>n+parseInt(At(t,r),10),0)||0,qe=(t,e)=>parseInt(At(t,`margin-${e}`),10)||0,Ud=t=>({top:qe(t,"top"),right:qe(t,"right"),bottom:qe(t,"bottom"),left:qe(t,"left")}),Mn=t=>V(C,[t],function*({targetEl:e,targetProperty:n,anchorRect:r,anchorSide:i,anchorSize:o,fallback:l=null}){var c;if(!((o||i!==void 0)&&e&&r))return l;if(o){if(!Ps(n))return l;let a;switch(o){case"width":case"height":a=o;break;default:{let s=!1;const u=At(e,"writing-mode");s=u.startsWith("vertical-")||u.startsWith("sideways-"),a=Bd(o,s)}}return a?`${r[a]}px`:l}if(i!==void 0){let a,s;const u=vo(n);if(!(Te(n)&&u&&(!Te(i)||u===vo(i))))return l;const h=["top","left"];switch(i){case"left":case"top":a=0;break;case"right":case"bottom":a=100;break;case"center":a=50;break;case"inside":a=h.includes(n)?0:100;break;case"outside":a=h.includes(n)?100:0;break;default:if(e){const g=(yield(c=xt.isRTL)==null?void 0:c.call(xt,e))||!1;a=zd(i,g)}}const f=typeof a=="number"&&!Number.isNaN(a),k=Wd(u);if(f&&k){(n==="bottom"||n==="right")&&(s=yield Pn(e));let g=r[u]+r[k]*(a/100);switch(n){case"bottom":{if(!s)break;let b=s.clientHeight;if(b===0&&Co(s)){const A=xo(s,u);b=s.offsetHeight-A}g=b-g;break}case"right":{if(!s)break;let b=s.clientWidth;if(b===0&&Co(s)){const A=xo(s,u);b=s.offsetWidth-A}g=b-g;break}}return`${g}px`}}return l}),Hd=t=>"wrapperEl"in t,Vd=t=>"uuid"in t;function qd(t,e=!1){return V(this,null,function*(){const n=document.documentElement;for(const[r,i]of Object.entries(t))for(const o of i){const l=o.anchorEl,c=o.targetEl;if(l&&c)if(Hd(o)){const a=o.wrapperEl,s=(u,h,f)=>V(this,null,function*(){return u===0?"0px":yield Mn({targetEl:a,targetProperty:h,anchorRect:f,anchorSide:u})});Ze(l,a,()=>V(this,null,function*(){const u=At(c,to);a.setAttribute(eo,u);const h=yield xt.getElementRects({reference:l,floating:a,strategy:"absolute"}),f=o.insets,k=yield s(f.block[0],"top",h.reference),g=yield s(f.block[1],"bottom",h.reference),b=yield s(f.inline[0],"left",h.reference),A=yield s(f.inline[1],"right",h.reference);n.style.setProperty(`${o.targetUUID}-top`,k||null),n.style.setProperty(`${o.targetUUID}-left`,b||null),n.style.setProperty(`${o.targetUUID}-right`,A||null),n.style.setProperty(`${o.targetUUID}-bottom`,g||null),n.style.setProperty(`${o.targetUUID}-justify-self`,o.alignments.inline),n.style.setProperty(`${o.targetUUID}-align-self`,o.alignments.block)}),{animationFrame:e})}else Ze(l,c,()=>V(this,null,function*(){const a=yield xt.getElementRects({reference:l,floating:c,strategy:"absolute"}),s=yield Mn({targetEl:c,targetProperty:r,anchorRect:a.reference,anchorSide:o.anchorSide,anchorSize:o.anchorSize,fallback:o.fallbackValue});n.style.setProperty(o.uuid,s)}),{animationFrame:e});else if(Vd(o)){const a=yield Mn({targetProperty:r,anchorSide:o.anchorSide,anchorSize:o.anchorSize,fallback:o.fallbackValue});n.style.setProperty(o.uuid,a)}}})}function wo(t,e){return V(this,null,function*(){const n=yield xt.getElementRects({reference:t,floating:t,strategy:"absolute"});return yield Go({x:t.offsetLeft,y:t.offsetTop,platform:$d,rects:n,elements:{floating:t,reference:e},strategy:"absolute"},{padding:Ud(t)})})}function Gd(t,e,n=!1){return V(this,null,function*(){if(!e.length)return;const r=document.querySelectorAll(t);for(const i of r){let o=!1;const l=yield Pn(i);Ze({},i,()=>V(this,null,function*(){if(o)return;o=!0,i.removeAttribute("data-anchor-polyfill");const c=yield wo(i,l);if(Object.values(c).every(a=>a<=0)){i.removeAttribute("data-anchor-polyfill-last-successful"),o=!1;return}for(const[a,{uuid:s}]of e.entries()){i.setAttribute("data-anchor-polyfill",s);const u=yield wo(i,l);if(Object.values(u).every(h=>h<=0)){i.setAttribute("data-anchor-polyfill-last-successful",s),o=!1;break}if(a===e.length-1){const h=i.getAttribute("data-anchor-polyfill-last-successful");h?i.setAttribute("data-anchor-polyfill",h):i.removeAttribute("data-anchor-polyfill"),o=!1;break}}}),{animationFrame:n,layoutShift:!1})}})}function Xd(t,e=!1){return V(this,null,function*(){var n,r;for(const i of Object.values(t))yield qd((n=i.declarations)!=null?n:{},e);for(const[i,o]of Object.entries(t))yield Gd(i,(r=o.fallbacks)!=null?r:[],e)})}function Qd(t={}){const e=typeof t=="boolean"?{useAnimationFrame:t}:t,n=e.useAnimationFrame===void 0?!!window.UPDATE_ANCHOR_ON_ANIMATION_FRAME:e.useAnimationFrame;return Array.isArray(e.elements)||(e.elements=void 0),Object.assign(e,{useAnimationFrame:n})}function Lo(t){return V(this,null,function*(){const e=Qd(window.ANCHOR_POSITIONING_POLYFILL_OPTIONS);let n=yield _f(e.elements,e.excludeInlineStyles);bf(n)&&(n=So(n));const{rules:r,inlineStyles:i}=yield Nd(n);return Object.values(r).length&&(So(n,i,!0),yield Xd(r,e.useAnimationFrame)),r})}document.readyState!=="complete"?window.addEventListener("load",()=>{Lo()}):Lo()});kp();export{Tp as A,Op as N,Sp as P,vp as a,wp as b,xp as c,Lp as g,Cp as s};
